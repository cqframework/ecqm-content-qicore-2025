{"resourceType":"Bundle","id":"CMS108FHIRVTEProphylaxis-bundle","type":"transaction","timestamp":"2025-07-15T07:41:13.365-06:00","entry":[{"resource":{"resourceType":"Library","id":"CMS108FHIRVTEProphylaxis","meta":{"profile":["http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary","http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-computablelibrary","http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary","http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-executablelibrary","http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library","http://hl7.org/fhir/uv/cql/StructureDefinition/elm-json-library","http://hl7.org/fhir/uv/cql/StructureDefinition/elm-xml-library"]},"language":"en","text":{"status":"extensions","div":"<div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"col-12\">\n  <table class=\"narrative-table\">\n    <tbody>\n<tr>\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">Knowledge Artifact Metadata</th>\n\n</tr>\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Name (machine-readable)</th>\n\n<td class=\"content-container\">CMS108FHIRVTEProphylaxis</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Title (human-readable)</th>\n\n<td class=\"content-container\">CMS108FHIRVTEProphylaxis</td>\n</tr>\n\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Status</th>\n\n<td class=\"content-container\">active</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Experimental</th>\n\n<td class=\"content-container\">false</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Description</th>\n\n<td class=\"content-container\">CMS108FHIRVTEProphylaxis</td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Library Steward</th>\n\n<td class=\"content-container\">The Joint Commission</td>\n</tr>\n\n\n\n\n\n\n\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library SDE\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/SupplementalDataElements|5.1.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/SupplementalDataElements|5.1.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library VTE\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/VTE|8.18.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/VTE|8.18.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library FHIRHelpers\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/FHIRHelpers|4.4.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/FHIRHelpers|4.4.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library CQMCommon\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/CQMCommon|4.1.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/CQMCommon|4.1.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library TJC\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/TJCOverall|8.23.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/TJCOverall|8.23.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Code system LOINC\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://loinc.org\n    <br/>\n    <em>Canonical URL</em>: <tt>http://loinc.org</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Low Dose Unfractionated Heparin for VTE Prophylaxis\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Subcutaneous route\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.223\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.223</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Low Molecular Weight Heparin for VTE Prophylaxis\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Injectable Factor Xa Inhibitor for VTE Prophylaxis\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Warfarin\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Rivaroxaban for VTE Prophylaxis\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Application of Intermittent Pneumatic Compression Devices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.65\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.65</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Application of Venous Foot Pumps\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.64\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.64</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Application of Graduated Compression Stockings\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.66\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.66</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set General or Neuraxial Anesthesia\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Atrial Fibrillation or Flutter\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Venous Thromboembolism\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Hip Replacement Surgery\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Knee Replacement Surgery\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Low Risk\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.400\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.400</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set INR\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Unfractionated Heparin\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Intravenous route\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.222\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.222</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Direct Thrombin Inhibitor\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Glycoprotein IIb IIIa Inhibitors\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Medical Reason For Not Providing Treatment\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Venous foot pumps\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Intermittent pneumatic compression devices\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Graduated compression stockings\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Patient Refusal\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Intensive Care Unit\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1029.206\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1029.206</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Mental Health Diagnoses\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.105.12.1004\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.105.12.1004</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Hemorrhagic Stroke\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Ischemic Stroke\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set General Surgery\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Gynecological Surgery\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Hip Fracture Surgery\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Intracranial Neurosurgery\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Urological Surgery\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Comfort Measures\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45</tt>\n    \n  </td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n<tr>\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">Library Metadata</th>\n\n</tr>\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Identifier</th>\n\n<td class=\"content-container\">org.hl7.fhir.r5.model.Identifier@35c33c05</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Version Number</th>\n\n<td class=\"content-container\">0.3.002</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Library Type</th>\n\n<td class=\"content-container\">[http://terminology.hl7.org/CodeSystem/library-type#logic-library]</td>\n</tr>\n\n\n\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, dosage, dosage.route, id, id.value, effective\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, id, id.value, effective\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, id, id.value, effective\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, id, id.value, effective\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, id, id.value, effective\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, effective, id, id.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, dosage, dosage.route, status, status.value, id, id.value, effective\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, id, id.value, effective\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, id, id.value, effective\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, status.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.65\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, status.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.64\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, status.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.66\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, status.value, performed\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, status.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, status.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, status.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Condition\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, verificationStatus, onset\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Condition\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, clinicalStatus, verificationStatus, onset\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-simple-observation\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, value, status, status.value, id, id.value, effective\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n  \n    <span class=\"tab-one\"><em>Code(s)</em>: \n    \n      \n      http://loinc.org#72136-5: 'Risk for venous thromboembolism'\n      \n    \n    </span>\n    <br/>\n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, value, status, status.value, id, id.value, issued, issued.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, id, id.value, statusReason, extension\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, id, id.value, statusReason, extension\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, id, id.value, statusReason, extension\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, id, id.value, statusReason, extension\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, id, id.value, statusReason, extension\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, intent, intent.value, id, id.value, reasonCode, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, intent, intent.value, id, id.value, reasonCode, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, intent, intent.value, id, id.value, reasonCode, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, intent, intent.value, id, id.value, reasonCode, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, intent, intent.value, id, id.value, reasonCode, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, id, id.value, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, id, id.value, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, id, id.value, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, id, id.value, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value, id, id.value, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication.reference.value, status, status.value, id, id.value, authoredOn, authoredOn.value\n    <br/>\n   \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Medication\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: id.value, code\n    <br/>\n   \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Task\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-taskrejected\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: focus, code, statusReason\n    <br/>\n   \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: ServiceRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicenotrequested\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, intent, intent.value, id, id.value, extension, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: ServiceRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicenotrequested\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, intent, intent.value, id, id.value, extension, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: ServiceRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicenotrequested\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, intent, intent.value, id, id.value, extension, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: ServiceRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, intent, intent.value, status, status.value, id, id.value, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: ServiceRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, intent, intent.value, status, status.value, id, id.value, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: ServiceRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, intent, intent.value, status, status.value, id, id.value, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: ServiceRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, intent, intent.value, status, status.value, id, id.value, authoredOn, authoredOn.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedurenotdone\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, extension, id, id.value, statusReason\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.65\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedurenotdone\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, extension, id, id.value, statusReason\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.64\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedurenotdone\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, extension, id, id.value, statusReason\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.66\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n\n\n  <tr>\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">Library Content</th>\n\n</tr>\n  \n    \n    <tr>\n      <th scope=\"row\" class=\"row-header\">CQL Content</th>\n      <td>\n        <pre style=\"border: none;\" class=\"content-container highlight language-cql\"><code class=\"language-cql\">library CMS108FHIRVTEProphylaxis version '0.3.002'\r\n\r\nusing QICore version '6.0.0'\r\n\r\ninclude CQMCommon version '4.1.000' called CQMCommon\r\ninclude QICoreCommon version '4.0.000' called QICoreCommon\r\ninclude FHIRHelpers version '4.4.000' called FHIRHelpers\r\ninclude SupplementalDataElements version '5.1.000' called SDE\r\ninclude TJCOverall version '8.23.000' called TJC\r\ninclude VTE version '8.18.000' called VTE\r\n\r\ncodesystem &quot;LOINC&quot;: 'http://loinc.org'\r\n\r\ncode &quot;Risk for venous thromboembolism&quot;: '72136-5' from &quot;LOINC&quot; display 'Risk for venous thromboembolism'\r\n\r\nvalueset &quot;Application of Graduated Compression Stockings&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.66'\r\nvalueset &quot;Application of Intermittent Pneumatic Compression Devices&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.65'\r\nvalueset &quot;Application of Venous Foot Pumps&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.64'\r\nvalueset &quot;Atrial Fibrillation or Flutter&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202'\r\nvalueset &quot;Comfort Measures&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45'\r\nvalueset &quot;Direct Thrombin Inhibitor&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205'\r\nvalueset &quot;General or Neuraxial Anesthesia&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743'\r\nvalueset &quot;General Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255'\r\nvalueset &quot;Glycoprotein IIb IIIa Inhibitors&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41'\r\nvalueset &quot;Graduated compression stockings&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256'\r\nvalueset &quot;Gynecological Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257'\r\nvalueset &quot;Hemorrhagic Stroke&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212'\r\nvalueset &quot;Ischemic Stroke&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247'\r\nvalueset &quot;Hip Fracture Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258'\r\nvalueset &quot;Hip Replacement Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259'\r\nvalueset &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211'\r\nvalueset &quot;INR&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213'\r\nvalueset &quot;Intensive Care Unit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1029.206'\r\nvalueset &quot;Intermittent pneumatic compression devices&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214'\r\nvalueset &quot;Intracranial Neurosurgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260'\r\nvalueset &quot;Intravenous route&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.222'\r\nvalueset &quot;Knee Replacement Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261'\r\nvalueset &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39'\r\nvalueset &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219'\r\nvalueset &quot;Low Risk&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.400'\r\nvalueset &quot;Medical Reason For Not Providing Treatment&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473'\r\nvalueset &quot;Mental Health Diagnoses&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.105.12.1004'\r\nvalueset &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134'\r\nvalueset &quot;Patient Refusal&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93'\r\nvalueset &quot;Rivaroxaban for VTE Prophylaxis&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50'\r\nvalueset &quot;Subcutaneous route&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.223'\r\nvalueset &quot;Unfractionated Heparin&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218'\r\nvalueset &quot;Urological Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272'\r\nvalueset &quot;Venous foot pumps&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230'\r\nvalueset &quot;Venous Thromboembolism&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279'\r\nvalueset &quot;Warfarin&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232'\r\n\r\nparameter &quot;Measurement Period&quot; Interval&lt;DateTime&gt;\r\n\r\ncontext Patient\r\n\r\ndefine &quot;SDE Ethnicity&quot;:\r\n  SDE.&quot;SDE Ethnicity&quot;\r\n\r\ndefine &quot;SDE Payer&quot;:\r\n  SDE.&quot;SDE Payer&quot;\r\n\r\ndefine &quot;SDE Race&quot;:\r\n  SDE.&quot;SDE Race&quot;\r\n\r\ndefine &quot;SDE Sex&quot;:\r\n  SDE.&quot;SDE Sex&quot;\r\n\r\ndefine &quot;Initial Population&quot;:\r\n  VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot;\r\n\r\ndefine &quot;Denominator&quot;:\r\n  &quot;Initial Population&quot;\r\n\r\ndefine &quot;Denominator Exclusions&quot;:\r\n  &quot;Encounter Less Than 2 Days&quot;\r\n    union &quot;Encounter With ICU Location Stay 1 Day Or More&quot;\r\n    union &quot;Encounter With Principal Diagnosis Of Mental Disorder Or Stroke&quot;\r\n    union &quot;Encounter With Principal Procedure Of Selected Surgery&quot;\r\n    union &quot;Encounter With Intervention Comfort Measures From Day Of Start Of Hospitalization To Day After Admission&quot;\r\n    union &quot;Encounter With Intervention Comfort Measures On Day Of Or Day After Procedure&quot;\r\n\r\ndefine &quot;Encounter Less Than 2 Days&quot;:\r\n  VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n    where QualifyingEncounter.period.lengthInDays ( ) &lt; 2\r\n\r\ndefine &quot;Encounter With ICU Location Stay 1 Day Or More&quot;:\r\n  VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n    where exists ( QualifyingEncounter.location Location\r\n        where Location.location.getLocation ( ).type in &quot;Intensive Care Unit&quot;\r\n          and Location.period.lengthInDays ( ) &gt;= 1\r\n          and Location.period starts on or after start of QualifyingEncounter.period\r\n          and date from ( start of Location.period ) during ( start of QualifyingEncounter.period ).CalendarDayOfOrDayAfter ( )\r\n    )\r\n\r\ndefine &quot;Encounter With Principal Diagnosis Of Mental Disorder Or Stroke&quot;:\r\n  VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n    where QualifyingEncounter.hasPrincipalDiagnosisOf ( &quot;Mental Health Diagnoses&quot; )\r\n      or QualifyingEncounter.hasPrincipalDiagnosisOf ( &quot;Hemorrhagic Stroke&quot; )\r\n      or QualifyingEncounter.hasPrincipalDiagnosisOf ( &quot;Ischemic Stroke&quot; )\r\n\r\ndefine &quot;Encounter With Principal Procedure Of Selected Surgery&quot;:\r\n  VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n    where QualifyingEncounter.hasPrincipalProcedureOf ( &quot;General Surgery&quot; )\r\n      or QualifyingEncounter.hasPrincipalProcedureOf ( &quot;Gynecological Surgery&quot; )\r\n      or QualifyingEncounter.hasPrincipalProcedureOf ( &quot;Hip Fracture Surgery&quot; )\r\n      or QualifyingEncounter.hasPrincipalProcedureOf ( &quot;Hip Replacement Surgery&quot; )\r\n      or QualifyingEncounter.hasPrincipalProcedureOf ( &quot;Intracranial Neurosurgery&quot; )\r\n      or QualifyingEncounter.hasPrincipalProcedureOf ( &quot;Knee Replacement Surgery&quot; )\r\n      or QualifyingEncounter.hasPrincipalProcedureOf ( &quot;Urological Surgery&quot; )\r\n\r\ndefine &quot;Intervention Comfort Measures&quot;:\r\n  ( [&quot;ServiceRequest&quot;: &quot;Comfort Measures&quot;] InterventionRequest\r\n      where InterventionRequest.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\r\n        and InterventionRequest.status in { 'active', 'on-hold', 'completed' }\r\n  )\r\n    union ( [&quot;Procedure&quot;: &quot;Comfort Measures&quot;] InterventionPerformed\r\n        where InterventionPerformed.status in { 'completed', 'in-progress' }\r\n    )\r\n\r\ndefine &quot;Encounter With Intervention Comfort Measures On Day Of Or Day After Procedure&quot;:\r\n  from\r\n    VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter,\r\n    [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n    &quot;Intervention Comfort Measures&quot; ComfortMeasure\r\n    where AnesthesiaProcedure.status = 'completed'\r\n      and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\r\n      and Coalesce(start of ComfortMeasure.performed.toInterval(), ComfortMeasure.authoredOn) during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\r\n    return QualifyingEncounter\r\n\r\ndefine &quot;Encounter With Intervention Comfort Measures From Day Of Start Of Hospitalization To Day After Admission&quot;:\r\n  VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n    with &quot;Intervention Comfort Measures&quot; ComfortMeasure\r\n      such that Coalesce(start of ComfortMeasure.performed.toInterval(), ComfortMeasure.authoredOn) during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )\r\n\r\ndefine &quot;Numerator&quot;:\r\n  &quot;Encounter With VTE Prophylaxis Received From Day Of Start Of Hospitalization To Day After Admission Or Procedure&quot;\r\n    union ( &quot;Encounter With Medication Oral Factor Xa Inhibitor Administered On Day Of Or Day After Admission Or Procedure&quot;\r\n        intersect ( &quot;Encounter With Prior Or Present Diagnosis Of Atrial Fibrillation Or Prior Diagnosis Of VTE&quot;\r\n            union &quot;Encounter With Prior Or Present Procedure Of Hip Or Knee Replacement Surgery&quot;\r\n        )\r\n    )\r\n    union &quot;Encounter With Low Risk For VTE Or Anticoagulant Administered&quot;\r\n    union &quot;Encounter With No VTE Prophylaxis Due To Medical Reason&quot;\r\n    union &quot;Encounter With No VTE Prophylaxis Due To Patient Refusal&quot;\r\n\r\ndefine &quot;Pharmacological or Mechanical VTE Prophylaxis Received&quot;:\r\n  ( [&quot;MedicationAdministration&quot;: medication in &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;] VTEMedication\r\n      where VTEMedication.status = 'completed'\r\n        and VTEMedication.dosage.route in &quot;Subcutaneous route&quot;\r\n  )\r\n    union ( [&quot;MedicationAdministration&quot;: medication in &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;] LMWH\r\n        where LMWH.status = 'completed'\r\n    )\r\n    union ( [&quot;MedicationAdministration&quot;: medication in &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;] FactorXa\r\n        where FactorXa.status = 'completed'\r\n    )\r\n    union ( [&quot;MedicationAdministration&quot;: medication in &quot;Warfarin&quot;] WarfarinAdm\r\n        where WarfarinAdm.status = 'completed'\r\n    )\r\n    union ( [&quot;MedicationAdministration&quot;: medication in &quot;Rivaroxaban for VTE Prophylaxis&quot;] Rivaroxaban\r\n        where Rivaroxaban.status = 'completed'\r\n    )\r\n    union ( ( [&quot;Procedure&quot;: &quot;Application of Intermittent Pneumatic Compression Devices&quot;]\r\n        union [&quot;Procedure&quot;: &quot;Application of Venous Foot Pumps&quot;]\r\n        union [&quot;Procedure&quot;: &quot;Application of Graduated Compression Stockings&quot;] ) DeviceApplied\r\n        where DeviceApplied.status = 'completed'\r\n    )\r\n\r\ndefine &quot;Encounter With VTE Prophylaxis Received From Day Of Start Of Hospitalization To Day After Admission Or Procedure&quot;:\r\n  ( from\r\n      VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter,\r\n      &quot;Pharmacological or Mechanical VTE Prophylaxis Received&quot; VTEProphylaxis\r\n      where Coalesce(VTEProphylaxis.effective.toInterval(), VTEProphylaxis.performed.toInterval()) starts during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )\r\n      return QualifyingEncounter\r\n  )\r\n    union ( from\r\n        VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter,\r\n        [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n        &quot;Pharmacological or Mechanical VTE Prophylaxis Received&quot; VTEProphylaxis\r\n        where AnesthesiaProcedure.status = 'completed'\r\n          and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\r\n          and Coalesce(VTEProphylaxis.effective.toInterval(), VTEProphylaxis.performed.toInterval()) starts during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\r\n        return QualifyingEncounter\r\n    )\r\n\r\ndefine &quot;Encounter With Medication Oral Factor Xa Inhibitor Administered On Day Of Or Day After Admission Or Procedure&quot;:\r\n  ( from\r\n      VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter,\r\n      [&quot;MedicationAdministration&quot;: medication in &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;] FactorXaMedication\r\n      where FactorXaMedication.status = 'completed'\r\n        and FactorXaMedication.effective.toInterval ( ) starts during day of ( start of QualifyingEncounter.period ).CalendarDayOfOrDayAfter ( )\r\n      return QualifyingEncounter\r\n  )\r\n    union ( from\r\n        VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter,\r\n        [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n        [&quot;MedicationAdministration&quot;: medication in &quot;Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment&quot;] FactorXaMedication\r\n        where FactorXaMedication.status = 'completed'\r\n          and AnesthesiaProcedure.status = 'completed'\r\n          and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\r\n          and FactorXaMedication.effective.toInterval ( ) starts during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\r\n        return QualifyingEncounter\r\n    )\r\n\r\ndefine &quot;Encounter With Prior Or Present Diagnosis Of Atrial Fibrillation Or Prior Diagnosis Of VTE&quot;:\r\n  ( VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n      with [&quot;ConditionProblemsHealthConcerns&quot;: &quot;Atrial Fibrillation or Flutter&quot;] AtrialFibrillation\r\n        such that // CQMCOmmon new function isVerified() will be used to replace the following verificationStatus logic\r\n        AtrialFibrillation.verificationStatus is not null implies ( AtrialFibrillation.verificationStatus !~ QICoreCommon.&quot;refuted&quot;\r\n            and AtrialFibrillation.verificationStatus !~ QICoreCommon.&quot;entered-in-error&quot;\r\n        )\r\n          and AtrialFibrillation.onset.toInterval ( ) starts on or before end of QualifyingEncounter.period\r\n  )\r\n    union ( VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n        where QualifyingEncounter.hasEncDiagnosisOf ( &quot;Atrial Fibrillation or Flutter&quot; )\r\n    )\r\n    union ( VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n        with [&quot;ConditionProblemsHealthConcerns&quot;: &quot;Venous Thromboembolism&quot;] VTEDiagnosis\r\n          such that ( VTEDiagnosis.clinicalStatus ~ QICoreCommon.&quot;inactive&quot;\r\n              or VTEDiagnosis.clinicalStatus ~ QICoreCommon.&quot;remission&quot;\r\n              or VTEDiagnosis.clinicalStatus ~ QICoreCommon.&quot;resolved&quot;\r\n          )// CQMCOmmon new function isVerified() will be used to replace the following verificationStatus logic\r\n            \r\n            and VTEDiagnosis.verificationStatus is not null implies ( VTEDiagnosis.verificationStatus !~ QICoreCommon.&quot;refuted&quot;\r\n              and VTEDiagnosis.verificationStatus !~ QICoreCommon.&quot;entered-in-error&quot;\r\n          )\r\n            and VTEDiagnosis.onset.toInterval ( ) before start of QualifyingEncounter.period\r\n    )\r\n\r\ndefine &quot;Encounter With Prior Or Present Procedure Of Hip Or Knee Replacement Surgery&quot;:\r\n  VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n    with ( [&quot;Procedure&quot;: &quot;Hip Replacement Surgery&quot;]\r\n      union [&quot;Procedure&quot;: &quot;Knee Replacement Surgery&quot;] ) HipKneeProcedure\r\n      such that HipKneeProcedure.status = 'completed'\r\n        and HipKneeProcedure.performed.toInterval ( ) starts on or before end of QualifyingEncounter.period\r\n\r\ndefine &quot;Encounter With Low Risk For VTE Or Anticoagulant Administered&quot;:\r\n  &quot;Low Risk For VTE Or Anticoagulant Administered From Day Of Start Of Hospitalization To Day After Admission&quot;\r\n    union &quot;Low Risk For VTE Or Anticoagulant Administered On Day Of Or Day After Procedure&quot;\r\n\r\ndefine &quot;Low Risk Indicator For VTE&quot;:\r\n  ( [&quot;SimpleObservation&quot;: &quot;Risk for venous thromboembolism&quot;] VTERiskAssessment\r\n      where VTERiskAssessment.value as Concept in &quot;Low Risk&quot;\r\n        and VTERiskAssessment.status in { 'final', 'amended', 'corrected' }\r\n      return {\r\n        id: VTERiskAssessment.id,\r\n        LowRiskDatetime: VTERiskAssessment.effective.earliest ( )\r\n      }\r\n  )\r\n    union ( [&quot;LaboratoryResultObservation&quot;: &quot;INR&quot;] INRLabTest\r\n        where INRLabTest.value as Quantity &gt; 3.0\r\n          and INRLabTest.status in { 'final', 'amended', 'corrected' }\r\n        return {\r\n          id: INRLabTest.id,\r\n          LowRiskDatetime: INRLabTest.issued\r\n        }\r\n    )\r\n    union ( ( ( [&quot;MedicationAdministration&quot;: medication in &quot;Unfractionated Heparin&quot;] UnfractionatedHeparin\r\n          where UnfractionatedHeparin.dosage.route in &quot;Intravenous route&quot;\r\n      )\r\n        union [&quot;MedicationAdministration&quot;: medication in &quot;Direct Thrombin Inhibitor&quot;]\r\n        union [&quot;MedicationAdministration&quot;: medication in &quot;Glycoprotein IIb IIIa Inhibitors&quot;] ) AnticoagulantMedication\r\n        where AnticoagulantMedication.status = 'completed'\r\n        return {\r\n          id: AnticoagulantMedication.id,\r\n          LowRiskDatetime: start of AnticoagulantMedication.effective.toInterval ( )\r\n        }\r\n    )\r\n\r\ndefine &quot;Low Risk For VTE Or Anticoagulant Administered From Day Of Start Of Hospitalization To Day After Admission&quot;:\r\n  VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n    with &quot;Low Risk Indicator For VTE&quot; LowRiskForVTE\r\n      such that LowRiskForVTE.LowRiskDatetime during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )\r\n\r\ndefine &quot;Low Risk For VTE Or Anticoagulant Administered On Day Of Or Day After Procedure&quot;:\r\n  from\r\n    VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter,\r\n    [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n    &quot;Low Risk Indicator For VTE&quot; LowRiskForVTE\r\n    where AnesthesiaProcedure.status = 'completed'\r\n      and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\r\n      and LowRiskForVTE.LowRiskDatetime during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\r\n    return QualifyingEncounter\r\n\r\ndefine &quot;Encounter With No VTE Prophylaxis Due To Medical Reason&quot;:\r\n  ( &quot;No VTE Prophylaxis Medication Due To Medical Reason From Day Of Start Of Hospitalization To Day After Admission&quot;\r\n      intersect &quot;No Mechanical VTE Prophylaxis Due To Medical Reason From Day Of Start Of Hospitalization To Day After Admission&quot;\r\n  )\r\n    union ( &quot;No VTE Prophylaxis Medication Due To Medical Reason On Day Of Or Day After Procedure&quot;\r\n        intersect &quot;No Mechanical VTE Prophylaxis Due To Medical Reason On Day Of Or Day After Procedure&quot;\r\n    )\r\n\r\ndefine &quot;No VTE Prophylaxis Medication Due To Medical Reason From Day Of Start Of Hospitalization To Day After Admission&quot;:\r\n  VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n    with &quot;No VTE Prophylaxis Medication Administered Or Ordered&quot; NoVTEMedication\r\n      such that NoVTEMedication.medicationStatusReason in &quot;Medical Reason For Not Providing Treatment&quot;\r\n        and NoVTEMedication.authoredOn during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )\r\n\r\ndefine &quot;No VTE Prophylaxis Medication Due To Medical Reason On Day Of Or Day After Procedure&quot;:\r\n  from\r\n    VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter,\r\n    [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n    &quot;No VTE Prophylaxis Medication Administered Or Ordered&quot; NoVTEMedication\r\n    where NoVTEMedication.medicationStatusReason in &quot;Medical Reason For Not Providing Treatment&quot;\r\n      and AnesthesiaProcedure.status = 'completed'\r\n      and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\r\n      and NoVTEMedication.authoredOn during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\r\n    return QualifyingEncounter\r\n\r\ndefine &quot;No VTE Prophylaxis Medication Administered Or Ordered&quot;:\r\n  ( ( [MedicationAdministrationNotDone: &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;]\r\n      union [MedicationAdministrationNotDone: &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;]\r\n      union [MedicationAdministrationNotDone: &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;]\r\n      union [MedicationAdministrationNotDone: &quot;Warfarin&quot;]\r\n      union [MedicationAdministrationNotDone: &quot;Rivaroxaban for VTE Prophylaxis&quot;] ) NoMedicationAdm\r\n      return {\r\n        id: NoMedicationAdm.id,\r\n        medicationStatusReason: NoMedicationAdm.statusReason,\r\n        authoredOn: NoMedicationAdm.recorded\r\n      }\r\n  )\r\n    union ( ( [&quot;MedicationNotRequested&quot;: &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;]\r\n        union [&quot;MedicationNotRequested&quot;: &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;]\r\n        union [&quot;MedicationNotRequested&quot;: &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;]\r\n        union [&quot;MedicationNotRequested&quot;: &quot;Warfarin&quot;]\r\n        union [&quot;MedicationNotRequested&quot;: &quot;Rivaroxaban for VTE Prophylaxis&quot;] ) NoMedicationOrder\r\n        where NoMedicationOrder.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\r\n        return {\r\n          id: NoMedicationOrder.id,\r\n          medicationStatusReason: NoMedicationOrder.reasonCode,\r\n          authoredOn: NoMedicationOrder.authoredOn\r\n        }\r\n    )\r\n    union ( from\r\n        ( [&quot;MedicationRequest&quot;: &quot;Low Dose Unfractionated Heparin for VTE Prophylaxis&quot;]\r\n          union [&quot;MedicationRequest&quot;: &quot;Low Molecular Weight Heparin for VTE Prophylaxis&quot;]\r\n          union [&quot;MedicationRequest&quot;: &quot;Injectable Factor Xa Inhibitor for VTE Prophylaxis&quot;]\r\n          union [&quot;MedicationRequest&quot;: &quot;Warfarin&quot;]\r\n          union [&quot;MedicationRequest&quot;: &quot;Rivaroxaban for VTE Prophylaxis&quot;] ) MedicationOrderReject,\r\n        [TaskRejected] T\r\n        where T.focus.references ( MedicationOrderReject )\r\n          and T.code ~ QICoreCommon.&quot;Fulfill&quot;\r\n          and MedicationOrderReject.status = 'active'\r\n        return {\r\n          id: MedicationOrderReject.id,\r\n          medicationStatusReason: { T.statusReason },\r\n          authoredOn: MedicationOrderReject.authoredOn\r\n        }\r\n    )\r\n\r\ndefine &quot;No Mechanical VTE Prophylaxis Due To Medical Reason From Day Of Start Of Hospitalization To Day After Admission&quot;:\r\n  VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n    with &quot;No Mechanical VTE Prophylaxis Performed Or Ordered&quot; NoVTEDevice\r\n      such that NoVTEDevice.requestStatusReason in &quot;Medical Reason For Not Providing Treatment&quot;\r\n        and NoVTEDevice.authoredOn during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )\r\n\r\ndefine &quot;No Mechanical VTE Prophylaxis Due To Medical Reason On Day Of Or Day After Procedure&quot;:\r\n  from\r\n    VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter,\r\n    [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n    &quot;No Mechanical VTE Prophylaxis Performed Or Ordered&quot; NoVTEDevice\r\n    where NoVTEDevice.requestStatusReason in &quot;Medical Reason For Not Providing Treatment&quot;\r\n      and AnesthesiaProcedure.status = 'completed'\r\n      and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\r\n      and NoVTEDevice.authoredOn during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\r\n    return QualifyingEncounter\r\n\r\ndefine &quot;No Mechanical VTE Prophylaxis Performed Or Ordered&quot;:\r\n  ( ( [ServiceNotRequested: &quot;Venous foot pumps&quot;]\r\n      union [ServiceNotRequested: &quot;Intermittent pneumatic compression devices&quot;]\r\n      union [ServiceNotRequested: &quot;Graduated compression stockings&quot;] ) DeviceNotOrder\r\n      where DeviceNotOrder.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\r\n      return {\r\n        id: DeviceNotOrder.id,\r\n        requestStatusReason: DeviceNotOrder.reasonRefused,\r\n        authoredOn: DeviceNotOrder.authoredOn\r\n      }\r\n  )\r\n    union ( from\r\n        ( [ServiceRequest: &quot;Venous foot pumps&quot;]\r\n          union [ServiceRequest: &quot;Intermittent pneumatic compression devices&quot;]\r\n          union [ServiceRequest: &quot;Graduated compression stockings&quot;] ) DeviceOrderReject,\r\n        [TaskRejected] T\r\n        where DeviceOrderReject.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\r\n          and DeviceOrderReject.status = 'active'\r\n          and T.focus.references ( DeviceOrderReject )\r\n          and T.code ~ QICoreCommon.&quot;Fulfill&quot;\r\n        return {\r\n          id: DeviceOrderReject.id,\r\n          requestStatusReason: T.statusReason,\r\n          authoredOn: DeviceOrderReject.authoredOn\r\n        }\r\n    )\r\n    union ( ( [ProcedureNotDone: &quot;Application of Intermittent Pneumatic Compression Devices&quot;]\r\n        union [ProcedureNotDone: &quot;Application of Venous Foot Pumps&quot;]\r\n        union [ProcedureNotDone: &quot;Application of Graduated Compression Stockings&quot;] ) DeviceNotApplied\r\n        let DeviceNotDoneTiming: DeviceNotApplied.recorded\r\n        return {\r\n          id: DeviceNotApplied.id,\r\n          requestStatusReason: DeviceNotApplied.statusReason,\r\n          authoredOn: DeviceNotDoneTiming\r\n        }\r\n    )\r\n\r\ndefine &quot;Encounter With No VTE Prophylaxis Due To Patient Refusal&quot;:\r\n  &quot;No VTE Prophylaxis Due To Patient Refusal From Day Of Start Of Hospitalization To Day After Admission&quot;\r\n    union &quot;No VTE Prophylaxis Due To Patient Refusal On Day Of Or Day After Procedure&quot;\r\n\r\ndefine &quot;No VTE Prophylaxis Due To Patient Refusal From Day Of Start Of Hospitalization To Day After Admission&quot;:\r\n  VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter\r\n    with &quot;No Mechanical Or Pharmacological VTE Prophylaxis Due To Patient Refusal&quot; PatientRefusal\r\n      such that PatientRefusal.authoredOn during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )\r\n\r\ndefine &quot;No Mechanical Or Pharmacological VTE Prophylaxis Due To Patient Refusal&quot;:\r\n  ( &quot;No VTE Prophylaxis Medication Administered Or Ordered&quot; NoVTEMedication\r\n      where exists ( NoVTEMedication.medicationStatusReason MedRsn\r\n          where MedRsn in &quot;Patient Refusal&quot;\r\n      )\r\n  )\r\n    union ( &quot;No Mechanical VTE Prophylaxis Performed Or Ordered&quot; NoVTEDevice\r\n        where NoVTEDevice.requestStatusReason in &quot;Patient Refusal&quot;\r\n    )\r\n\r\ndefine &quot;No VTE Prophylaxis Due To Patient Refusal On Day Of Or Day After Procedure&quot;:\r\n  from\r\n    VTE.&quot;Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions&quot; QualifyingEncounter,\r\n    [&quot;Procedure&quot;: &quot;General or Neuraxial Anesthesia&quot;] AnesthesiaProcedure,\r\n    &quot;No Mechanical Or Pharmacological VTE Prophylaxis Due To Patient Refusal&quot; PatientRefusal\r\n    where AnesthesiaProcedure.status = 'completed'\r\n      and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\r\n      and PatientRefusal.authoredOn during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\r\n    return QualifyingEncounter\r\n\r\ndefine fluent function &quot;fromDayOfStartOfHospitalizationToDayAfterAdmission&quot;(Encounter Encounter):\r\n  Interval[date from ( start of Encounter.hospitalizationWithObservation ( ) ), date from ( start of Encounter.period ) + 1 days]</code></pre>\n      </td>\n    </tr>\n    \n    \n    \n  \n\n<tr>\n  <th colspan=\"2\" scope=\"row\" class=\"row-header\">Generated using version 0.4.7 of the sample-content-ig Liquid templates</th>\n</tr>\n\n    </tbody>\n  </table>\n</div>"},"contained":[{"resourceType":"Parameters","id":"options","parameter":[{"name":"translatorVersion","valueString":"3.25.0"},{"name":"option","valueString":"EnableAnnotations"},{"name":"option","valueString":"EnableLocators"},{"name":"option","valueString":"DisableListDemotion"},{"name":"option","valueString":"DisableListPromotion"},{"name":"format","valueString":"JSON"},{"name":"format","valueString":"XML"},{"name":"analyzeDataRequirements","valueBoolean":false},{"name":"collapseDataRequirements","valueBoolean":false},{"name":"compatibilityLevel","valueString":"1.5"},{"name":"enableCqlOnly","valueBoolean":false},{"name":"errorLevel","valueString":"Info"},{"name":"signatureLevel","valueString":"Overloads"},{"name":"validateUnits","valueBoolean":true},{"name":"verifyOnly","valueBoolean":false}]}],"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode","valueCoding":{"system":"http://loinc.org","code":"72136-5","display":"Risk for venous thromboembolism"}},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions","valueReference":{"reference":"#options"}}],"url":"https://madie.cms.gov/Library/CMS108FHIRVTEProphylaxis","identifier":[{"use":"official","system":"https://madie.cms.gov/login","value":"CMS108FHIRVTEProphylaxis"}],"version":"0.3.002","name":"CMS108FHIRVTEProphylaxis","title":"CMS108FHIRVTEProphylaxis","status":"active","experimental":false,"type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/library-type","code":"logic-library"}]},"date":"2025-06-23T15:35:01+00:00","publisher":"The Joint Commission","description":"CMS108FHIRVTEProphylaxis","content":[{"contentType":"text/cql","data":"bGlicmFyeSBDTVMxMDhGSElSVlRFUHJvcGh5bGF4aXMgdmVyc2lvbiAnMC4zLjAwMicKCnVzaW5nIFFJQ29yZSB2ZXJzaW9uICc2LjAuMCcKCmluY2x1ZGUgQ1FNQ29tbW9uIHZlcnNpb24gJzQuMS4wMDAnIGNhbGxlZCBDUU1Db21tb24KaW5jbHVkZSBRSUNvcmVDb21tb24gdmVyc2lvbiAnNC4wLjAwMCcgY2FsbGVkIFFJQ29yZUNvbW1vbgppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuNC4wMDAnIGNhbGxlZCBGSElSSGVscGVycwppbmNsdWRlIFN1cHBsZW1lbnRhbERhdGFFbGVtZW50cyB2ZXJzaW9uICc1LjEuMDAwJyBjYWxsZWQgU0RFCmluY2x1ZGUgVEpDT3ZlcmFsbCB2ZXJzaW9uICc4LjIzLjAwMCcgY2FsbGVkIFRKQwppbmNsdWRlIFZURSB2ZXJzaW9uICc4LjE4LjAwMCcgY2FsbGVkIFZURQoKY29kZXN5c3RlbSAiTE9JTkMiOiAnaHR0cDovL2xvaW5jLm9yZycKCmNvZGUgIlJpc2sgZm9yIHZlbm91cyB0aHJvbWJvZW1ib2xpc20iOiAnNzIxMzYtNScgZnJvbSAiTE9JTkMiIGRpc3BsYXkgJ1Jpc2sgZm9yIHZlbm91cyB0aHJvbWJvZW1ib2xpc20nCgp2YWx1ZXNldCAiQXBwbGljYXRpb24gb2YgR3JhZHVhdGVkIENvbXByZXNzaW9uIFN0b2NraW5ncyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExMTAuNjYnCnZhbHVlc2V0ICJBcHBsaWNhdGlvbiBvZiBJbnRlcm1pdHRlbnQgUG5ldW1hdGljIENvbXByZXNzaW9uIERldmljZXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTEwLjY1Jwp2YWx1ZXNldCAiQXBwbGljYXRpb24gb2YgVmVub3VzIEZvb3QgUHVtcHMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTEwLjY0Jwp2YWx1ZXNldCAiQXRyaWFsIEZpYnJpbGxhdGlvbiBvciBGbHV0dGVyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMDInCnZhbHVlc2V0ICJDb21mb3J0IE1lYXN1cmVzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8xLjMuNi4xLjQuMS4zMzg5NS4xLjMuMC40NScKdmFsdWVzZXQgIkRpcmVjdCBUaHJvbWJpbiBJbmhpYml0b3IiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjIwNScKdmFsdWVzZXQgIkdlbmVyYWwgb3IgTmV1cmF4aWFsIEFuZXN0aGVzaWEiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNjY2LjUuMTc0MycKdmFsdWVzZXQgIkdlbmVyYWwgU3VyZ2VyeSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjU1Jwp2YWx1ZXNldCAiR2x5Y29wcm90ZWluIElJYiBJSUlhIEluaGliaXRvcnMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMDQ1LjQxJwp2YWx1ZXNldCAiR3JhZHVhdGVkIGNvbXByZXNzaW9uIHN0b2NraW5ncyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjU2Jwp2YWx1ZXNldCAiR3luZWNvbG9naWNhbCBTdXJnZXJ5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yNTcnCnZhbHVlc2V0ICJIZW1vcnJoYWdpYyBTdHJva2UiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjIxMicKdmFsdWVzZXQgIklzY2hlbWljIFN0cm9rZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjQ3Jwp2YWx1ZXNldCAiSGlwIEZyYWN0dXJlIFN1cmdlcnkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjI1OCcKdmFsdWVzZXQgIkhpcCBSZXBsYWNlbWVudCBTdXJnZXJ5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yNTknCnZhbHVlc2V0ICJJbmplY3RhYmxlIEZhY3RvciBYYSBJbmhpYml0b3IgZm9yIFZURSBQcm9waHlsYXhpcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjExJwp2YWx1ZXNldCAiSU5SIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMTMnCnZhbHVlc2V0ICJJbnRlbnNpdmUgQ2FyZSBVbml0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTAyOS4yMDYnCnZhbHVlc2V0ICJJbnRlcm1pdHRlbnQgcG5ldW1hdGljIGNvbXByZXNzaW9uIGRldmljZXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjIxNCcKdmFsdWVzZXQgIkludHJhY3JhbmlhbCBOZXVyb3N1cmdlcnkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjI2MCcKdmFsdWVzZXQgIkludHJhdmVub3VzIHJvdXRlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMjInCnZhbHVlc2V0ICJLbmVlIFJlcGxhY2VtZW50IFN1cmdlcnkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjI2MScKdmFsdWVzZXQgIkxvdyBEb3NlIFVuZnJhY3Rpb25hdGVkIEhlcGFyaW4gZm9yIFZURSBQcm9waHlsYXhpcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEwNDUuMzknCnZhbHVlc2V0ICJMb3cgTW9sZWN1bGFyIFdlaWdodCBIZXBhcmluIGZvciBWVEUgUHJvcGh5bGF4aXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjIxOScKdmFsdWVzZXQgIkxvdyBSaXNrIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS40MDAnCnZhbHVlc2V0ICJNZWRpY2FsIFJlYXNvbiBGb3IgTm90IFByb3ZpZGluZyBUcmVhdG1lbnQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjQ3MycKdmFsdWVzZXQgIk1lbnRhbCBIZWFsdGggRGlhZ25vc2VzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwNS4xMi4xMDA0Jwp2YWx1ZXNldCAiT3JhbCBGYWN0b3IgWGEgSW5oaWJpdG9yIGZvciBWVEUgUHJvcGh5bGF4aXMgb3IgVlRFIFRyZWF0bWVudCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMTM0Jwp2YWx1ZXNldCAiUGF0aWVudCBSZWZ1c2FsIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS45MycKdmFsdWVzZXQgIlJpdmFyb3hhYmFuIGZvciBWVEUgUHJvcGh5bGF4aXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMTEwLjUwJwp2YWx1ZXNldCAiU3ViY3V0YW5lb3VzIHJvdXRlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMjMnCnZhbHVlc2V0ICJVbmZyYWN0aW9uYXRlZCBIZXBhcmluIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMTgnCnZhbHVlc2V0ICJVcm9sb2dpY2FsIFN1cmdlcnkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjI3MicKdmFsdWVzZXQgIlZlbm91cyBmb290IHB1bXBzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yMzAnCnZhbHVlc2V0ICJWZW5vdXMgVGhyb21ib2VtYm9saXNtIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS4yNzknCnZhbHVlc2V0ICJXYXJmYXJpbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjMyJwoKcGFyYW1ldGVyICJNZWFzdXJlbWVudCBQZXJpb2QiIEludGVydmFsPERhdGVUaW1lPgoKY29udGV4dCBQYXRpZW50CgpkZWZpbmUgIlNERSBFdGhuaWNpdHkiOgogIFNERS4iU0RFIEV0aG5pY2l0eSIKCmRlZmluZSAiU0RFIFBheWVyIjoKICBTREUuIlNERSBQYXllciIKCmRlZmluZSAiU0RFIFJhY2UiOgogIFNERS4iU0RFIFJhY2UiCgpkZWZpbmUgIlNERSBTZXgiOgogIFNERS4iU0RFIFNleCIKCmRlZmluZSAiSW5pdGlhbCBQb3B1bGF0aW9uIjoKICBWVEUuIkVuY291bnRlciBXaXRoIEFnZSBSYW5nZSBBbmQgV2l0aG91dCBWVEUgRGlhZ25vc2lzIE9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiCgpkZWZpbmUgIkRlbm9taW5hdG9yIjoKICAiSW5pdGlhbCBQb3B1bGF0aW9uIgoKZGVmaW5lICJEZW5vbWluYXRvciBFeGNsdXNpb25zIjoKICAiRW5jb3VudGVyIExlc3MgVGhhbiAyIERheXMiCiAgICB1bmlvbiAiRW5jb3VudGVyIFdpdGggSUNVIExvY2F0aW9uIFN0YXkgMSBEYXkgT3IgTW9yZSIKICAgIHVuaW9uICJFbmNvdW50ZXIgV2l0aCBQcmluY2lwYWwgRGlhZ25vc2lzIE9mIE1lbnRhbCBEaXNvcmRlciBPciBTdHJva2UiCiAgICB1bmlvbiAiRW5jb3VudGVyIFdpdGggUHJpbmNpcGFsIFByb2NlZHVyZSBPZiBTZWxlY3RlZCBTdXJnZXJ5IgogICAgdW5pb24gIkVuY291bnRlciBXaXRoIEludGVydmVudGlvbiBDb21mb3J0IE1lYXN1cmVzIEZyb20gRGF5IE9mIFN0YXJ0IE9mIEhvc3BpdGFsaXphdGlvbiBUbyBEYXkgQWZ0ZXIgQWRtaXNzaW9uIgogICAgdW5pb24gIkVuY291bnRlciBXaXRoIEludGVydmVudGlvbiBDb21mb3J0IE1lYXN1cmVzIE9uIERheSBPZiBPciBEYXkgQWZ0ZXIgUHJvY2VkdXJlIgoKZGVmaW5lICJFbmNvdW50ZXIgTGVzcyBUaGFuIDIgRGF5cyI6CiAgVlRFLiJFbmNvdW50ZXIgV2l0aCBBZ2UgUmFuZ2UgQW5kIFdpdGhvdXQgVlRFIERpYWdub3NpcyBPciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICB3aGVyZSBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZC5sZW5ndGhJbkRheXMgKCApIDwgMgoKZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBJQ1UgTG9jYXRpb24gU3RheSAxIERheSBPciBNb3JlIjoKICBWVEUuIkVuY291bnRlciBXaXRoIEFnZSBSYW5nZSBBbmQgV2l0aG91dCBWVEUgRGlhZ25vc2lzIE9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgIHdoZXJlIGV4aXN0cyAoIFF1YWxpZnlpbmdFbmNvdW50ZXIubG9jYXRpb24gTG9jYXRpb24KICAgICAgICB3aGVyZSBMb2NhdGlvbi5sb2NhdGlvbi5nZXRMb2NhdGlvbiAoICkudHlwZSBpbiAiSW50ZW5zaXZlIENhcmUgVW5pdCIKICAgICAgICAgIGFuZCBMb2NhdGlvbi5wZXJpb2QubGVuZ3RoSW5EYXlzICggKSA+PSAxCiAgICAgICAgICBhbmQgTG9jYXRpb24ucGVyaW9kIHN0YXJ0cyBvbiBvciBhZnRlciBzdGFydCBvZiBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZAogICAgICAgICAgYW5kIGRhdGUgZnJvbSAoIHN0YXJ0IG9mIExvY2F0aW9uLnBlcmlvZCApIGR1cmluZyAoIHN0YXJ0IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kICkuQ2FsZW5kYXJEYXlPZk9yRGF5QWZ0ZXIgKCApCiAgICApCgpkZWZpbmUgIkVuY291bnRlciBXaXRoIFByaW5jaXBhbCBEaWFnbm9zaXMgT2YgTWVudGFsIERpc29yZGVyIE9yIFN0cm9rZSI6CiAgVlRFLiJFbmNvdW50ZXIgV2l0aCBBZ2UgUmFuZ2UgQW5kIFdpdGhvdXQgVlRFIERpYWdub3NpcyBPciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICB3aGVyZSBRdWFsaWZ5aW5nRW5jb3VudGVyLmhhc1ByaW5jaXBhbERpYWdub3Npc09mICggIk1lbnRhbCBIZWFsdGggRGlhZ25vc2VzIiApCiAgICAgIG9yIFF1YWxpZnlpbmdFbmNvdW50ZXIuaGFzUHJpbmNpcGFsRGlhZ25vc2lzT2YgKCAiSGVtb3JyaGFnaWMgU3Ryb2tlIiApCiAgICAgIG9yIFF1YWxpZnlpbmdFbmNvdW50ZXIuaGFzUHJpbmNpcGFsRGlhZ25vc2lzT2YgKCAiSXNjaGVtaWMgU3Ryb2tlIiApCgpkZWZpbmUgIkVuY291bnRlciBXaXRoIFByaW5jaXBhbCBQcm9jZWR1cmUgT2YgU2VsZWN0ZWQgU3VyZ2VyeSI6CiAgVlRFLiJFbmNvdW50ZXIgV2l0aCBBZ2UgUmFuZ2UgQW5kIFdpdGhvdXQgVlRFIERpYWdub3NpcyBPciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICB3aGVyZSBRdWFsaWZ5aW5nRW5jb3VudGVyLmhhc1ByaW5jaXBhbFByb2NlZHVyZU9mICggIkdlbmVyYWwgU3VyZ2VyeSIgKQogICAgICBvciBRdWFsaWZ5aW5nRW5jb3VudGVyLmhhc1ByaW5jaXBhbFByb2NlZHVyZU9mICggIkd5bmVjb2xvZ2ljYWwgU3VyZ2VyeSIgKQogICAgICBvciBRdWFsaWZ5aW5nRW5jb3VudGVyLmhhc1ByaW5jaXBhbFByb2NlZHVyZU9mICggIkhpcCBGcmFjdHVyZSBTdXJnZXJ5IiApCiAgICAgIG9yIFF1YWxpZnlpbmdFbmNvdW50ZXIuaGFzUHJpbmNpcGFsUHJvY2VkdXJlT2YgKCAiSGlwIFJlcGxhY2VtZW50IFN1cmdlcnkiICkKICAgICAgb3IgUXVhbGlmeWluZ0VuY291bnRlci5oYXNQcmluY2lwYWxQcm9jZWR1cmVPZiAoICJJbnRyYWNyYW5pYWwgTmV1cm9zdXJnZXJ5IiApCiAgICAgIG9yIFF1YWxpZnlpbmdFbmNvdW50ZXIuaGFzUHJpbmNpcGFsUHJvY2VkdXJlT2YgKCAiS25lZSBSZXBsYWNlbWVudCBTdXJnZXJ5IiApCiAgICAgIG9yIFF1YWxpZnlpbmdFbmNvdW50ZXIuaGFzUHJpbmNpcGFsUHJvY2VkdXJlT2YgKCAiVXJvbG9naWNhbCBTdXJnZXJ5IiApCgpkZWZpbmUgIkludGVydmVudGlvbiBDb21mb3J0IE1lYXN1cmVzIjoKICAoIFsiU2VydmljZVJlcXVlc3QiOiAiQ29tZm9ydCBNZWFzdXJlcyJdIEludGVydmVudGlvblJlcXVlc3QKICAgICAgd2hlcmUgSW50ZXJ2ZW50aW9uUmVxdWVzdC5pbnRlbnQgaW4geyAnb3JkZXInLCAnb3JpZ2luYWwtb3JkZXInLCAncmVmbGV4LW9yZGVyJywgJ2ZpbGxlci1vcmRlcicsICdpbnN0YW5jZS1vcmRlcicgfQogICAgICAgIGFuZCBJbnRlcnZlbnRpb25SZXF1ZXN0LnN0YXR1cyBpbiB7ICdhY3RpdmUnLCAnb24taG9sZCcsICdjb21wbGV0ZWQnIH0KICApCiAgICB1bmlvbiAoIFsiUHJvY2VkdXJlIjogIkNvbWZvcnQgTWVhc3VyZXMiXSBJbnRlcnZlbnRpb25QZXJmb3JtZWQKICAgICAgICB3aGVyZSBJbnRlcnZlbnRpb25QZXJmb3JtZWQuc3RhdHVzIGluIHsgJ2NvbXBsZXRlZCcsICdpbi1wcm9ncmVzcycgfQogICAgKQoKZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBJbnRlcnZlbnRpb24gQ29tZm9ydCBNZWFzdXJlcyBPbiBEYXkgT2YgT3IgRGF5IEFmdGVyIFByb2NlZHVyZSI6CiAgZnJvbQogICAgVlRFLiJFbmNvdW50ZXIgV2l0aCBBZ2UgUmFuZ2UgQW5kIFdpdGhvdXQgVlRFIERpYWdub3NpcyBPciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyLAogICAgWyJQcm9jZWR1cmUiOiAiR2VuZXJhbCBvciBOZXVyYXhpYWwgQW5lc3RoZXNpYSJdIEFuZXN0aGVzaWFQcm9jZWR1cmUsCiAgICAiSW50ZXJ2ZW50aW9uIENvbWZvcnQgTWVhc3VyZXMiIENvbWZvcnRNZWFzdXJlCiAgICB3aGVyZSBBbmVzdGhlc2lhUHJvY2VkdXJlLnN0YXR1cyA9ICdjb21wbGV0ZWQnCiAgICAgIGFuZCBBbmVzdGhlc2lhUHJvY2VkdXJlLnBlcmZvcm1lZC50b0ludGVydmFsICggKSBlbmRzIDEgZGF5IGFmdGVyIGRheSBvZiBzdGFydCBvZiBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZAogICAgICBhbmQgQ29hbGVzY2Uoc3RhcnQgb2YgQ29tZm9ydE1lYXN1cmUucGVyZm9ybWVkLnRvSW50ZXJ2YWwoKSwgQ29tZm9ydE1lYXN1cmUuYXV0aG9yZWRPbikgZHVyaW5nIGRheSBvZiAoIGVuZCBvZiBBbmVzdGhlc2lhUHJvY2VkdXJlLnBlcmZvcm1lZC50b0ludGVydmFsICggKSApLkNhbGVuZGFyRGF5T2ZPckRheUFmdGVyICggKQogICAgcmV0dXJuIFF1YWxpZnlpbmdFbmNvdW50ZXIKCmRlZmluZSAiRW5jb3VudGVyIFdpdGggSW50ZXJ2ZW50aW9uIENvbWZvcnQgTWVhc3VyZXMgRnJvbSBEYXkgT2YgU3RhcnQgT2YgSG9zcGl0YWxpemF0aW9uIFRvIERheSBBZnRlciBBZG1pc3Npb24iOgogIFZURS4iRW5jb3VudGVyIFdpdGggQWdlIFJhbmdlIEFuZCBXaXRob3V0IFZURSBEaWFnbm9zaXMgT3IgT2JzdGV0cmljYWwgQ29uZGl0aW9ucyIgUXVhbGlmeWluZ0VuY291bnRlcgogICAgd2l0aCAiSW50ZXJ2ZW50aW9uIENvbWZvcnQgTWVhc3VyZXMiIENvbWZvcnRNZWFzdXJlCiAgICAgIHN1Y2ggdGhhdCBDb2FsZXNjZShzdGFydCBvZiBDb21mb3J0TWVhc3VyZS5wZXJmb3JtZWQudG9JbnRlcnZhbCgpLCBDb21mb3J0TWVhc3VyZS5hdXRob3JlZE9uKSBkdXJpbmcgZGF5IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIuZnJvbURheU9mU3RhcnRPZkhvc3BpdGFsaXphdGlvblRvRGF5QWZ0ZXJBZG1pc3Npb24gKCApCgpkZWZpbmUgIk51bWVyYXRvciI6CiAgIkVuY291bnRlciBXaXRoIFZURSBQcm9waHlsYXhpcyBSZWNlaXZlZCBGcm9tIERheSBPZiBTdGFydCBPZiBIb3NwaXRhbGl6YXRpb24gVG8gRGF5IEFmdGVyIEFkbWlzc2lvbiBPciBQcm9jZWR1cmUiCiAgICB1bmlvbiAoICJFbmNvdW50ZXIgV2l0aCBNZWRpY2F0aW9uIE9yYWwgRmFjdG9yIFhhIEluaGliaXRvciBBZG1pbmlzdGVyZWQgT24gRGF5IE9mIE9yIERheSBBZnRlciBBZG1pc3Npb24gT3IgUHJvY2VkdXJlIgogICAgICAgIGludGVyc2VjdCAoICJFbmNvdW50ZXIgV2l0aCBQcmlvciBPciBQcmVzZW50IERpYWdub3NpcyBPZiBBdHJpYWwgRmlicmlsbGF0aW9uIE9yIFByaW9yIERpYWdub3NpcyBPZiBWVEUiCiAgICAgICAgICAgIHVuaW9uICJFbmNvdW50ZXIgV2l0aCBQcmlvciBPciBQcmVzZW50IFByb2NlZHVyZSBPZiBIaXAgT3IgS25lZSBSZXBsYWNlbWVudCBTdXJnZXJ5IgogICAgICAgICkKICAgICkKICAgIHVuaW9uICJFbmNvdW50ZXIgV2l0aCBMb3cgUmlzayBGb3IgVlRFIE9yIEFudGljb2FndWxhbnQgQWRtaW5pc3RlcmVkIgogICAgdW5pb24gIkVuY291bnRlciBXaXRoIE5vIFZURSBQcm9waHlsYXhpcyBEdWUgVG8gTWVkaWNhbCBSZWFzb24iCiAgICB1bmlvbiAiRW5jb3VudGVyIFdpdGggTm8gVlRFIFByb3BoeWxheGlzIER1ZSBUbyBQYXRpZW50IFJlZnVzYWwiCgpkZWZpbmUgIlBoYXJtYWNvbG9naWNhbCBvciBNZWNoYW5pY2FsIFZURSBQcm9waHlsYXhpcyBSZWNlaXZlZCI6CiAgKCBbIk1lZGljYXRpb25BZG1pbmlzdHJhdGlvbiI6IG1lZGljYXRpb24gaW4gIkxvdyBEb3NlIFVuZnJhY3Rpb25hdGVkIEhlcGFyaW4gZm9yIFZURSBQcm9waHlsYXhpcyJdIFZURU1lZGljYXRpb24KICAgICAgd2hlcmUgVlRFTWVkaWNhdGlvbi5zdGF0dXMgPSAnY29tcGxldGVkJwogICAgICAgIGFuZCBWVEVNZWRpY2F0aW9uLmRvc2FnZS5yb3V0ZSBpbiAiU3ViY3V0YW5lb3VzIHJvdXRlIgogICkKICAgIHVuaW9uICggWyJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24iOiBtZWRpY2F0aW9uIGluICJMb3cgTW9sZWN1bGFyIFdlaWdodCBIZXBhcmluIGZvciBWVEUgUHJvcGh5bGF4aXMiXSBMTVdICiAgICAgICAgd2hlcmUgTE1XSC5zdGF0dXMgPSAnY29tcGxldGVkJwogICAgKQogICAgdW5pb24gKCBbIk1lZGljYXRpb25BZG1pbmlzdHJhdGlvbiI6IG1lZGljYXRpb24gaW4gIkluamVjdGFibGUgRmFjdG9yIFhhIEluaGliaXRvciBmb3IgVlRFIFByb3BoeWxheGlzIl0gRmFjdG9yWGEKICAgICAgICB3aGVyZSBGYWN0b3JYYS5zdGF0dXMgPSAnY29tcGxldGVkJwogICAgKQogICAgdW5pb24gKCBbIk1lZGljYXRpb25BZG1pbmlzdHJhdGlvbiI6IG1lZGljYXRpb24gaW4gIldhcmZhcmluIl0gV2FyZmFyaW5BZG0KICAgICAgICB3aGVyZSBXYXJmYXJpbkFkbS5zdGF0dXMgPSAnY29tcGxldGVkJwogICAgKQogICAgdW5pb24gKCBbIk1lZGljYXRpb25BZG1pbmlzdHJhdGlvbiI6IG1lZGljYXRpb24gaW4gIlJpdmFyb3hhYmFuIGZvciBWVEUgUHJvcGh5bGF4aXMiXSBSaXZhcm94YWJhbgogICAgICAgIHdoZXJlIFJpdmFyb3hhYmFuLnN0YXR1cyA9ICdjb21wbGV0ZWQnCiAgICApCiAgICB1bmlvbiAoICggWyJQcm9jZWR1cmUiOiAiQXBwbGljYXRpb24gb2YgSW50ZXJtaXR0ZW50IFBuZXVtYXRpYyBDb21wcmVzc2lvbiBEZXZpY2VzIl0KICAgICAgICB1bmlvbiBbIlByb2NlZHVyZSI6ICJBcHBsaWNhdGlvbiBvZiBWZW5vdXMgRm9vdCBQdW1wcyJdCiAgICAgICAgdW5pb24gWyJQcm9jZWR1cmUiOiAiQXBwbGljYXRpb24gb2YgR3JhZHVhdGVkIENvbXByZXNzaW9uIFN0b2NraW5ncyJdICkgRGV2aWNlQXBwbGllZAogICAgICAgIHdoZXJlIERldmljZUFwcGxpZWQuc3RhdHVzID0gJ2NvbXBsZXRlZCcKICAgICkKCmRlZmluZSAiRW5jb3VudGVyIFdpdGggVlRFIFByb3BoeWxheGlzIFJlY2VpdmVkIEZyb20gRGF5IE9mIFN0YXJ0IE9mIEhvc3BpdGFsaXphdGlvbiBUbyBEYXkgQWZ0ZXIgQWRtaXNzaW9uIE9yIFByb2NlZHVyZSI6CiAgKCBmcm9tCiAgICAgIFZURS4iRW5jb3VudGVyIFdpdGggQWdlIFJhbmdlIEFuZCBXaXRob3V0IFZURSBEaWFnbm9zaXMgT3IgT2JzdGV0cmljYWwgQ29uZGl0aW9ucyIgUXVhbGlmeWluZ0VuY291bnRlciwKICAgICAgIlBoYXJtYWNvbG9naWNhbCBvciBNZWNoYW5pY2FsIFZURSBQcm9waHlsYXhpcyBSZWNlaXZlZCIgVlRFUHJvcGh5bGF4aXMKICAgICAgd2hlcmUgQ29hbGVzY2UoVlRFUHJvcGh5bGF4aXMuZWZmZWN0aXZlLnRvSW50ZXJ2YWwoKSwgVlRFUHJvcGh5bGF4aXMucGVyZm9ybWVkLnRvSW50ZXJ2YWwoKSkgc3RhcnRzIGR1cmluZyBkYXkgb2YgUXVhbGlmeWluZ0VuY291bnRlci5mcm9tRGF5T2ZTdGFydE9mSG9zcGl0YWxpemF0aW9uVG9EYXlBZnRlckFkbWlzc2lvbiAoICkKICAgICAgcmV0dXJuIFF1YWxpZnlpbmdFbmNvdW50ZXIKICApCiAgICB1bmlvbiAoIGZyb20KICAgICAgICBWVEUuIkVuY291bnRlciBXaXRoIEFnZSBSYW5nZSBBbmQgV2l0aG91dCBWVEUgRGlhZ25vc2lzIE9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIsCiAgICAgICAgWyJQcm9jZWR1cmUiOiAiR2VuZXJhbCBvciBOZXVyYXhpYWwgQW5lc3RoZXNpYSJdIEFuZXN0aGVzaWFQcm9jZWR1cmUsCiAgICAgICAgIlBoYXJtYWNvbG9naWNhbCBvciBNZWNoYW5pY2FsIFZURSBQcm9waHlsYXhpcyBSZWNlaXZlZCIgVlRFUHJvcGh5bGF4aXMKICAgICAgICB3aGVyZSBBbmVzdGhlc2lhUHJvY2VkdXJlLnN0YXR1cyA9ICdjb21wbGV0ZWQnCiAgICAgICAgICBhbmQgQW5lc3RoZXNpYVByb2NlZHVyZS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgZW5kcyAxIGRheSBhZnRlciBkYXkgb2Ygc3RhcnQgb2YgUXVhbGlmeWluZ0VuY291bnRlci5wZXJpb2QKICAgICAgICAgIGFuZCBDb2FsZXNjZShWVEVQcm9waHlsYXhpcy5lZmZlY3RpdmUudG9JbnRlcnZhbCgpLCBWVEVQcm9waHlsYXhpcy5wZXJmb3JtZWQudG9JbnRlcnZhbCgpKSBzdGFydHMgZHVyaW5nIGRheSBvZiAoIGVuZCBvZiBBbmVzdGhlc2lhUHJvY2VkdXJlLnBlcmZvcm1lZC50b0ludGVydmFsICggKSApLkNhbGVuZGFyRGF5T2ZPckRheUFmdGVyICggKQogICAgICAgIHJldHVybiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICApCgpkZWZpbmUgIkVuY291bnRlciBXaXRoIE1lZGljYXRpb24gT3JhbCBGYWN0b3IgWGEgSW5oaWJpdG9yIEFkbWluaXN0ZXJlZCBPbiBEYXkgT2YgT3IgRGF5IEFmdGVyIEFkbWlzc2lvbiBPciBQcm9jZWR1cmUiOgogICggZnJvbQogICAgICBWVEUuIkVuY291bnRlciBXaXRoIEFnZSBSYW5nZSBBbmQgV2l0aG91dCBWVEUgRGlhZ25vc2lzIE9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIsCiAgICAgIFsiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uIjogbWVkaWNhdGlvbiBpbiAiT3JhbCBGYWN0b3IgWGEgSW5oaWJpdG9yIGZvciBWVEUgUHJvcGh5bGF4aXMgb3IgVlRFIFRyZWF0bWVudCJdIEZhY3RvclhhTWVkaWNhdGlvbgogICAgICB3aGVyZSBGYWN0b3JYYU1lZGljYXRpb24uc3RhdHVzID0gJ2NvbXBsZXRlZCcKICAgICAgICBhbmQgRmFjdG9yWGFNZWRpY2F0aW9uLmVmZmVjdGl2ZS50b0ludGVydmFsICggKSBzdGFydHMgZHVyaW5nIGRheSBvZiAoIHN0YXJ0IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kICkuQ2FsZW5kYXJEYXlPZk9yRGF5QWZ0ZXIgKCApCiAgICAgIHJldHVybiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgKQogICAgdW5pb24gKCBmcm9tCiAgICAgICAgVlRFLiJFbmNvdW50ZXIgV2l0aCBBZ2UgUmFuZ2UgQW5kIFdpdGhvdXQgVlRFIERpYWdub3NpcyBPciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyLAogICAgICAgIFsiUHJvY2VkdXJlIjogIkdlbmVyYWwgb3IgTmV1cmF4aWFsIEFuZXN0aGVzaWEiXSBBbmVzdGhlc2lhUHJvY2VkdXJlLAogICAgICAgIFsiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uIjogbWVkaWNhdGlvbiBpbiAiT3JhbCBGYWN0b3IgWGEgSW5oaWJpdG9yIGZvciBWVEUgUHJvcGh5bGF4aXMgb3IgVlRFIFRyZWF0bWVudCJdIEZhY3RvclhhTWVkaWNhdGlvbgogICAgICAgIHdoZXJlIEZhY3RvclhhTWVkaWNhdGlvbi5zdGF0dXMgPSAnY29tcGxldGVkJwogICAgICAgICAgYW5kIEFuZXN0aGVzaWFQcm9jZWR1cmUuc3RhdHVzID0gJ2NvbXBsZXRlZCcKICAgICAgICAgIGFuZCBBbmVzdGhlc2lhUHJvY2VkdXJlLnBlcmZvcm1lZC50b0ludGVydmFsICggKSBlbmRzIDEgZGF5IGFmdGVyIGRheSBvZiBzdGFydCBvZiBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZAogICAgICAgICAgYW5kIEZhY3RvclhhTWVkaWNhdGlvbi5lZmZlY3RpdmUudG9JbnRlcnZhbCAoICkgc3RhcnRzIGR1cmluZyBkYXkgb2YgKCBlbmQgb2YgQW5lc3RoZXNpYVByb2NlZHVyZS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgKS5DYWxlbmRhckRheU9mT3JEYXlBZnRlciAoICkKICAgICAgICByZXR1cm4gUXVhbGlmeWluZ0VuY291bnRlcgogICAgKQoKZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBQcmlvciBPciBQcmVzZW50IERpYWdub3NpcyBPZiBBdHJpYWwgRmlicmlsbGF0aW9uIE9yIFByaW9yIERpYWdub3NpcyBPZiBWVEUiOgogICggVlRFLiJFbmNvdW50ZXIgV2l0aCBBZ2UgUmFuZ2UgQW5kIFdpdGhvdXQgVlRFIERpYWdub3NpcyBPciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICAgIHdpdGggWyJDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zIjogIkF0cmlhbCBGaWJyaWxsYXRpb24gb3IgRmx1dHRlciJdIEF0cmlhbEZpYnJpbGxhdGlvbgogICAgICAgIHN1Y2ggdGhhdCAvLyBDUU1DT21tb24gbmV3IGZ1bmN0aW9uIGlzVmVyaWZpZWQoKSB3aWxsIGJlIHVzZWQgdG8gcmVwbGFjZSB0aGUgZm9sbG93aW5nIHZlcmlmaWNhdGlvblN0YXR1cyBsb2dpYwogICAgICAgIEF0cmlhbEZpYnJpbGxhdGlvbi52ZXJpZmljYXRpb25TdGF0dXMgaXMgbm90IG51bGwgaW1wbGllcyAoIEF0cmlhbEZpYnJpbGxhdGlvbi52ZXJpZmljYXRpb25TdGF0dXMgIX4gUUlDb3JlQ29tbW9uLiJyZWZ1dGVkIgogICAgICAgICAgICBhbmQgQXRyaWFsRmlicmlsbGF0aW9uLnZlcmlmaWNhdGlvblN0YXR1cyAhfiBRSUNvcmVDb21tb24uImVudGVyZWQtaW4tZXJyb3IiCiAgICAgICAgKQogICAgICAgICAgYW5kIEF0cmlhbEZpYnJpbGxhdGlvbi5vbnNldC50b0ludGVydmFsICggKSBzdGFydHMgb24gb3IgYmVmb3JlIGVuZCBvZiBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZAogICkKICAgIHVuaW9uICggVlRFLiJFbmNvdW50ZXIgV2l0aCBBZ2UgUmFuZ2UgQW5kIFdpdGhvdXQgVlRFIERpYWdub3NpcyBPciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICAgICAgd2hlcmUgUXVhbGlmeWluZ0VuY291bnRlci5oYXNFbmNEaWFnbm9zaXNPZiAoICJBdHJpYWwgRmlicmlsbGF0aW9uIG9yIEZsdXR0ZXIiICkKICAgICkKICAgIHVuaW9uICggVlRFLiJFbmNvdW50ZXIgV2l0aCBBZ2UgUmFuZ2UgQW5kIFdpdGhvdXQgVlRFIERpYWdub3NpcyBPciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICAgICAgd2l0aCBbIkNvbmRpdGlvblByb2JsZW1zSGVhbHRoQ29uY2VybnMiOiAiVmVub3VzIFRocm9tYm9lbWJvbGlzbSJdIFZURURpYWdub3NpcwogICAgICAgICAgc3VjaCB0aGF0ICggVlRFRGlhZ25vc2lzLmNsaW5pY2FsU3RhdHVzIH4gUUlDb3JlQ29tbW9uLiJpbmFjdGl2ZSIKICAgICAgICAgICAgICBvciBWVEVEaWFnbm9zaXMuY2xpbmljYWxTdGF0dXMgfiBRSUNvcmVDb21tb24uInJlbWlzc2lvbiIKICAgICAgICAgICAgICBvciBWVEVEaWFnbm9zaXMuY2xpbmljYWxTdGF0dXMgfiBRSUNvcmVDb21tb24uInJlc29sdmVkIgogICAgICAgICAgKS8vIENRTUNPbW1vbiBuZXcgZnVuY3Rpb24gaXNWZXJpZmllZCgpIHdpbGwgYmUgdXNlZCB0byByZXBsYWNlIHRoZSBmb2xsb3dpbmcgdmVyaWZpY2F0aW9uU3RhdHVzIGxvZ2ljCiAgICAgICAgICAgIAogICAgICAgICAgICBhbmQgVlRFRGlhZ25vc2lzLnZlcmlmaWNhdGlvblN0YXR1cyBpcyBub3QgbnVsbCBpbXBsaWVzICggVlRFRGlhZ25vc2lzLnZlcmlmaWNhdGlvblN0YXR1cyAhfiBRSUNvcmVDb21tb24uInJlZnV0ZWQiCiAgICAgICAgICAgICAgYW5kIFZURURpYWdub3Npcy52ZXJpZmljYXRpb25TdGF0dXMgIX4gUUlDb3JlQ29tbW9uLiJlbnRlcmVkLWluLWVycm9yIgogICAgICAgICAgKQogICAgICAgICAgICBhbmQgVlRFRGlhZ25vc2lzLm9uc2V0LnRvSW50ZXJ2YWwgKCApIGJlZm9yZSBzdGFydCBvZiBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZAogICAgKQoKZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBQcmlvciBPciBQcmVzZW50IFByb2NlZHVyZSBPZiBIaXAgT3IgS25lZSBSZXBsYWNlbWVudCBTdXJnZXJ5IjoKICBWVEUuIkVuY291bnRlciBXaXRoIEFnZSBSYW5nZSBBbmQgV2l0aG91dCBWVEUgRGlhZ25vc2lzIE9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgIHdpdGggKCBbIlByb2NlZHVyZSI6ICJIaXAgUmVwbGFjZW1lbnQgU3VyZ2VyeSJdCiAgICAgIHVuaW9uIFsiUHJvY2VkdXJlIjogIktuZWUgUmVwbGFjZW1lbnQgU3VyZ2VyeSJdICkgSGlwS25lZVByb2NlZHVyZQogICAgICBzdWNoIHRoYXQgSGlwS25lZVByb2NlZHVyZS5zdGF0dXMgPSAnY29tcGxldGVkJwogICAgICAgIGFuZCBIaXBLbmVlUHJvY2VkdXJlLnBlcmZvcm1lZC50b0ludGVydmFsICggKSBzdGFydHMgb24gb3IgYmVmb3JlIGVuZCBvZiBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZAoKZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBMb3cgUmlzayBGb3IgVlRFIE9yIEFudGljb2FndWxhbnQgQWRtaW5pc3RlcmVkIjoKICAiTG93IFJpc2sgRm9yIFZURSBPciBBbnRpY29hZ3VsYW50IEFkbWluaXN0ZXJlZCBGcm9tIERheSBPZiBTdGFydCBPZiBIb3NwaXRhbGl6YXRpb24gVG8gRGF5IEFmdGVyIEFkbWlzc2lvbiIKICAgIHVuaW9uICJMb3cgUmlzayBGb3IgVlRFIE9yIEFudGljb2FndWxhbnQgQWRtaW5pc3RlcmVkIE9uIERheSBPZiBPciBEYXkgQWZ0ZXIgUHJvY2VkdXJlIgoKZGVmaW5lICJMb3cgUmlzayBJbmRpY2F0b3IgRm9yIFZURSI6CiAgKCBbIlNpbXBsZU9ic2VydmF0aW9uIjogIlJpc2sgZm9yIHZlbm91cyB0aHJvbWJvZW1ib2xpc20iXSBWVEVSaXNrQXNzZXNzbWVudAogICAgICB3aGVyZSBWVEVSaXNrQXNzZXNzbWVudC52YWx1ZSBhcyBDb25jZXB0IGluICJMb3cgUmlzayIKICAgICAgICBhbmQgVlRFUmlza0Fzc2Vzc21lbnQuc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6IFZURVJpc2tBc3Nlc3NtZW50LmlkLAogICAgICAgIExvd1Jpc2tEYXRldGltZTogVlRFUmlza0Fzc2Vzc21lbnQuZWZmZWN0aXZlLmVhcmxpZXN0ICggKQogICAgICB9CiAgKQogICAgdW5pb24gKCBbIkxhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbiI6ICJJTlIiXSBJTlJMYWJUZXN0CiAgICAgICAgd2hlcmUgSU5STGFiVGVzdC52YWx1ZSBhcyBRdWFudGl0eSA+IDMuMAogICAgICAgICAgYW5kIElOUkxhYlRlc3Quc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkOiBJTlJMYWJUZXN0LmlkLAogICAgICAgICAgTG93Umlza0RhdGV0aW1lOiBJTlJMYWJUZXN0Lmlzc3VlZAogICAgICAgIH0KICAgICkKICAgIHVuaW9uICggKCAoIFsiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uIjogbWVkaWNhdGlvbiBpbiAiVW5mcmFjdGlvbmF0ZWQgSGVwYXJpbiJdIFVuZnJhY3Rpb25hdGVkSGVwYXJpbgogICAgICAgICAgd2hlcmUgVW5mcmFjdGlvbmF0ZWRIZXBhcmluLmRvc2FnZS5yb3V0ZSBpbiAiSW50cmF2ZW5vdXMgcm91dGUiCiAgICAgICkKICAgICAgICB1bmlvbiBbIk1lZGljYXRpb25BZG1pbmlzdHJhdGlvbiI6IG1lZGljYXRpb24gaW4gIkRpcmVjdCBUaHJvbWJpbiBJbmhpYml0b3IiXQogICAgICAgIHVuaW9uIFsiTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uIjogbWVkaWNhdGlvbiBpbiAiR2x5Y29wcm90ZWluIElJYiBJSUlhIEluaGliaXRvcnMiXSApIEFudGljb2FndWxhbnRNZWRpY2F0aW9uCiAgICAgICAgd2hlcmUgQW50aWNvYWd1bGFudE1lZGljYXRpb24uc3RhdHVzID0gJ2NvbXBsZXRlZCcKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6IEFudGljb2FndWxhbnRNZWRpY2F0aW9uLmlkLAogICAgICAgICAgTG93Umlza0RhdGV0aW1lOiBzdGFydCBvZiBBbnRpY29hZ3VsYW50TWVkaWNhdGlvbi5lZmZlY3RpdmUudG9JbnRlcnZhbCAoICkKICAgICAgICB9CiAgICApCgpkZWZpbmUgIkxvdyBSaXNrIEZvciBWVEUgT3IgQW50aWNvYWd1bGFudCBBZG1pbmlzdGVyZWQgRnJvbSBEYXkgT2YgU3RhcnQgT2YgSG9zcGl0YWxpemF0aW9uIFRvIERheSBBZnRlciBBZG1pc3Npb24iOgogIFZURS4iRW5jb3VudGVyIFdpdGggQWdlIFJhbmdlIEFuZCBXaXRob3V0IFZURSBEaWFnbm9zaXMgT3IgT2JzdGV0cmljYWwgQ29uZGl0aW9ucyIgUXVhbGlmeWluZ0VuY291bnRlcgogICAgd2l0aCAiTG93IFJpc2sgSW5kaWNhdG9yIEZvciBWVEUiIExvd1Jpc2tGb3JWVEUKICAgICAgc3VjaCB0aGF0IExvd1Jpc2tGb3JWVEUuTG93Umlza0RhdGV0aW1lIGR1cmluZyBkYXkgb2YgUXVhbGlmeWluZ0VuY291bnRlci5mcm9tRGF5T2ZTdGFydE9mSG9zcGl0YWxpemF0aW9uVG9EYXlBZnRlckFkbWlzc2lvbiAoICkKCmRlZmluZSAiTG93IFJpc2sgRm9yIFZURSBPciBBbnRpY29hZ3VsYW50IEFkbWluaXN0ZXJlZCBPbiBEYXkgT2YgT3IgRGF5IEFmdGVyIFByb2NlZHVyZSI6CiAgZnJvbQogICAgVlRFLiJFbmNvdW50ZXIgV2l0aCBBZ2UgUmFuZ2UgQW5kIFdpdGhvdXQgVlRFIERpYWdub3NpcyBPciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyLAogICAgWyJQcm9jZWR1cmUiOiAiR2VuZXJhbCBvciBOZXVyYXhpYWwgQW5lc3RoZXNpYSJdIEFuZXN0aGVzaWFQcm9jZWR1cmUsCiAgICAiTG93IFJpc2sgSW5kaWNhdG9yIEZvciBWVEUiIExvd1Jpc2tGb3JWVEUKICAgIHdoZXJlIEFuZXN0aGVzaWFQcm9jZWR1cmUuc3RhdHVzID0gJ2NvbXBsZXRlZCcKICAgICAgYW5kIEFuZXN0aGVzaWFQcm9jZWR1cmUucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApIGVuZHMgMSBkYXkgYWZ0ZXIgZGF5IG9mIHN0YXJ0IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kCiAgICAgIGFuZCBMb3dSaXNrRm9yVlRFLkxvd1Jpc2tEYXRldGltZSBkdXJpbmcgZGF5IG9mICggZW5kIG9mIEFuZXN0aGVzaWFQcm9jZWR1cmUucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApICkuQ2FsZW5kYXJEYXlPZk9yRGF5QWZ0ZXIgKCApCiAgICByZXR1cm4gUXVhbGlmeWluZ0VuY291bnRlcgoKZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBObyBWVEUgUHJvcGh5bGF4aXMgRHVlIFRvIE1lZGljYWwgUmVhc29uIjoKICAoICJObyBWVEUgUHJvcGh5bGF4aXMgTWVkaWNhdGlvbiBEdWUgVG8gTWVkaWNhbCBSZWFzb24gRnJvbSBEYXkgT2YgU3RhcnQgT2YgSG9zcGl0YWxpemF0aW9uIFRvIERheSBBZnRlciBBZG1pc3Npb24iCiAgICAgIGludGVyc2VjdCAiTm8gTWVjaGFuaWNhbCBWVEUgUHJvcGh5bGF4aXMgRHVlIFRvIE1lZGljYWwgUmVhc29uIEZyb20gRGF5IE9mIFN0YXJ0IE9mIEhvc3BpdGFsaXphdGlvbiBUbyBEYXkgQWZ0ZXIgQWRtaXNzaW9uIgogICkKICAgIHVuaW9uICggIk5vIFZURSBQcm9waHlsYXhpcyBNZWRpY2F0aW9uIER1ZSBUbyBNZWRpY2FsIFJlYXNvbiBPbiBEYXkgT2YgT3IgRGF5IEFmdGVyIFByb2NlZHVyZSIKICAgICAgICBpbnRlcnNlY3QgIk5vIE1lY2hhbmljYWwgVlRFIFByb3BoeWxheGlzIER1ZSBUbyBNZWRpY2FsIFJlYXNvbiBPbiBEYXkgT2YgT3IgRGF5IEFmdGVyIFByb2NlZHVyZSIKICAgICkKCmRlZmluZSAiTm8gVlRFIFByb3BoeWxheGlzIE1lZGljYXRpb24gRHVlIFRvIE1lZGljYWwgUmVhc29uIEZyb20gRGF5IE9mIFN0YXJ0IE9mIEhvc3BpdGFsaXphdGlvbiBUbyBEYXkgQWZ0ZXIgQWRtaXNzaW9uIjoKICBWVEUuIkVuY291bnRlciBXaXRoIEFnZSBSYW5nZSBBbmQgV2l0aG91dCBWVEUgRGlhZ25vc2lzIE9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgIHdpdGggIk5vIFZURSBQcm9waHlsYXhpcyBNZWRpY2F0aW9uIEFkbWluaXN0ZXJlZCBPciBPcmRlcmVkIiBOb1ZURU1lZGljYXRpb24KICAgICAgc3VjaCB0aGF0IE5vVlRFTWVkaWNhdGlvbi5tZWRpY2F0aW9uU3RhdHVzUmVhc29uIGluICJNZWRpY2FsIFJlYXNvbiBGb3IgTm90IFByb3ZpZGluZyBUcmVhdG1lbnQiCiAgICAgICAgYW5kIE5vVlRFTWVkaWNhdGlvbi5hdXRob3JlZE9uIGR1cmluZyBkYXkgb2YgUXVhbGlmeWluZ0VuY291bnRlci5mcm9tRGF5T2ZTdGFydE9mSG9zcGl0YWxpemF0aW9uVG9EYXlBZnRlckFkbWlzc2lvbiAoICkKCmRlZmluZSAiTm8gVlRFIFByb3BoeWxheGlzIE1lZGljYXRpb24gRHVlIFRvIE1lZGljYWwgUmVhc29uIE9uIERheSBPZiBPciBEYXkgQWZ0ZXIgUHJvY2VkdXJlIjoKICBmcm9tCiAgICBWVEUuIkVuY291bnRlciBXaXRoIEFnZSBSYW5nZSBBbmQgV2l0aG91dCBWVEUgRGlhZ25vc2lzIE9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIsCiAgICBbIlByb2NlZHVyZSI6ICJHZW5lcmFsIG9yIE5ldXJheGlhbCBBbmVzdGhlc2lhIl0gQW5lc3RoZXNpYVByb2NlZHVyZSwKICAgICJObyBWVEUgUHJvcGh5bGF4aXMgTWVkaWNhdGlvbiBBZG1pbmlzdGVyZWQgT3IgT3JkZXJlZCIgTm9WVEVNZWRpY2F0aW9uCiAgICB3aGVyZSBOb1ZURU1lZGljYXRpb24ubWVkaWNhdGlvblN0YXR1c1JlYXNvbiBpbiAiTWVkaWNhbCBSZWFzb24gRm9yIE5vdCBQcm92aWRpbmcgVHJlYXRtZW50IgogICAgICBhbmQgQW5lc3RoZXNpYVByb2NlZHVyZS5zdGF0dXMgPSAnY29tcGxldGVkJwogICAgICBhbmQgQW5lc3RoZXNpYVByb2NlZHVyZS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgZW5kcyAxIGRheSBhZnRlciBkYXkgb2Ygc3RhcnQgb2YgUXVhbGlmeWluZ0VuY291bnRlci5wZXJpb2QKICAgICAgYW5kIE5vVlRFTWVkaWNhdGlvbi5hdXRob3JlZE9uIGR1cmluZyBkYXkgb2YgKCBlbmQgb2YgQW5lc3RoZXNpYVByb2NlZHVyZS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgKS5DYWxlbmRhckRheU9mT3JEYXlBZnRlciAoICkKICAgIHJldHVybiBRdWFsaWZ5aW5nRW5jb3VudGVyCgpkZWZpbmUgIk5vIFZURSBQcm9waHlsYXhpcyBNZWRpY2F0aW9uIEFkbWluaXN0ZXJlZCBPciBPcmRlcmVkIjoKICAoICggW01lZGljYXRpb25BZG1pbmlzdHJhdGlvbk5vdERvbmU6ICJMb3cgRG9zZSBVbmZyYWN0aW9uYXRlZCBIZXBhcmluIGZvciBWVEUgUHJvcGh5bGF4aXMiXQogICAgICB1bmlvbiBbTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uTm90RG9uZTogIkxvdyBNb2xlY3VsYXIgV2VpZ2h0IEhlcGFyaW4gZm9yIFZURSBQcm9waHlsYXhpcyJdCiAgICAgIHVuaW9uIFtNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb25Ob3REb25lOiAiSW5qZWN0YWJsZSBGYWN0b3IgWGEgSW5oaWJpdG9yIGZvciBWVEUgUHJvcGh5bGF4aXMiXQogICAgICB1bmlvbiBbTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uTm90RG9uZTogIldhcmZhcmluIl0KICAgICAgdW5pb24gW01lZGljYXRpb25BZG1pbmlzdHJhdGlvbk5vdERvbmU6ICJSaXZhcm94YWJhbiBmb3IgVlRFIFByb3BoeWxheGlzIl0gKSBOb01lZGljYXRpb25BZG0KICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogTm9NZWRpY2F0aW9uQWRtLmlkLAogICAgICAgIG1lZGljYXRpb25TdGF0dXNSZWFzb246IE5vTWVkaWNhdGlvbkFkbS5zdGF0dXNSZWFzb24sCiAgICAgICAgYXV0aG9yZWRPbjogTm9NZWRpY2F0aW9uQWRtLnJlY29yZGVkCiAgICAgIH0KICApCiAgICB1bmlvbiAoICggWyJNZWRpY2F0aW9uTm90UmVxdWVzdGVkIjogIkxvdyBEb3NlIFVuZnJhY3Rpb25hdGVkIEhlcGFyaW4gZm9yIFZURSBQcm9waHlsYXhpcyJdCiAgICAgICAgdW5pb24gWyJNZWRpY2F0aW9uTm90UmVxdWVzdGVkIjogIkxvdyBNb2xlY3VsYXIgV2VpZ2h0IEhlcGFyaW4gZm9yIFZURSBQcm9waHlsYXhpcyJdCiAgICAgICAgdW5pb24gWyJNZWRpY2F0aW9uTm90UmVxdWVzdGVkIjogIkluamVjdGFibGUgRmFjdG9yIFhhIEluaGliaXRvciBmb3IgVlRFIFByb3BoeWxheGlzIl0KICAgICAgICB1bmlvbiBbIk1lZGljYXRpb25Ob3RSZXF1ZXN0ZWQiOiAiV2FyZmFyaW4iXQogICAgICAgIHVuaW9uIFsiTWVkaWNhdGlvbk5vdFJlcXVlc3RlZCI6ICJSaXZhcm94YWJhbiBmb3IgVlRFIFByb3BoeWxheGlzIl0gKSBOb01lZGljYXRpb25PcmRlcgogICAgICAgIHdoZXJlIE5vTWVkaWNhdGlvbk9yZGVyLmludGVudCBpbiB7ICdvcmRlcicsICdvcmlnaW5hbC1vcmRlcicsICdyZWZsZXgtb3JkZXInLCAnZmlsbGVyLW9yZGVyJywgJ2luc3RhbmNlLW9yZGVyJyB9CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkOiBOb01lZGljYXRpb25PcmRlci5pZCwKICAgICAgICAgIG1lZGljYXRpb25TdGF0dXNSZWFzb246IE5vTWVkaWNhdGlvbk9yZGVyLnJlYXNvbkNvZGUsCiAgICAgICAgICBhdXRob3JlZE9uOiBOb01lZGljYXRpb25PcmRlci5hdXRob3JlZE9uCiAgICAgICAgfQogICAgKQogICAgdW5pb24gKCBmcm9tCiAgICAgICAgKCBbIk1lZGljYXRpb25SZXF1ZXN0IjogIkxvdyBEb3NlIFVuZnJhY3Rpb25hdGVkIEhlcGFyaW4gZm9yIFZURSBQcm9waHlsYXhpcyJdCiAgICAgICAgICB1bmlvbiBbIk1lZGljYXRpb25SZXF1ZXN0IjogIkxvdyBNb2xlY3VsYXIgV2VpZ2h0IEhlcGFyaW4gZm9yIFZURSBQcm9waHlsYXhpcyJdCiAgICAgICAgICB1bmlvbiBbIk1lZGljYXRpb25SZXF1ZXN0IjogIkluamVjdGFibGUgRmFjdG9yIFhhIEluaGliaXRvciBmb3IgVlRFIFByb3BoeWxheGlzIl0KICAgICAgICAgIHVuaW9uIFsiTWVkaWNhdGlvblJlcXVlc3QiOiAiV2FyZmFyaW4iXQogICAgICAgICAgdW5pb24gWyJNZWRpY2F0aW9uUmVxdWVzdCI6ICJSaXZhcm94YWJhbiBmb3IgVlRFIFByb3BoeWxheGlzIl0gKSBNZWRpY2F0aW9uT3JkZXJSZWplY3QsCiAgICAgICAgW1Rhc2tSZWplY3RlZF0gVAogICAgICAgIHdoZXJlIFQuZm9jdXMucmVmZXJlbmNlcyAoIE1lZGljYXRpb25PcmRlclJlamVjdCApCiAgICAgICAgICBhbmQgVC5jb2RlIH4gUUlDb3JlQ29tbW9uLiJGdWxmaWxsIgogICAgICAgICAgYW5kIE1lZGljYXRpb25PcmRlclJlamVjdC5zdGF0dXMgPSAnYWN0aXZlJwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogTWVkaWNhdGlvbk9yZGVyUmVqZWN0LmlkLAogICAgICAgICAgbWVkaWNhdGlvblN0YXR1c1JlYXNvbjogeyBULnN0YXR1c1JlYXNvbiB9LAogICAgICAgICAgYXV0aG9yZWRPbjogTWVkaWNhdGlvbk9yZGVyUmVqZWN0LmF1dGhvcmVkT24KICAgICAgICB9CiAgICApCgpkZWZpbmUgIk5vIE1lY2hhbmljYWwgVlRFIFByb3BoeWxheGlzIER1ZSBUbyBNZWRpY2FsIFJlYXNvbiBGcm9tIERheSBPZiBTdGFydCBPZiBIb3NwaXRhbGl6YXRpb24gVG8gRGF5IEFmdGVyIEFkbWlzc2lvbiI6CiAgVlRFLiJFbmNvdW50ZXIgV2l0aCBBZ2UgUmFuZ2UgQW5kIFdpdGhvdXQgVlRFIERpYWdub3NpcyBPciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyCiAgICB3aXRoICJObyBNZWNoYW5pY2FsIFZURSBQcm9waHlsYXhpcyBQZXJmb3JtZWQgT3IgT3JkZXJlZCIgTm9WVEVEZXZpY2UKICAgICAgc3VjaCB0aGF0IE5vVlRFRGV2aWNlLnJlcXVlc3RTdGF0dXNSZWFzb24gaW4gIk1lZGljYWwgUmVhc29uIEZvciBOb3QgUHJvdmlkaW5nIFRyZWF0bWVudCIKICAgICAgICBhbmQgTm9WVEVEZXZpY2UuYXV0aG9yZWRPbiBkdXJpbmcgZGF5IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIuZnJvbURheU9mU3RhcnRPZkhvc3BpdGFsaXphdGlvblRvRGF5QWZ0ZXJBZG1pc3Npb24gKCApCgpkZWZpbmUgIk5vIE1lY2hhbmljYWwgVlRFIFByb3BoeWxheGlzIER1ZSBUbyBNZWRpY2FsIFJlYXNvbiBPbiBEYXkgT2YgT3IgRGF5IEFmdGVyIFByb2NlZHVyZSI6CiAgZnJvbQogICAgVlRFLiJFbmNvdW50ZXIgV2l0aCBBZ2UgUmFuZ2UgQW5kIFdpdGhvdXQgVlRFIERpYWdub3NpcyBPciBPYnN0ZXRyaWNhbCBDb25kaXRpb25zIiBRdWFsaWZ5aW5nRW5jb3VudGVyLAogICAgWyJQcm9jZWR1cmUiOiAiR2VuZXJhbCBvciBOZXVyYXhpYWwgQW5lc3RoZXNpYSJdIEFuZXN0aGVzaWFQcm9jZWR1cmUsCiAgICAiTm8gTWVjaGFuaWNhbCBWVEUgUHJvcGh5bGF4aXMgUGVyZm9ybWVkIE9yIE9yZGVyZWQiIE5vVlRFRGV2aWNlCiAgICB3aGVyZSBOb1ZURURldmljZS5yZXF1ZXN0U3RhdHVzUmVhc29uIGluICJNZWRpY2FsIFJlYXNvbiBGb3IgTm90IFByb3ZpZGluZyBUcmVhdG1lbnQiCiAgICAgIGFuZCBBbmVzdGhlc2lhUHJvY2VkdXJlLnN0YXR1cyA9ICdjb21wbGV0ZWQnCiAgICAgIGFuZCBBbmVzdGhlc2lhUHJvY2VkdXJlLnBlcmZvcm1lZC50b0ludGVydmFsICggKSBlbmRzIDEgZGF5IGFmdGVyIGRheSBvZiBzdGFydCBvZiBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZAogICAgICBhbmQgTm9WVEVEZXZpY2UuYXV0aG9yZWRPbiBkdXJpbmcgZGF5IG9mICggZW5kIG9mIEFuZXN0aGVzaWFQcm9jZWR1cmUucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApICkuQ2FsZW5kYXJEYXlPZk9yRGF5QWZ0ZXIgKCApCiAgICByZXR1cm4gUXVhbGlmeWluZ0VuY291bnRlcgoKZGVmaW5lICJObyBNZWNoYW5pY2FsIFZURSBQcm9waHlsYXhpcyBQZXJmb3JtZWQgT3IgT3JkZXJlZCI6CiAgKCAoIFtTZXJ2aWNlTm90UmVxdWVzdGVkOiAiVmVub3VzIGZvb3QgcHVtcHMiXQogICAgICB1bmlvbiBbU2VydmljZU5vdFJlcXVlc3RlZDogIkludGVybWl0dGVudCBwbmV1bWF0aWMgY29tcHJlc3Npb24gZGV2aWNlcyJdCiAgICAgIHVuaW9uIFtTZXJ2aWNlTm90UmVxdWVzdGVkOiAiR3JhZHVhdGVkIGNvbXByZXNzaW9uIHN0b2NraW5ncyJdICkgRGV2aWNlTm90T3JkZXIKICAgICAgd2hlcmUgRGV2aWNlTm90T3JkZXIuaW50ZW50IGluIHsgJ29yZGVyJywgJ29yaWdpbmFsLW9yZGVyJywgJ3JlZmxleC1vcmRlcicsICdmaWxsZXItb3JkZXInLCAnaW5zdGFuY2Utb3JkZXInIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogRGV2aWNlTm90T3JkZXIuaWQsCiAgICAgICAgcmVxdWVzdFN0YXR1c1JlYXNvbjogRGV2aWNlTm90T3JkZXIucmVhc29uUmVmdXNlZCwKICAgICAgICBhdXRob3JlZE9uOiBEZXZpY2VOb3RPcmRlci5hdXRob3JlZE9uCiAgICAgIH0KICApCiAgICB1bmlvbiAoIGZyb20KICAgICAgICAoIFtTZXJ2aWNlUmVxdWVzdDogIlZlbm91cyBmb290IHB1bXBzIl0KICAgICAgICAgIHVuaW9uIFtTZXJ2aWNlUmVxdWVzdDogIkludGVybWl0dGVudCBwbmV1bWF0aWMgY29tcHJlc3Npb24gZGV2aWNlcyJdCiAgICAgICAgICB1bmlvbiBbU2VydmljZVJlcXVlc3Q6ICJHcmFkdWF0ZWQgY29tcHJlc3Npb24gc3RvY2tpbmdzIl0gKSBEZXZpY2VPcmRlclJlamVjdCwKICAgICAgICBbVGFza1JlamVjdGVkXSBUCiAgICAgICAgd2hlcmUgRGV2aWNlT3JkZXJSZWplY3QuaW50ZW50IGluIHsgJ29yZGVyJywgJ29yaWdpbmFsLW9yZGVyJywgJ3JlZmxleC1vcmRlcicsICdmaWxsZXItb3JkZXInLCAnaW5zdGFuY2Utb3JkZXInIH0KICAgICAgICAgIGFuZCBEZXZpY2VPcmRlclJlamVjdC5zdGF0dXMgPSAnYWN0aXZlJwogICAgICAgICAgYW5kIFQuZm9jdXMucmVmZXJlbmNlcyAoIERldmljZU9yZGVyUmVqZWN0ICkKICAgICAgICAgIGFuZCBULmNvZGUgfiBRSUNvcmVDb21tb24uIkZ1bGZpbGwiCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkOiBEZXZpY2VPcmRlclJlamVjdC5pZCwKICAgICAgICAgIHJlcXVlc3RTdGF0dXNSZWFzb246IFQuc3RhdHVzUmVhc29uLAogICAgICAgICAgYXV0aG9yZWRPbjogRGV2aWNlT3JkZXJSZWplY3QuYXV0aG9yZWRPbgogICAgICAgIH0KICAgICkKICAgIHVuaW9uICggKCBbUHJvY2VkdXJlTm90RG9uZTogIkFwcGxpY2F0aW9uIG9mIEludGVybWl0dGVudCBQbmV1bWF0aWMgQ29tcHJlc3Npb24gRGV2aWNlcyJdCiAgICAgICAgdW5pb24gW1Byb2NlZHVyZU5vdERvbmU6ICJBcHBsaWNhdGlvbiBvZiBWZW5vdXMgRm9vdCBQdW1wcyJdCiAgICAgICAgdW5pb24gW1Byb2NlZHVyZU5vdERvbmU6ICJBcHBsaWNhdGlvbiBvZiBHcmFkdWF0ZWQgQ29tcHJlc3Npb24gU3RvY2tpbmdzIl0gKSBEZXZpY2VOb3RBcHBsaWVkCiAgICAgICAgbGV0IERldmljZU5vdERvbmVUaW1pbmc6IERldmljZU5vdEFwcGxpZWQucmVjb3JkZWQKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6IERldmljZU5vdEFwcGxpZWQuaWQsCiAgICAgICAgICByZXF1ZXN0U3RhdHVzUmVhc29uOiBEZXZpY2VOb3RBcHBsaWVkLnN0YXR1c1JlYXNvbiwKICAgICAgICAgIGF1dGhvcmVkT246IERldmljZU5vdERvbmVUaW1pbmcKICAgICAgICB9CiAgICApCgpkZWZpbmUgIkVuY291bnRlciBXaXRoIE5vIFZURSBQcm9waHlsYXhpcyBEdWUgVG8gUGF0aWVudCBSZWZ1c2FsIjoKICAiTm8gVlRFIFByb3BoeWxheGlzIER1ZSBUbyBQYXRpZW50IFJlZnVzYWwgRnJvbSBEYXkgT2YgU3RhcnQgT2YgSG9zcGl0YWxpemF0aW9uIFRvIERheSBBZnRlciBBZG1pc3Npb24iCiAgICB1bmlvbiAiTm8gVlRFIFByb3BoeWxheGlzIER1ZSBUbyBQYXRpZW50IFJlZnVzYWwgT24gRGF5IE9mIE9yIERheSBBZnRlciBQcm9jZWR1cmUiCgpkZWZpbmUgIk5vIFZURSBQcm9waHlsYXhpcyBEdWUgVG8gUGF0aWVudCBSZWZ1c2FsIEZyb20gRGF5IE9mIFN0YXJ0IE9mIEhvc3BpdGFsaXphdGlvbiBUbyBEYXkgQWZ0ZXIgQWRtaXNzaW9uIjoKICBWVEUuIkVuY291bnRlciBXaXRoIEFnZSBSYW5nZSBBbmQgV2l0aG91dCBWVEUgRGlhZ25vc2lzIE9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIKICAgIHdpdGggIk5vIE1lY2hhbmljYWwgT3IgUGhhcm1hY29sb2dpY2FsIFZURSBQcm9waHlsYXhpcyBEdWUgVG8gUGF0aWVudCBSZWZ1c2FsIiBQYXRpZW50UmVmdXNhbAogICAgICBzdWNoIHRoYXQgUGF0aWVudFJlZnVzYWwuYXV0aG9yZWRPbiBkdXJpbmcgZGF5IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIuZnJvbURheU9mU3RhcnRPZkhvc3BpdGFsaXphdGlvblRvRGF5QWZ0ZXJBZG1pc3Npb24gKCApCgpkZWZpbmUgIk5vIE1lY2hhbmljYWwgT3IgUGhhcm1hY29sb2dpY2FsIFZURSBQcm9waHlsYXhpcyBEdWUgVG8gUGF0aWVudCBSZWZ1c2FsIjoKICAoICJObyBWVEUgUHJvcGh5bGF4aXMgTWVkaWNhdGlvbiBBZG1pbmlzdGVyZWQgT3IgT3JkZXJlZCIgTm9WVEVNZWRpY2F0aW9uCiAgICAgIHdoZXJlIGV4aXN0cyAoIE5vVlRFTWVkaWNhdGlvbi5tZWRpY2F0aW9uU3RhdHVzUmVhc29uIE1lZFJzbgogICAgICAgICAgd2hlcmUgTWVkUnNuIGluICJQYXRpZW50IFJlZnVzYWwiCiAgICAgICkKICApCiAgICB1bmlvbiAoICJObyBNZWNoYW5pY2FsIFZURSBQcm9waHlsYXhpcyBQZXJmb3JtZWQgT3IgT3JkZXJlZCIgTm9WVEVEZXZpY2UKICAgICAgICB3aGVyZSBOb1ZURURldmljZS5yZXF1ZXN0U3RhdHVzUmVhc29uIGluICJQYXRpZW50IFJlZnVzYWwiCiAgICApCgpkZWZpbmUgIk5vIFZURSBQcm9waHlsYXhpcyBEdWUgVG8gUGF0aWVudCBSZWZ1c2FsIE9uIERheSBPZiBPciBEYXkgQWZ0ZXIgUHJvY2VkdXJlIjoKICBmcm9tCiAgICBWVEUuIkVuY291bnRlciBXaXRoIEFnZSBSYW5nZSBBbmQgV2l0aG91dCBWVEUgRGlhZ25vc2lzIE9yIE9ic3RldHJpY2FsIENvbmRpdGlvbnMiIFF1YWxpZnlpbmdFbmNvdW50ZXIsCiAgICBbIlByb2NlZHVyZSI6ICJHZW5lcmFsIG9yIE5ldXJheGlhbCBBbmVzdGhlc2lhIl0gQW5lc3RoZXNpYVByb2NlZHVyZSwKICAgICJObyBNZWNoYW5pY2FsIE9yIFBoYXJtYWNvbG9naWNhbCBWVEUgUHJvcGh5bGF4aXMgRHVlIFRvIFBhdGllbnQgUmVmdXNhbCIgUGF0aWVudFJlZnVzYWwKICAgIHdoZXJlIEFuZXN0aGVzaWFQcm9jZWR1cmUuc3RhdHVzID0gJ2NvbXBsZXRlZCcKICAgICAgYW5kIEFuZXN0aGVzaWFQcm9jZWR1cmUucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApIGVuZHMgMSBkYXkgYWZ0ZXIgZGF5IG9mIHN0YXJ0IG9mIFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kCiAgICAgIGFuZCBQYXRpZW50UmVmdXNhbC5hdXRob3JlZE9uIGR1cmluZyBkYXkgb2YgKCBlbmQgb2YgQW5lc3RoZXNpYVByb2NlZHVyZS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgKS5DYWxlbmRhckRheU9mT3JEYXlBZnRlciAoICkKICAgIHJldHVybiBRdWFsaWZ5aW5nRW5jb3VudGVyCgpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uICJmcm9tRGF5T2ZTdGFydE9mSG9zcGl0YWxpemF0aW9uVG9EYXlBZnRlckFkbWlzc2lvbiIoRW5jb3VudGVyIEVuY291bnRlcik6CiAgSW50ZXJ2YWxbZGF0ZSBmcm9tICggc3RhcnQgb2YgRW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbiAoICkgKSwgZGF0ZSBmcm9tICggc3RhcnQgb2YgRW5jb3VudGVyLnBlcmlvZCApICsgMSBkYXlzXQ=="}]},"request":{"method":"PUT","url":"Library/CMS108FHIRVTEProphylaxis"}},{"resource":{"resourceType":"Measure","id":"CMS108FHIRVTEProphylaxis","meta":{"profile":["http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablemeasure","http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-measure-cqfm","http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/publishable-measure-cqfm","http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/executable-measure-cqfm","http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cql-measure-cqfm","http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/elm-measure-cqfm","http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/proportion-measure-cqfm"]},"contained":[{"resourceType":"Library","id":"effective-data-requirements","extension":[{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://snomed.info/sct","code":"248153007","display":"Male (finding)"}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://snomed.info/sct","code":"248152002","display":"Female (finding)"}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://terminology.hl7.org/CodeSystem/condition-ver-status","code":"refuted","display":"Refuted"}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://terminology.hl7.org/CodeSystem/condition-ver-status","code":"entered-in-error","display":"Entered in Error"}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://terminology.hl7.org/CodeSystem/condition-clinical","code":"inactive","display":"Inactive"}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://terminology.hl7.org/CodeSystem/condition-clinical","code":"remission","display":"Remission"}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://terminology.hl7.org/CodeSystem/condition-clinical","code":"resolved","display":"Resolved"}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://loinc.org","code":"72136-5","display":"Risk for venous thromboembolism"}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://hl7.org/fhir/CodeSystem/task-code","code":"fulfill","display":"Fulfill"}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://terminology.hl7.org/CodeSystem/ex-diagnosistype","code":"principal","display":"Principal Diagnosis"}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-directReferenceCode","valueCoding":{"system":"http://terminology.hl7.org/CodeSystem/ex-procedure-type","code":"primary","display":"Primary procedure"}},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"SupplementalDataElements"},{"url":"name","valueString":"SDE Sex"},{"url":"statement","valueString":"define \"SDE Sex\":\n  case\n    when Patient.sex = '248153007' then \"Male (finding)\"\n    when Patient.sex = '248152002' then \"Female (finding)\"\n    else null\n  end"},{"url":"displaySequence","valueInteger":0}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"SDE Sex"},{"url":"statement","valueString":"define \"SDE Sex\":\n  SDE.\"SDE Sex\""},{"url":"displaySequence","valueInteger":1}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CQMCommon"},{"url":"name","valueString":"Inpatient Encounter"},{"url":"statement","valueString":"define \"Inpatient Encounter\":\n  [Encounter: \"Encounter Inpatient\"] EncounterInpatient\n    where EncounterInpatient.status = 'finished'\n      and EncounterInpatient.period ends during day of \"Measurement Period\""},{"url":"displaySequence","valueInteger":2}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"VTE"},{"url":"name","valueString":"Admission Without VTE Or Obstetrical Conditions"},{"url":"statement","valueString":"define \"Admission Without VTE Or Obstetrical Conditions\":\n  CQMCommon.\"Inpatient Encounter\" InpatientEncounter\n  where not (InpatientEncounter.hasEncDiagnosisOf(\"Obstetrical or Pregnancy Related Conditions\")\n             or InpatientEncounter.hasEncDiagnosisOf(\"Venous Thromboembolism\")\n             or InpatientEncounter.hasEncDiagnosisOf(\"Obstetrics VTE\")\n            )"},{"url":"displaySequence","valueInteger":3}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"VTE"},{"url":"name","valueString":"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions"},{"url":"statement","valueString":"define \"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\":\n \"Admission Without VTE Or Obstetrical Conditions\" EncounterWithoutConditions\n     where AgeInYearsAt(date from start of EncounterWithoutConditions.period) >= 18"},{"url":"displaySequence","valueInteger":4}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Pharmacological or Mechanical VTE Prophylaxis Received"},{"url":"statement","valueString":"define \"Pharmacological or Mechanical VTE Prophylaxis Received\":\n  ( [\"MedicationAdministration\": medication in \"Low Dose Unfractionated Heparin for VTE Prophylaxis\"] VTEMedication\n      where VTEMedication.status = 'completed'\n        and VTEMedication.dosage.route in \"Subcutaneous route\"\n  )\n    union ( [\"MedicationAdministration\": medication in \"Low Molecular Weight Heparin for VTE Prophylaxis\"] LMWH\n        where LMWH.status = 'completed'\n    )\n    union ( [\"MedicationAdministration\": medication in \"Injectable Factor Xa Inhibitor for VTE Prophylaxis\"] FactorXa\n        where FactorXa.status = 'completed'\n    )\n    union ( [\"MedicationAdministration\": medication in \"Warfarin\"] WarfarinAdm\n        where WarfarinAdm.status = 'completed'\n    )\n    union ( [\"MedicationAdministration\": medication in \"Rivaroxaban for VTE Prophylaxis\"] Rivaroxaban\n        where Rivaroxaban.status = 'completed'\n    )\n    union ( ( [\"Procedure\": \"Application of Intermittent Pneumatic Compression Devices\"]\n        union [\"Procedure\": \"Application of Venous Foot Pumps\"]\n        union [\"Procedure\": \"Application of Graduated Compression Stockings\"] ) DeviceApplied\n        where DeviceApplied.status = 'completed'\n    )"},{"url":"displaySequence","valueInteger":5}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With VTE Prophylaxis Received From Day Of Start Of Hospitalization To Day After Admission Or Procedure"},{"url":"statement","valueString":"define \"Encounter With VTE Prophylaxis Received From Day Of Start Of Hospitalization To Day After Admission Or Procedure\":\n  ( from\n      VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter,\n      \"Pharmacological or Mechanical VTE Prophylaxis Received\" VTEProphylaxis\n      where Coalesce(VTEProphylaxis.effective.toInterval(), VTEProphylaxis.performed.toInterval()) starts during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )\n      return QualifyingEncounter\n  )\n    union ( from\n        VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter,\n        [\"Procedure\": \"General or Neuraxial Anesthesia\"] AnesthesiaProcedure,\n        \"Pharmacological or Mechanical VTE Prophylaxis Received\" VTEProphylaxis\n        where AnesthesiaProcedure.status = 'completed'\n          and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\n          and Coalesce(VTEProphylaxis.effective.toInterval(), VTEProphylaxis.performed.toInterval()) starts during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\n        return QualifyingEncounter\n    )"},{"url":"displaySequence","valueInteger":6}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With Medication Oral Factor Xa Inhibitor Administered On Day Of Or Day After Admission Or Procedure"},{"url":"statement","valueString":"define \"Encounter With Medication Oral Factor Xa Inhibitor Administered On Day Of Or Day After Admission Or Procedure\":\n  ( from\n      VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter,\n      [\"MedicationAdministration\": medication in \"Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment\"] FactorXaMedication\n      where FactorXaMedication.status = 'completed'\n        and FactorXaMedication.effective.toInterval ( ) starts during day of ( start of QualifyingEncounter.period ).CalendarDayOfOrDayAfter ( )\n      return QualifyingEncounter\n  )\n    union ( from\n        VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter,\n        [\"Procedure\": \"General or Neuraxial Anesthesia\"] AnesthesiaProcedure,\n        [\"MedicationAdministration\": medication in \"Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment\"] FactorXaMedication\n        where FactorXaMedication.status = 'completed'\n          and AnesthesiaProcedure.status = 'completed'\n          and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\n          and FactorXaMedication.effective.toInterval ( ) starts during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\n        return QualifyingEncounter\n    )"},{"url":"displaySequence","valueInteger":7}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With Prior Or Present Diagnosis Of Atrial Fibrillation Or Prior Diagnosis Of VTE"},{"url":"statement","valueString":"define \"Encounter With Prior Or Present Diagnosis Of Atrial Fibrillation Or Prior Diagnosis Of VTE\":\n  ( VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n      with [\"ConditionProblemsHealthConcerns\": \"Atrial Fibrillation or Flutter\"] AtrialFibrillation\n        such that // CQMCOmmon new function isVerified() will be used to replace the following verificationStatus logic\n        AtrialFibrillation.verificationStatus is not null implies ( AtrialFibrillation.verificationStatus !~ QICoreCommon.\"refuted\"\n            and AtrialFibrillation.verificationStatus !~ QICoreCommon.\"entered-in-error\"\n        )\n          and AtrialFibrillation.onset.toInterval ( ) starts on or before end of QualifyingEncounter.period\n  )\n    union ( VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n        where QualifyingEncounter.hasEncDiagnosisOf ( \"Atrial Fibrillation or Flutter\" )\n    )\n    union ( VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n        with [\"ConditionProblemsHealthConcerns\": \"Venous Thromboembolism\"] VTEDiagnosis\n          such that ( VTEDiagnosis.clinicalStatus ~ QICoreCommon.\"inactive\"\n              or VTEDiagnosis.clinicalStatus ~ QICoreCommon.\"remission\"\n              or VTEDiagnosis.clinicalStatus ~ QICoreCommon.\"resolved\"\n          )// CQMCOmmon new function isVerified() will be used to replace the following verificationStatus logic\n            \n            and VTEDiagnosis.verificationStatus is not null implies ( VTEDiagnosis.verificationStatus !~ QICoreCommon.\"refuted\"\n              and VTEDiagnosis.verificationStatus !~ QICoreCommon.\"entered-in-error\"\n          )\n            and VTEDiagnosis.onset.toInterval ( ) before start of QualifyingEncounter.period\n    )"},{"url":"displaySequence","valueInteger":8}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With Prior Or Present Procedure Of Hip Or Knee Replacement Surgery"},{"url":"statement","valueString":"define \"Encounter With Prior Or Present Procedure Of Hip Or Knee Replacement Surgery\":\n  VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n    with ( [\"Procedure\": \"Hip Replacement Surgery\"]\n      union [\"Procedure\": \"Knee Replacement Surgery\"] ) HipKneeProcedure\n      such that HipKneeProcedure.status = 'completed'\n        and HipKneeProcedure.performed.toInterval ( ) starts on or before end of QualifyingEncounter.period"},{"url":"displaySequence","valueInteger":9}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Low Risk Indicator For VTE"},{"url":"statement","valueString":"define \"Low Risk Indicator For VTE\":\n  ( [\"SimpleObservation\": \"Risk for venous thromboembolism\"] VTERiskAssessment\n      where VTERiskAssessment.value as Concept in \"Low Risk\"\n        and VTERiskAssessment.status in { 'final', 'amended', 'corrected' }\n      return {\n        id: VTERiskAssessment.id,\n        LowRiskDatetime: VTERiskAssessment.effective.earliest ( )\n      }\n  )\n    union ( [\"LaboratoryResultObservation\": \"INR\"] INRLabTest\n        where INRLabTest.value as Quantity > 3.0\n          and INRLabTest.status in { 'final', 'amended', 'corrected' }\n        return {\n          id: INRLabTest.id,\n          LowRiskDatetime: INRLabTest.issued\n        }\n    )\n    union ( ( ( [\"MedicationAdministration\": medication in \"Unfractionated Heparin\"] UnfractionatedHeparin\n          where UnfractionatedHeparin.dosage.route in \"Intravenous route\"\n      )\n        union [\"MedicationAdministration\": medication in \"Direct Thrombin Inhibitor\"]\n        union [\"MedicationAdministration\": medication in \"Glycoprotein IIb IIIa Inhibitors\"] ) AnticoagulantMedication\n        where AnticoagulantMedication.status = 'completed'\n        return {\n          id: AnticoagulantMedication.id,\n          LowRiskDatetime: start of AnticoagulantMedication.effective.toInterval ( )\n        }\n    )"},{"url":"displaySequence","valueInteger":10}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Low Risk For VTE Or Anticoagulant Administered From Day Of Start Of Hospitalization To Day After Admission"},{"url":"statement","valueString":"define \"Low Risk For VTE Or Anticoagulant Administered From Day Of Start Of Hospitalization To Day After Admission\":\n  VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n    with \"Low Risk Indicator For VTE\" LowRiskForVTE\n      such that LowRiskForVTE.LowRiskDatetime during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )"},{"url":"displaySequence","valueInteger":11}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Low Risk For VTE Or Anticoagulant Administered On Day Of Or Day After Procedure"},{"url":"statement","valueString":"define \"Low Risk For VTE Or Anticoagulant Administered On Day Of Or Day After Procedure\":\n  from\n    VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter,\n    [\"Procedure\": \"General or Neuraxial Anesthesia\"] AnesthesiaProcedure,\n    \"Low Risk Indicator For VTE\" LowRiskForVTE\n    where AnesthesiaProcedure.status = 'completed'\n      and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\n      and LowRiskForVTE.LowRiskDatetime during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\n    return QualifyingEncounter"},{"url":"displaySequence","valueInteger":12}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With Low Risk For VTE Or Anticoagulant Administered"},{"url":"statement","valueString":"define \"Encounter With Low Risk For VTE Or Anticoagulant Administered\":\n  \"Low Risk For VTE Or Anticoagulant Administered From Day Of Start Of Hospitalization To Day After Admission\"\n    union \"Low Risk For VTE Or Anticoagulant Administered On Day Of Or Day After Procedure\""},{"url":"displaySequence","valueInteger":13}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"No VTE Prophylaxis Medication Administered Or Ordered"},{"url":"statement","valueString":"define \"No VTE Prophylaxis Medication Administered Or Ordered\":\n  ( ( [MedicationAdministrationNotDone: \"Low Dose Unfractionated Heparin for VTE Prophylaxis\"]\n      union [MedicationAdministrationNotDone: \"Low Molecular Weight Heparin for VTE Prophylaxis\"]\n      union [MedicationAdministrationNotDone: \"Injectable Factor Xa Inhibitor for VTE Prophylaxis\"]\n      union [MedicationAdministrationNotDone: \"Warfarin\"]\n      union [MedicationAdministrationNotDone: \"Rivaroxaban for VTE Prophylaxis\"] ) NoMedicationAdm\n      return {\n        id: NoMedicationAdm.id,\n        medicationStatusReason: NoMedicationAdm.statusReason,\n        authoredOn: NoMedicationAdm.recorded\n      }\n  )\n    union ( ( [\"MedicationNotRequested\": \"Low Dose Unfractionated Heparin for VTE Prophylaxis\"]\n        union [\"MedicationNotRequested\": \"Low Molecular Weight Heparin for VTE Prophylaxis\"]\n        union [\"MedicationNotRequested\": \"Injectable Factor Xa Inhibitor for VTE Prophylaxis\"]\n        union [\"MedicationNotRequested\": \"Warfarin\"]\n        union [\"MedicationNotRequested\": \"Rivaroxaban for VTE Prophylaxis\"] ) NoMedicationOrder\n        where NoMedicationOrder.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\n        return {\n          id: NoMedicationOrder.id,\n          medicationStatusReason: NoMedicationOrder.reasonCode,\n          authoredOn: NoMedicationOrder.authoredOn\n        }\n    )\n    union ( from\n        ( [\"MedicationRequest\": \"Low Dose Unfractionated Heparin for VTE Prophylaxis\"]\n          union [\"MedicationRequest\": \"Low Molecular Weight Heparin for VTE Prophylaxis\"]\n          union [\"MedicationRequest\": \"Injectable Factor Xa Inhibitor for VTE Prophylaxis\"]\n          union [\"MedicationRequest\": \"Warfarin\"]\n          union [\"MedicationRequest\": \"Rivaroxaban for VTE Prophylaxis\"] ) MedicationOrderReject,\n        [TaskRejected] T\n        where T.focus.references ( MedicationOrderReject )\n          and T.code ~ QICoreCommon.\"Fulfill\"\n          and MedicationOrderReject.status = 'active'\n        return {\n          id: MedicationOrderReject.id,\n          medicationStatusReason: { T.statusReason },\n          authoredOn: MedicationOrderReject.authoredOn\n        }\n    )"},{"url":"displaySequence","valueInteger":14}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"No VTE Prophylaxis Medication Due To Medical Reason From Day Of Start Of Hospitalization To Day After Admission"},{"url":"statement","valueString":"define \"No VTE Prophylaxis Medication Due To Medical Reason From Day Of Start Of Hospitalization To Day After Admission\":\n  VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n    with \"No VTE Prophylaxis Medication Administered Or Ordered\" NoVTEMedication\n      such that NoVTEMedication.medicationStatusReason in \"Medical Reason For Not Providing Treatment\"\n        and NoVTEMedication.authoredOn during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )"},{"url":"displaySequence","valueInteger":15}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"No Mechanical VTE Prophylaxis Performed Or Ordered"},{"url":"statement","valueString":"define \"No Mechanical VTE Prophylaxis Performed Or Ordered\":\n  ( ( [ServiceNotRequested: \"Venous foot pumps\"]\n      union [ServiceNotRequested: \"Intermittent pneumatic compression devices\"]\n      union [ServiceNotRequested: \"Graduated compression stockings\"] ) DeviceNotOrder\n      where DeviceNotOrder.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\n      return {\n        id: DeviceNotOrder.id,\n        requestStatusReason: DeviceNotOrder.reasonRefused,\n        authoredOn: DeviceNotOrder.authoredOn\n      }\n  )\n    union ( from\n        ( [ServiceRequest: \"Venous foot pumps\"]\n          union [ServiceRequest: \"Intermittent pneumatic compression devices\"]\n          union [ServiceRequest: \"Graduated compression stockings\"] ) DeviceOrderReject,\n        [TaskRejected] T\n        where DeviceOrderReject.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\n          and DeviceOrderReject.status = 'active'\n          and T.focus.references ( DeviceOrderReject )\n          and T.code ~ QICoreCommon.\"Fulfill\"\n        return {\n          id: DeviceOrderReject.id,\n          requestStatusReason: T.statusReason,\n          authoredOn: DeviceOrderReject.authoredOn\n        }\n    )\n    union ( ( [ProcedureNotDone: \"Application of Intermittent Pneumatic Compression Devices\"]\n        union [ProcedureNotDone: \"Application of Venous Foot Pumps\"]\n        union [ProcedureNotDone: \"Application of Graduated Compression Stockings\"] ) DeviceNotApplied\n        let DeviceNotDoneTiming: DeviceNotApplied.recorded\n        return {\n          id: DeviceNotApplied.id,\n          requestStatusReason: DeviceNotApplied.statusReason,\n          authoredOn: DeviceNotDoneTiming\n        }\n    )"},{"url":"displaySequence","valueInteger":16}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"No Mechanical VTE Prophylaxis Due To Medical Reason From Day Of Start Of Hospitalization To Day After Admission"},{"url":"statement","valueString":"define \"No Mechanical VTE Prophylaxis Due To Medical Reason From Day Of Start Of Hospitalization To Day After Admission\":\n  VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n    with \"No Mechanical VTE Prophylaxis Performed Or Ordered\" NoVTEDevice\n      such that NoVTEDevice.requestStatusReason in \"Medical Reason For Not Providing Treatment\"\n        and NoVTEDevice.authoredOn during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )"},{"url":"displaySequence","valueInteger":17}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"No VTE Prophylaxis Medication Due To Medical Reason On Day Of Or Day After Procedure"},{"url":"statement","valueString":"define \"No VTE Prophylaxis Medication Due To Medical Reason On Day Of Or Day After Procedure\":\n  from\n    VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter,\n    [\"Procedure\": \"General or Neuraxial Anesthesia\"] AnesthesiaProcedure,\n    \"No VTE Prophylaxis Medication Administered Or Ordered\" NoVTEMedication\n    where NoVTEMedication.medicationStatusReason in \"Medical Reason For Not Providing Treatment\"\n      and AnesthesiaProcedure.status = 'completed'\n      and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\n      and NoVTEMedication.authoredOn during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\n    return QualifyingEncounter"},{"url":"displaySequence","valueInteger":18}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"No Mechanical VTE Prophylaxis Due To Medical Reason On Day Of Or Day After Procedure"},{"url":"statement","valueString":"define \"No Mechanical VTE Prophylaxis Due To Medical Reason On Day Of Or Day After Procedure\":\n  from\n    VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter,\n    [\"Procedure\": \"General or Neuraxial Anesthesia\"] AnesthesiaProcedure,\n    \"No Mechanical VTE Prophylaxis Performed Or Ordered\" NoVTEDevice\n    where NoVTEDevice.requestStatusReason in \"Medical Reason For Not Providing Treatment\"\n      and AnesthesiaProcedure.status = 'completed'\n      and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\n      and NoVTEDevice.authoredOn during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\n    return QualifyingEncounter"},{"url":"displaySequence","valueInteger":19}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With No VTE Prophylaxis Due To Medical Reason"},{"url":"statement","valueString":"define \"Encounter With No VTE Prophylaxis Due To Medical Reason\":\n  ( \"No VTE Prophylaxis Medication Due To Medical Reason From Day Of Start Of Hospitalization To Day After Admission\"\n      intersect \"No Mechanical VTE Prophylaxis Due To Medical Reason From Day Of Start Of Hospitalization To Day After Admission\"\n  )\n    union ( \"No VTE Prophylaxis Medication Due To Medical Reason On Day Of Or Day After Procedure\"\n        intersect \"No Mechanical VTE Prophylaxis Due To Medical Reason On Day Of Or Day After Procedure\"\n    )"},{"url":"displaySequence","valueInteger":20}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"No Mechanical Or Pharmacological VTE Prophylaxis Due To Patient Refusal"},{"url":"statement","valueString":"define \"No Mechanical Or Pharmacological VTE Prophylaxis Due To Patient Refusal\":\n  ( \"No VTE Prophylaxis Medication Administered Or Ordered\" NoVTEMedication\n      where exists ( NoVTEMedication.medicationStatusReason MedRsn\n          where MedRsn in \"Patient Refusal\"\n      )\n  )\n    union ( \"No Mechanical VTE Prophylaxis Performed Or Ordered\" NoVTEDevice\n        where NoVTEDevice.requestStatusReason in \"Patient Refusal\"\n    )"},{"url":"displaySequence","valueInteger":21}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"No VTE Prophylaxis Due To Patient Refusal From Day Of Start Of Hospitalization To Day After Admission"},{"url":"statement","valueString":"define \"No VTE Prophylaxis Due To Patient Refusal From Day Of Start Of Hospitalization To Day After Admission\":\n  VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n    with \"No Mechanical Or Pharmacological VTE Prophylaxis Due To Patient Refusal\" PatientRefusal\n      such that PatientRefusal.authoredOn during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )"},{"url":"displaySequence","valueInteger":22}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"No VTE Prophylaxis Due To Patient Refusal On Day Of Or Day After Procedure"},{"url":"statement","valueString":"define \"No VTE Prophylaxis Due To Patient Refusal On Day Of Or Day After Procedure\":\n  from\n    VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter,\n    [\"Procedure\": \"General or Neuraxial Anesthesia\"] AnesthesiaProcedure,\n    \"No Mechanical Or Pharmacological VTE Prophylaxis Due To Patient Refusal\" PatientRefusal\n    where AnesthesiaProcedure.status = 'completed'\n      and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\n      and PatientRefusal.authoredOn during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\n    return QualifyingEncounter"},{"url":"displaySequence","valueInteger":23}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With No VTE Prophylaxis Due To Patient Refusal"},{"url":"statement","valueString":"define \"Encounter With No VTE Prophylaxis Due To Patient Refusal\":\n  \"No VTE Prophylaxis Due To Patient Refusal From Day Of Start Of Hospitalization To Day After Admission\"\n    union \"No VTE Prophylaxis Due To Patient Refusal On Day Of Or Day After Procedure\""},{"url":"displaySequence","valueInteger":24}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Numerator"},{"url":"statement","valueString":"define \"Numerator\":\n  \"Encounter With VTE Prophylaxis Received From Day Of Start Of Hospitalization To Day After Admission Or Procedure\"\n    union ( \"Encounter With Medication Oral Factor Xa Inhibitor Administered On Day Of Or Day After Admission Or Procedure\"\n        intersect ( \"Encounter With Prior Or Present Diagnosis Of Atrial Fibrillation Or Prior Diagnosis Of VTE\"\n            union \"Encounter With Prior Or Present Procedure Of Hip Or Knee Replacement Surgery\"\n        )\n    )\n    union \"Encounter With Low Risk For VTE Or Anticoagulant Administered\"\n    union \"Encounter With No VTE Prophylaxis Due To Medical Reason\"\n    union \"Encounter With No VTE Prophylaxis Due To Patient Refusal\""},{"url":"displaySequence","valueInteger":25}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Initial Population"},{"url":"statement","valueString":"define \"Initial Population\":\n  VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\""},{"url":"displaySequence","valueInteger":26}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Denominator"},{"url":"statement","valueString":"define \"Denominator\":\n  \"Initial Population\""},{"url":"displaySequence","valueInteger":27}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"SupplementalDataElements"},{"url":"name","valueString":"SDE Payer"},{"url":"statement","valueString":"define \"SDE Payer\":\n  [Coverage: type in \"Payer Type\"] Payer\n    return {\n      code: Payer.type,\n      period: Payer.period\n    }"},{"url":"displaySequence","valueInteger":28}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"SDE Payer"},{"url":"statement","valueString":"define \"SDE Payer\":\n  SDE.\"SDE Payer\""},{"url":"displaySequence","valueInteger":29}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"SupplementalDataElements"},{"url":"name","valueString":"SDE Ethnicity"},{"url":"statement","valueString":"define \"SDE Ethnicity\":\n  Patient.ethnicity E\n    return Tuple {\n      codes: { E.ombCategory } union E.detailed,\n      display: E.text\n    }"},{"url":"displaySequence","valueInteger":30}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"SDE Ethnicity"},{"url":"statement","valueString":"define \"SDE Ethnicity\":\n  SDE.\"SDE Ethnicity\""},{"url":"displaySequence","valueInteger":31}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter Less Than 2 Days"},{"url":"statement","valueString":"define \"Encounter Less Than 2 Days\":\n  VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n    where QualifyingEncounter.period.lengthInDays ( ) < 2"},{"url":"displaySequence","valueInteger":32}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With ICU Location Stay 1 Day Or More"},{"url":"statement","valueString":"define \"Encounter With ICU Location Stay 1 Day Or More\":\n  VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n    where exists ( QualifyingEncounter.location Location\n        where Location.location.getLocation ( ).type in \"Intensive Care Unit\"\n          and Location.period.lengthInDays ( ) >= 1\n          and Location.period starts on or after start of QualifyingEncounter.period\n          and date from ( start of Location.period ) during ( start of QualifyingEncounter.period ).CalendarDayOfOrDayAfter ( )\n    )"},{"url":"displaySequence","valueInteger":33}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With Principal Diagnosis Of Mental Disorder Or Stroke"},{"url":"statement","valueString":"define \"Encounter With Principal Diagnosis Of Mental Disorder Or Stroke\":\n  VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n    where QualifyingEncounter.hasPrincipalDiagnosisOf ( \"Mental Health Diagnoses\" )\n      or QualifyingEncounter.hasPrincipalDiagnosisOf ( \"Hemorrhagic Stroke\" )\n      or QualifyingEncounter.hasPrincipalDiagnosisOf ( \"Ischemic Stroke\" )"},{"url":"displaySequence","valueInteger":34}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With Principal Procedure Of Selected Surgery"},{"url":"statement","valueString":"define \"Encounter With Principal Procedure Of Selected Surgery\":\n  VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n    where QualifyingEncounter.hasPrincipalProcedureOf ( \"General Surgery\" )\n      or QualifyingEncounter.hasPrincipalProcedureOf ( \"Gynecological Surgery\" )\n      or QualifyingEncounter.hasPrincipalProcedureOf ( \"Hip Fracture Surgery\" )\n      or QualifyingEncounter.hasPrincipalProcedureOf ( \"Hip Replacement Surgery\" )\n      or QualifyingEncounter.hasPrincipalProcedureOf ( \"Intracranial Neurosurgery\" )\n      or QualifyingEncounter.hasPrincipalProcedureOf ( \"Knee Replacement Surgery\" )\n      or QualifyingEncounter.hasPrincipalProcedureOf ( \"Urological Surgery\" )"},{"url":"displaySequence","valueInteger":35}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Intervention Comfort Measures"},{"url":"statement","valueString":"define \"Intervention Comfort Measures\":\n  ( [\"ServiceRequest\": \"Comfort Measures\"] InterventionRequest\n      where InterventionRequest.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\n        and InterventionRequest.status in { 'active', 'on-hold', 'completed' }\n  )\n    union ( [\"Procedure\": \"Comfort Measures\"] InterventionPerformed\n        where InterventionPerformed.status in { 'completed', 'in-progress' }\n    )"},{"url":"displaySequence","valueInteger":36}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With Intervention Comfort Measures From Day Of Start Of Hospitalization To Day After Admission"},{"url":"statement","valueString":"define \"Encounter With Intervention Comfort Measures From Day Of Start Of Hospitalization To Day After Admission\":\n  VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter\n    with \"Intervention Comfort Measures\" ComfortMeasure\n      such that Coalesce(start of ComfortMeasure.performed.toInterval(), ComfortMeasure.authoredOn) during day of QualifyingEncounter.fromDayOfStartOfHospitalizationToDayAfterAdmission ( )"},{"url":"displaySequence","valueInteger":37}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Encounter With Intervention Comfort Measures On Day Of Or Day After Procedure"},{"url":"statement","valueString":"define \"Encounter With Intervention Comfort Measures On Day Of Or Day After Procedure\":\n  from\n    VTE.\"Encounter With Age Range And Without VTE Diagnosis Or Obstetrical Conditions\" QualifyingEncounter,\n    [\"Procedure\": \"General or Neuraxial Anesthesia\"] AnesthesiaProcedure,\n    \"Intervention Comfort Measures\" ComfortMeasure\n    where AnesthesiaProcedure.status = 'completed'\n      and AnesthesiaProcedure.performed.toInterval ( ) ends 1 day after day of start of QualifyingEncounter.period\n      and Coalesce(start of ComfortMeasure.performed.toInterval(), ComfortMeasure.authoredOn) during day of ( end of AnesthesiaProcedure.performed.toInterval ( ) ).CalendarDayOfOrDayAfter ( )\n    return QualifyingEncounter"},{"url":"displaySequence","valueInteger":38}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"Denominator Exclusions"},{"url":"statement","valueString":"define \"Denominator Exclusions\":\n  \"Encounter Less Than 2 Days\"\n    union \"Encounter With ICU Location Stay 1 Day Or More\"\n    union \"Encounter With Principal Diagnosis Of Mental Disorder Or Stroke\"\n    union \"Encounter With Principal Procedure Of Selected Surgery\"\n    union \"Encounter With Intervention Comfort Measures From Day Of Start Of Hospitalization To Day After Admission\"\n    union \"Encounter With Intervention Comfort Measures On Day Of Or Day After Procedure\""},{"url":"displaySequence","valueInteger":39}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"SupplementalDataElements"},{"url":"name","valueString":"SDE Race"},{"url":"statement","valueString":"define \"SDE Race\":\n  Patient.race R\n    return Tuple {\n      codes: R.ombCategory union R.detailed,\n      display: R.text\n    }"},{"url":"displaySequence","valueInteger":40}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"SDE Race"},{"url":"statement","valueString":"define \"SDE Race\":\n  SDE.\"SDE Race\""},{"url":"displaySequence","valueInteger":41}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"FHIRHelpers"},{"url":"name","valueString":"ToString"},{"url":"statement","valueString":"define function ToString(value uri): value.value"},{"url":"displaySequence","valueInteger":42}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"FHIRHelpers"},{"url":"name","valueString":"ToInterval"},{"url":"statement","valueString":"/*\n@description: Converts the given [Period](https://hl7.org/fhir/datatypes.html#Period)\nvalue to a CQL DateTime Interval\n@comment: If the start value of the given period is unspecified, the starting\nboundary of the resulting interval will be open (meaning the start of the interval\nis unknown, as opposed to interpreted as the beginning of time).\n*/\ndefine function ToInterval(period FHIR.Period):\n    if period is null then\n        null\n    else\n        if period.\"start\" is null then\n            Interval(period.\"start\".value, period.\"end\".value]\n        else\n            Interval[period.\"start\".value, period.\"end\".value]"},{"url":"displaySequence","valueInteger":43}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"VTE"},{"url":"name","valueString":"hasEncDiagnosisOf"},{"url":"statement","valueString":"define fluent function hasEncDiagnosisOf(TheEncounter Encounter, DiagnosisValueSet ValueSet):\n   TheEncounter E\n     return (E.encounterDiagnosis()).code in DiagnosisValueSet\n       or E.reasonCode in DiagnosisValueSet"},{"url":"displaySequence","valueInteger":44}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CQMCommon"},{"url":"name","valueString":"encounterDiagnosis"},{"url":"statement","valueString":"/*  \n@description: Returns the Condition resources referenced by the diagnosis element of the Encounter  \n*/\ndefine fluent function encounterDiagnosis(Encounter Encounter ):\n  Encounter.reasonReference D\n    return singleton from (([ConditionEncounterDiagnosis] union [ConditionProblemsHealthConcerns]) C where D.references(C.id))"},{"url":"displaySequence","valueInteger":45}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"QICoreCommon"},{"url":"name","valueString":"references"},{"url":"statement","valueString":"/*\n@description: Returns true if the given reference is to the given resourceId\n@comment: Returns true if the `resourceId` parameter exactly equals the tail of the given reference.\nNOTE: This function assumes resources from the same source server.\n*/\ndefine fluent function references(reference Reference, resourceId String):\n  resourceId = Last(Split(reference.reference, '/'))"},{"url":"displaySequence","valueInteger":46}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"FHIRHelpers"},{"url":"name","valueString":"ToConcept"},{"url":"statement","valueString":"/*\n@description: Converts the given FHIR [CodeableConcept](https://hl7.org/fhir/datatypes.html#CodeableConcept) value to a CQL Concept.\n*/\ndefine function ToConcept(concept FHIR.CodeableConcept):\n    if concept is null then\n        null\n    else\n        System.Concept {\n            codes: concept.coding C return ToCode(C),\n            display: concept.text.value\n        }"},{"url":"displaySequence","valueInteger":47}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"FHIRHelpers"},{"url":"name","valueString":"ToCode"},{"url":"statement","valueString":"/*\n@description: Converts the given FHIR [Coding](https://hl7.org/fhir/datatypes.html#Coding) value to a CQL Code.\n*/\ndefine function ToCode(coding FHIR.Coding):\n    if coding is null then\n        null\n    else\n        System.Code {\n          code: coding.code.value,\n          system: coding.system.value,\n          version: coding.version.value,\n          display: coding.display.value\n        }"},{"url":"displaySequence","valueInteger":48}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"QICoreCommon"},{"url":"name","valueString":"toInterval"},{"url":"statement","valueString":"/*\n@description: Normalizes a value that is a choice of timing-valued types to an equivalent interval\n@comment: Normalizes a choice type of DateTime, Quanitty, Interval<DateTime>, or Interval<Quantity> types\nto an equivalent interval. This selection of choice types is a superset of the majority of choice types that are used as possible\nrepresentations for timing-valued elements in QICore, allowing this function to be used across any resource.\nThe input can be provided as a DateTime, Quantity, Interval<DateTime> or Interval<Quantity>.\nThe intent of this function is to provide a clear and concise mechanism to treat single\nelements that have multiple possible representations as intervals so that logic doesn't have to account\nfor the variability. More complex calculations (such as medication request period or dispense period\ncalculation) need specific guidance and consideration. That guidance may make use of this function, but\nthe focus of this function is on single element calculations where the semantics are unambiguous.\nIf the input is a DateTime, the result a DateTime Interval beginning and ending on that DateTime.\nIf the input is a Quantity, the quantity is expected to be a calendar-duration interpreted as an Age,\nand the result is a DateTime Interval beginning on the Date the patient turned that age and ending immediately before one year later.\nIf the input is a DateTime Interval, the result is the input.\nIf the input is a Quantity Interval, the quantities are expected to be calendar-durations interpreted as an Age, and the result\nis a DateTime Interval beginning on the date the patient turned the age given as the start of the quantity interval, and ending\nimmediately before one year later than the date the patient turned the age given as the end of the quantity interval.\nIf the input is a Timing, an error will be thrown indicating that Timing calculations are not implemented. Any other input will reslt in a null DateTime Interval\n*/\ndefine fluent function toInterval(choice Choice<DateTime, Quantity, Interval<DateTime>, Interval<Quantity>, Timing>):\n  case\n\t  when choice is DateTime then\n    \tInterval[choice as DateTime, choice as DateTime]\n\t\twhen choice is Interval<DateTime> then\n  \t\tchoice as Interval<DateTime>\n\t\twhen choice is Quantity then\n\t\t  Interval[Patient.birthDate + (choice as Quantity),\n\t\t\t  Patient.birthDate + (choice as Quantity) + 1 year)\n\t\twhen choice is Interval<Quantity> then\n\t\t  Interval[Patient.birthDate + (choice.low as Quantity),\n\t\t\t  Patient.birthDate + (choice.high as Quantity) + 1 year)\n\t\twhen choice is Timing then\n      Message(null, true, 'NOT_IMPLEMENTED', 'Error', 'Calculation of an interval from a Timing value is not supported') as Interval<DateTime>\n\t\telse\n\t\t\tnull as Interval<DateTime>\n\tend"},{"url":"displaySequence","valueInteger":49}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CMS108FHIRVTEProphylaxis"},{"url":"name","valueString":"fromDayOfStartOfHospitalizationToDayAfterAdmission"},{"url":"statement","valueString":"define fluent function \"fromDayOfStartOfHospitalizationToDayAfterAdmission\"(Encounter Encounter):\n  Interval[date from ( start of Encounter.hospitalizationWithObservation ( ) ), date from ( start of Encounter.period ) + 1 days]"},{"url":"displaySequence","valueInteger":50}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CQMCommon"},{"url":"name","valueString":"hospitalizationWithObservation"},{"url":"statement","valueString":"/*\n@description: Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter\n*/\ndefine fluent function hospitalizationWithObservation(TheEncounter Encounter ):\n  TheEncounter Visit\n  \t\tlet ObsVisit: Last([Encounter: \"Observation Services\"] LastObs\n  \t\t\t\twhere LastObs.status = 'finished'\n            and LastObs.period ends 1 hour or less on or before start of Visit.period\n  \t\t\t\tsort by end of period\n  \t\t\t),\n  \t\t\tVisitStart: Coalesce(start of ObsVisit.period, start of Visit.period),\n  \t\t\tEDVisit: Last([Encounter: \"Emergency Department Visit\"] LastED\n  \t\t\t\twhere LastED.status = 'finished'\n            and LastED.period ends 1 hour or less on or before VisitStart\n  \t\t\t\tsort by end of period\n  \t\t\t)\n  \t\treturn Interval[Coalesce(start of EDVisit.period, VisitStart), end of Visit.period]"},{"url":"displaySequence","valueInteger":51}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"TJCOverall"},{"url":"name","valueString":"CalendarDayOfOrDayAfter"},{"url":"statement","valueString":"define fluent function CalendarDayOfOrDayAfter(StartValue DateTime):\n  Interval [date from (StartValue), date from (StartValue) + 1 day]"},{"url":"displaySequence","valueInteger":52}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"QICoreCommon"},{"url":"name","valueString":"earliest"},{"url":"statement","valueString":"/*\n@description: Given an interval, return the starting point if the interval has a starting boundary specified,\notherwise, return the ending point\n*/\ndefine fluent function earliest(choice Choice<DateTime, Quantity, Interval<DateTime>, Interval<Quantity>> ):\n  (choice.toInterval()) period\n    return\n      if (period.\"hasStart\"()) then start of period\n      else end of period"},{"url":"displaySequence","valueInteger":53}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"QICoreCommon"},{"url":"name","valueString":"hasStart"},{"url":"statement","valueString":"/*\n@description: Given an interval, return true if the interval has a starting boundary specified\n(i.e. the start of the interval is not null and not the minimum DateTime value)\n*/\ndefine fluent function hasStart(period Interval<DateTime> ):\n  not ( start of period is null\n      or start of period = minimum DateTime\n  )"},{"url":"displaySequence","valueInteger":54}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"QICoreCommon"},{"url":"name","valueString":"references"},{"url":"statement","valueString":"/*\n@description: Returns true if the given reference is to the given resource\n@comment: Returns true if the `id` element of the given resource exactly equals the tail of the given reference.\nNOTE: This function assumes resources from the same source server.\n*/\ndefine fluent function references(reference Reference, resource Resource):\n  resource.id = Last(Split(reference.reference, '/'))"},{"url":"displaySequence","valueInteger":55}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CQMCommon"},{"url":"name","valueString":"lengthInDays"},{"url":"statement","valueString":"/*\n@description: Calculates the difference in calendar days between the start and end of the given interval.\n*/\ndefine fluent function lengthInDays(Value Interval<DateTime> ):\n  difference in days between start of Value and end of Value"},{"url":"displaySequence","valueInteger":56}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CQMCommon"},{"url":"name","valueString":"getLocation"},{"url":"statement","valueString":"/*\n@description: Returns the Location resource specified by the given reference.\n*/\ndefine fluent function getLocation(reference Reference):\n  singleton from (\n    [Location] L where reference.references(L)\n  )"},{"url":"displaySequence","valueInteger":57}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CQMCommon"},{"url":"name","valueString":"hasPrincipalDiagnosisOf"},{"url":"statement","valueString":"/*\n @description: Returns the condition that is specified as the principal diagnosis for the encounter and has a code in the given valueSet.\n @comment: See the QICore 6 Authoring Patterns discussion on [Principal Diagnosis and Present on Admission](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/wiki/Authoring-Patterns-QICore-v6.0.0#conditions-present-on-admission-and-principal-diagnoses) for more information\n */\n define fluent function hasPrincipalDiagnosisOf(encounter Encounter, valueSet ValueSet):\n   (encounter.principalDiagnosis()) PD\n     return PD.diagnosis in valueSet\n       or PD.diagnosis.getCondition().code in valueSet"},{"url":"displaySequence","valueInteger":58}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CQMCommon"},{"url":"name","valueString":"principalDiagnosis"},{"url":"statement","valueString":"/*\n@description: Returns the claim diagnosis element that is specified as the principal diagnosis for the encounter\n @comment: See the QICore 6 Authoring Patterns discussion on [Principal Diagnosis and Present on Admission](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/wiki/Authoring-Patterns-QICore-v6.0.0#conditions-present-on-admission-and-principal-diagnoses) for more information\n*/\ndefine fluent function principalDiagnosis(encounter Encounter):\nsingleton from (\n     (encounter.claimDiagnosis()) CD\n       where CD.type.includesCode(\"Principal Diagnosis\")\n   )"},{"url":"displaySequence","valueInteger":59}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CQMCommon"},{"url":"name","valueString":"claimDiagnosis"},{"url":"statement","valueString":"/*\n@description: Returns the claim diagnosis elements for the given encounter\n@comment: See the QICore 6 Authoring Patterns discussion on [Principal Diagnosis and Present on Admission](https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/wiki/Authoring-Patterns-QICore-v6.0.0#conditions-present-on-admission-and-principal-diagnoses) for more information\n*/\ndefine fluent function claimDiagnosis(encounter Encounter):\n  encounter E\n    let \n      claim: ([Claim] C where C.status = 'active' and C.use = 'claim' and exists (C.item I where I.encounter.references(E))),\n      claimItem: (claim.item I where I.encounter.references(E))\n    return claim.diagnosis D where D.sequence in claimItem.diagnosisSequence"},{"url":"displaySequence","valueInteger":60}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"QICoreCommon"},{"url":"name","valueString":"references"},{"url":"statement","valueString":"/*\n@description: Returns true if any of the given references are to the given resource\n@comment: Returns true if the `id` element of the given resource exactly equals the tail of any of the given references.\nNOTE: This function assumes resources from the same source server.\n*/\ndefine fluent function references(references List<Reference>, resource Resource):\n  exists (references R where R.references(resource))"},{"url":"displaySequence","valueInteger":61}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"QICoreCommon"},{"url":"name","valueString":"includesCode"},{"url":"statement","valueString":"/*\n@description: Returns true if the given code is in the given codeList\n@comment: Returns true if the `code` is equivalent to any of the codes in the given `codeList`, false otherwise.\n*/\ndefine fluent function includesCode(codeList List<Concept>, code Code):\n  exists (codeList C where C ~ code)"},{"url":"displaySequence","valueInteger":62}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CQMCommon"},{"url":"name","valueString":"getCondition"},{"url":"statement","valueString":"/*\n@description: Returns the Condition resource for the given reference\n*/\ndefine fluent function getCondition(reference Reference):\n  singleton from (([ConditionEncounterDiagnosis] union [ConditionProblemsHealthConcerns]) C where reference.references(C.id))"},{"url":"displaySequence","valueInteger":63}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"VTE"},{"url":"name","valueString":"hasPrincipalProcedureOf"},{"url":"statement","valueString":"define fluent function hasPrincipalProcedureOf(TheEncounter Encounter, DiagnosisValueSet ValueSet):\n   TheEncounter E\n   let\n        PPx: E.principalProcedure(),\n        CPx: singleton from ([Procedure] P where PPx.procedure.references(P.id))\n     return PPx.procedure in DiagnosisValueSet\n       or CPx.code in DiagnosisValueSet"},{"url":"displaySequence","valueInteger":64}]},{"url":"http://hl7.org/fhir/StructureDefinition/cqf-logicDefinition","extension":[{"url":"libraryName","valueString":"CQMCommon"},{"url":"name","valueString":"principalProcedure"},{"url":"statement","valueString":"/*\n@description: Returns the claim procedure elements for the given encounter\n*/\ndefine fluent function principalProcedure(encounter Encounter):  \t  \n  \t encounter E\n  \t let \n        claim: [Claim] C where C.status = 'active' and C.use = 'claim' and exists (C.item I where I.encounter.references(E)),\n        claimItem: claim.item I where I.encounter.references(E),\n        princProcedure: singleton from (claim.procedure P where P.sequence in claimItem.procedureSequence and P.type.includesCode(\"Primary procedure\"))\n    return princProcedure"},{"url":"displaySequence","valueInteger":65}]}],"name":"EffectiveDataRequirements","status":"active","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/library-type","code":"module-definition"}]},"relatedArtifact":[{"type":"depends-on","display":"Library SDE","resource":"https://madie.cms.gov/Library/SupplementalDataElements|5.1.000"},{"type":"depends-on","display":"Library FHIRHelpers","resource":"https://madie.cms.gov/Library/FHIRHelpers|4.4.000"},{"type":"depends-on","display":"Library VTE","resource":"https://madie.cms.gov/Library/VTE|8.18.000"},{"type":"depends-on","display":"Library CQMCommon","resource":"https://madie.cms.gov/Library/CQMCommon|4.1.000"},{"type":"depends-on","display":"Library QICoreCommon","resource":"https://madie.cms.gov/Library/QICoreCommon|4.0.000"},{"type":"depends-on","display":"Library TJC","resource":"https://madie.cms.gov/Library/TJCOverall|8.23.000"},{"type":"depends-on","display":"Code system SNOMEDCT","resource":"http://snomed.info/sct"},{"type":"depends-on","display":"Code system ConditionVerificationStatusCodes","resource":"http://terminology.hl7.org/CodeSystem/condition-ver-status"},{"type":"depends-on","display":"Code system ConditionClinicalStatusCodes","resource":"http://terminology.hl7.org/CodeSystem/condition-clinical"},{"type":"depends-on","display":"Code system LOINC","resource":"http://loinc.org"},{"type":"depends-on","display":"Code system TaskCodeSystem","resource":"http://hl7.org/fhir/CodeSystem/task-code"},{"type":"depends-on","display":"Code system Diagnosis Type","resource":"http://terminology.hl7.org/CodeSystem/ex-diagnosistype"},{"type":"depends-on","display":"Code system Procedure Type","resource":"http://terminology.hl7.org/CodeSystem/ex-procedure-type"},{"type":"depends-on","display":"Value set Encounter Inpatient","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"},{"type":"depends-on","display":"Value set Obstetrical or Pregnancy Related Conditions","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.263"},{"type":"depends-on","display":"Value set Venous Thromboembolism","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279"},{"type":"depends-on","display":"Value set Obstetrics VTE","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.264"},{"type":"depends-on","display":"Value set Low Dose Unfractionated Heparin for VTE Prophylaxis","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39"},{"type":"depends-on","display":"Value set Subcutaneous route","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.223"},{"type":"depends-on","display":"Value set Low Molecular Weight Heparin for VTE Prophylaxis","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219"},{"type":"depends-on","display":"Value set Injectable Factor Xa Inhibitor for VTE Prophylaxis","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211"},{"type":"depends-on","display":"Value set Warfarin","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232"},{"type":"depends-on","display":"Value set Rivaroxaban for VTE Prophylaxis","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50"},{"type":"depends-on","display":"Value set Application of Intermittent Pneumatic Compression Devices","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.65"},{"type":"depends-on","display":"Value set Application of Venous Foot Pumps","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.64"},{"type":"depends-on","display":"Value set Application of Graduated Compression Stockings","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.66"},{"type":"depends-on","display":"Value set Observation Services","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143"},{"type":"depends-on","display":"Value set Emergency Department Visit","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292"},{"type":"depends-on","display":"Value set General or Neuraxial Anesthesia","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743"},{"type":"depends-on","display":"Value set Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134"},{"type":"depends-on","display":"Value set Atrial Fibrillation or Flutter","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202"},{"type":"depends-on","display":"Value set Hip Replacement Surgery","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259"},{"type":"depends-on","display":"Value set Knee Replacement Surgery","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261"},{"type":"depends-on","display":"Value set Low Risk","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.400"},{"type":"depends-on","display":"Value set INR","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213"},{"type":"depends-on","display":"Value set Unfractionated Heparin","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218"},{"type":"depends-on","display":"Value set Intravenous route","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.222"},{"type":"depends-on","display":"Value set Direct Thrombin Inhibitor","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205"},{"type":"depends-on","display":"Value set Glycoprotein IIb IIIa Inhibitors","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41"},{"type":"depends-on","display":"Value set Medical Reason For Not Providing Treatment","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473"},{"type":"depends-on","display":"Value set Venous foot pumps","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230"},{"type":"depends-on","display":"Value set Intermittent pneumatic compression devices","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214"},{"type":"depends-on","display":"Value set Graduated compression stockings","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256"},{"type":"depends-on","display":"Value set Patient Refusal","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93"},{"type":"depends-on","display":"Value set Payer Type","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"},{"type":"depends-on","display":"Value set Intensive Care Unit","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1029.206"},{"type":"depends-on","display":"Value set Mental Health Diagnoses","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.105.12.1004"},{"type":"depends-on","display":"Value set Hemorrhagic Stroke","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.212"},{"type":"depends-on","display":"Value set Ischemic Stroke","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.247"},{"type":"depends-on","display":"Value set General Surgery","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.255"},{"type":"depends-on","display":"Value set Gynecological Surgery","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.257"},{"type":"depends-on","display":"Value set Hip Fracture Surgery","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.258"},{"type":"depends-on","display":"Value set Intracranial Neurosurgery","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.260"},{"type":"depends-on","display":"Value set Urological Surgery","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.272"},{"type":"depends-on","display":"Value set Comfort Measures","resource":"http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45"}],"parameter":[{"name":"Measurement Period","use":"in","min":0,"max":"1","type":"Period"},{"name":"Numerator","use":"out","min":0,"max":"*","type":"Resource"},{"name":"Denominator","use":"out","min":0,"max":"*","type":"Resource"},{"name":"Initial Population","use":"out","min":0,"max":"*","type":"Resource"},{"name":"Denominator Exclusions","use":"out","min":0,"max":"*","type":"Resource"},{"name":"SDE Sex","use":"out","min":0,"max":"1","type":"Coding"},{"name":"SDE Payer","use":"out","min":0,"max":"*","type":"Resource"},{"name":"SDE Ethnicity","use":"out","min":0,"max":"1","type":"Resource"},{"name":"SDE Race","use":"out","min":0,"max":"1","type":"Resource"}],"dataRequirement":[{"type":"Patient","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient"],"mustSupport":["extension","birthDate","birthDate.value","url"]},{"type":"Encounter","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"],"mustSupport":["type","status","status.value","period","reasonCode","diagnosis","diagnosis.code"],"codeFilter":[{"path":"type","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1111.143"}]},{"type":"Encounter","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"],"mustSupport":["type","status","status.value","period","reasonCode","diagnosis","diagnosis.code"],"codeFilter":[{"path":"type","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292"}]},{"type":"Encounter","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"],"mustSupport":["period","reasonCode","type","diagnosis","diagnosis.code"]},{"type":"Encounter","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter"],"mustSupport":["type","status","status.value","period","reasonCode","diagnosis","diagnosis.code","period.low","period.lowClosed","period.high","period.highClosed","location"],"codeFilter":[{"path":"type","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307"}]},{"type":"Condition","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis"]},{"type":"Condition","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns"],"mustSupport":["code","verificationStatus","onset"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202"}]},{"type":"Condition","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns"],"mustSupport":["code","clinicalStatus","verificationStatus","onset"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.279"}]},{"type":"Condition","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns"]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration"],"mustSupport":["medication","status","status.value","dosage","dosage.route","id","id.value","effective"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration"],"mustSupport":["medication","status","status.value","id","id.value","effective"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration"],"mustSupport":["medication","status","status.value","id","id.value","effective"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration"],"mustSupport":["medication","status","status.value","id","id.value","effective"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration"],"mustSupport":["medication","status","status.value","id","id.value","effective"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration"],"mustSupport":["medication","status","status.value","effective","id","id.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.134"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration"],"mustSupport":["medication","dosage","dosage.route","status","status.value","id","id.value","effective"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.218"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration"],"mustSupport":["medication","status","status.value","id","id.value","effective"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.205"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration"],"mustSupport":["medication","status","status.value","id","id.value","effective"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.41"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure"],"mustSupport":["code","status","status.value","performed"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.65"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure"],"mustSupport":["code","status","status.value","performed"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.64"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure"],"mustSupport":["code","status","status.value","performed"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.66"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure"],"mustSupport":["code","status","status.value","performed"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.259"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure"],"mustSupport":["code","status","status.value","performed"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.261"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure"],"mustSupport":["id","id.value","status","status.value","performed","code"]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure"],"mustSupport":["code","status","status.value","performed"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure"],"mustSupport":["code","status","status.value","performed"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.1743"}]},{"type":"Observation","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-simple-observation"],"mustSupport":["code","value","status","status.value","id","id.value","effective"],"codeFilter":[{"path":"code","code":[{"system":"http://loinc.org","code":"72136-5","display":"Risk for venous thromboembolism"}]}]},{"type":"Observation","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab"],"mustSupport":["code","value","status","status.value","id","id.value","issued","issued.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.213"}]},{"type":"Resource","profile":["http://hl7.org/fhir/StructureDefinition/Resource"],"mustSupport":["id","id.value"]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone"],"mustSupport":["medication","id","id.value","statusReason","extension"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone"],"mustSupport":["medication","id","id.value","statusReason","extension"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone"],"mustSupport":["medication","id","id.value","statusReason","extension"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone"],"mustSupport":["medication","id","id.value","statusReason","extension"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone"],"mustSupport":["medication","id","id.value","statusReason","extension"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone"],"mustSupport":["medication","id","id.value","statusReason","extension"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone"],"mustSupport":["medication","id","id.value","statusReason","extension"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone"],"mustSupport":["medication","id","id.value","statusReason","extension"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone"],"mustSupport":["medication","id","id.value","statusReason","extension"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50"}]},{"type":"MedicationAdministration","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministrationnotdone"],"mustSupport":["medication","id","id.value","statusReason","extension"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested"],"mustSupport":["medication","intent","intent.value","id","id.value","reasonCode","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested"],"mustSupport":["medication","intent","intent.value","id","id.value","reasonCode","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested"],"mustSupport":["medication","intent","intent.value","id","id.value","reasonCode","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested"],"mustSupport":["medication","intent","intent.value","id","id.value","reasonCode","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested"],"mustSupport":["medication","intent","intent.value","id","id.value","reasonCode","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested"],"mustSupport":["medication","intent","intent.value","id","id.value","reasonCode","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested"],"mustSupport":["medication","intent","intent.value","id","id.value","reasonCode","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested"],"mustSupport":["medication","intent","intent.value","id","id.value","reasonCode","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested"],"mustSupport":["medication","intent","intent.value","id","id.value","reasonCode","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested"],"mustSupport":["medication","intent","intent.value","id","id.value","reasonCode","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest"],"mustSupport":["medication","status","status.value","id","id.value","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.39"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest"],"mustSupport":["medication","status","status.value","id","id.value","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.219"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest"],"mustSupport":["medication","status","status.value","id","id.value","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.211"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest"],"mustSupport":["medication","status","status.value","id","id.value","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.232"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest"],"mustSupport":["medication","status","status.value","id","id.value","authoredOn","authoredOn.value"],"codeFilter":[{"path":"medication","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.50"}]},{"type":"MedicationRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest"],"mustSupport":["medication.reference.value","status","status.value","id","id.value","authoredOn","authoredOn.value"]},{"type":"Medication","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication"],"mustSupport":["id.value","code"]},{"type":"Task","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-taskrejected"],"mustSupport":["focus","code","statusReason"]},{"type":"ServiceRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicenotrequested"],"mustSupport":["code","intent","intent.value","id","id.value","extension","authoredOn","authoredOn.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230"}]},{"type":"ServiceRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicenotrequested"],"mustSupport":["code","intent","intent.value","id","id.value","extension","authoredOn","authoredOn.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230"}]},{"type":"ServiceRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicenotrequested"],"mustSupport":["code","intent","intent.value","id","id.value","extension","authoredOn","authoredOn.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214"}]},{"type":"ServiceRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicenotrequested"],"mustSupport":["code","intent","intent.value","id","id.value","extension","authoredOn","authoredOn.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214"}]},{"type":"ServiceRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicenotrequested"],"mustSupport":["code","intent","intent.value","id","id.value","extension","authoredOn","authoredOn.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256"}]},{"type":"ServiceRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicenotrequested"],"mustSupport":["code","intent","intent.value","id","id.value","extension","authoredOn","authoredOn.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256"}]},{"type":"ServiceRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest"],"mustSupport":["code","intent","intent.value","status","status.value","id","id.value","authoredOn","authoredOn.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.230"}]},{"type":"ServiceRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest"],"mustSupport":["code","intent","intent.value","status","status.value","id","id.value","authoredOn","authoredOn.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.214"}]},{"type":"ServiceRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest"],"mustSupport":["code","intent","intent.value","status","status.value","id","id.value","authoredOn","authoredOn.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.256"}]},{"type":"ServiceRequest","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest"],"mustSupport":["code","intent","intent.value","status","status.value","id","id.value","authoredOn","authoredOn.value"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/1.3.6.1.4.1.33895.1.3.0.45"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedurenotdone"],"mustSupport":["code","extension","id","id.value","statusReason"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.65"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedurenotdone"],"mustSupport":["code","extension","id","id.value","statusReason"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.65"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedurenotdone"],"mustSupport":["code","extension","id","id.value","statusReason"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.64"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedurenotdone"],"mustSupport":["code","extension","id","id.value","statusReason"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.64"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedurenotdone"],"mustSupport":["code","extension","id","id.value","statusReason"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.66"}]},{"type":"Procedure","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedurenotdone"],"mustSupport":["code","extension","id","id.value","statusReason"],"codeFilter":[{"path":"code","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.66"}]},{"type":"Coverage","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-coverage"],"mustSupport":["type","period"],"codeFilter":[{"path":"type","valueSet":"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591"}]},{"type":"Location","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-location"]},{"type":"Claim","profile":["http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-claim"],"mustSupport":["status","status.value","use","use.value","item"]}]}],"extension":[{"id":"supplementalDataGuidance","url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-supplementalDataGuidance","extension":[{"url":"guidance","valueString":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex; SDE Ethnicity-Patient's Ethnicity:\nHispanic or Latino\nNot Hispanic or Latino \n SDE Race-Patient's Race:\nNative Hawaiian or Other Pacific Islander\nAsian\nAmerican Indian or Alaska Native\nOther Race\nWhite\nBlack or African American \n SDE Sex-Patient's Sex:\nGender identity restricted to only Male and Female used in administrative situations requiring a restriction to these two categories. \n SDE Payer \n "},{"url":"usage","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-data-usage","code":"supplemental-data","display":"Supplemental Data"}],"text":"Supplemental Data Guidance"}}]},{"url":"http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-effectiveDataRequirements","valueReference":{"reference":"#effective-data-requirements"}},{"url":"http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem","valueReference":{"reference":"Device/cqf-tooling"}}],"url":"https://madie.cms.gov/Measure/CMS108FHIRVTEProphylaxis","identifier":[{"use":"usual","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/artifact-identifier-type","code":"short-name","display":"Short Name"}]},"system":"https://madie.cms.gov/measure/shortName","value":"CMS108FHIR"},{"use":"official","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/artifact-identifier-type","code":"version-independent","display":"Version Independent"}]},"system":"urn:ietf:rfc:3986","value":"urn:uuid:fa570e9c-c75f-4972-a77e-9488816d14af"},{"use":"official","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/artifact-identifier-type","code":"version-specific","display":"Version Specific"}]},"system":"urn:ietf:rfc:3986","value":"urn:uuid:1a8cca75-5b9a-4e9e-a9c5-365c8cde49d3"},{"use":"official","type":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/artifact-identifier-type","code":"publisher","display":"Publisher"}]},"system":"https://madie.cms.gov/measure/cmsId","value":"108FHIR","assigner":{"display":"CMS"}}],"version":"0.3.002","name":"CMS108FHIRVTEProphylaxis","title":"Venous Thromboembolism ProphylaxisFHIR","status":"active","experimental":false,"date":"2025-06-23T15:35:00+00:00","publisher":"The Joint Commission","contact":[{"telecom":[{"system":"url","value":"https://www.jointcommission.org/"}]}],"description":"This measure assesses the number of patients who received Venous Thromboembolism (VTE) prophylaxis or have documentation why no VTE prophylaxis was given between the day of arrival to the day after hospital admission or surgery end date for surgeries that end the day after hospital admission","usage":"When low dose unfractionated heparin is administered for VTE prophylaxis, the intended administration route for low dose unfractionated heparin is subcutaneous.\n\nReasons for no pharmacological and no mechanical VTE prophylaxis must be explicitly documented by the medical doctor, advanced practice registered nurse, physician assistant, or pharmacist and linked with VTE prophylaxis. The only exception is patient refusal may be documented by a nurse. Ambulation alone is not a sufficient reason for not administering VTE prophylaxis. In order for ambulation/patient ambulating to be considered as an acceptable reason, there needs to be explicit documentation, e.g., \"patient out of bed and ambulating in halls - no VTE prophylaxis needed.\"\n\nThis measure does not require the use of a specific risk assessment model or tool (e.g., Caprini, Padua, and IMPROVE) to determine VTE risk. \n\nThe denominator population includes patients with inpatient hospitalizations and patients from Acute Hospital Care at Home programs, who are treated and billed as inpatients but receive care in their home. Inpatient hospitalizations for patients with a principal procedure of selected surgeries are excluded from the measures denominator. Selected surgeries include general surgery, gynecological surgery, hip fracture surgery, hip/knee replacement surgery, intracranial neurosurgery, and urological surgery.\n\nInpatient hospitalizations for patients administered apixaban or edoxaban, medications included in the Oral Factor Xa Inhibitor for VTE Prophylaxis or VTE Treatment value set, would be counted in the numerator population only when the patients also have either a prior or present diagnosis of atrial fibrillation, a prior diagnosis of VTE, or a prior or present procedure of hip/knee replacement surgery.\n\nThis dCQM is an episode-based measure. An episode is defined as each inpatient hospitalization or encounter that ends during the measurement period.\n\nThis FHIR-based measure has been derived from the QDM-based measure: CMS108v14. Please refer to the HL7 QI-Core Implementation Guide (https://hl7.org/fhir/us/qicore/STU6/) for more information on QI-Core and mapping recommendations from QDM to QI-Core STU 6. (https://hl7.org/fhir/us/qicore/STU6/qdm-to-qicore.html)","copyright":"Measure specifications are in the Public Domain.\n\nLOINC(R) copyright 2004-2024 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2024 International Health Terminology Standards Development Organisation. ICD-10 copyright 2024 World Health Organization. All Rights Reserved.","effectivePeriod":{"start":"2026-01-01","end":"2026-12-31"},"author":[{"name":"The Joint Commission","telecom":[{"system":"url","value":"https://www.jointcommission.org/"}]}],"relatedArtifact":[{"type":"citation","citation":"CITATION - Cohen, A. T., Tapson, V. F., Bergmann, J. F., et al. (2008). Venous thromboembolism risk and prophylaxis in the acute hospital care setting (ENDORSE study): A multinational cross-sectional study. Lancet, 371, 387-394.\n"},{"type":"citation","citation":"CITATION - Geerts, W. H., Bergqvist, D., Pineo, G. F., et al. (2008). Prevention of venous thromboembolism: The Eighth ACCP Conference on Antithrombotic and Thrombolytic Therapy. Chest, 133, 381S-453S.\n"},{"type":"citation","citation":"CITATION - Guyatt, G. H., Akl, E. A., Crowther, M., et al. (2012). Antithrombotic therapy and prevention of thrombosis, 9th edition: American College of Chest Physicians evidence-based clinical practice guidelines. Chest, 141(2 Suppl.), 7S-47S.\n"},{"type":"citation","citation":"CITATION - Kearon, C., Akl, E. A., Comerota, A. J., et al. (2012, February). Antithrombotic therapy for VTE disease: Antithrombotic therapy and prevention of thrombosis, 9th edition: American College of Chest Physicians evidence-based clinical practice guidelines. Chest, 141(2 Suppl.), e419S-e494S.\n"},{"type":"citation","citation":"CITATION - National Quality Forum. (2006). National voluntary consensus standards for prevention and care of venous thromboembolism: Policy, preferred practices, and initial performance measuresA consensus report. Washington, DC: National Quality Forum.\n"},{"type":"citation","citation":"CITATION - Shojania, K. G., Duncan, B. W., McDonald, D. M., et al. (eds.). (2001). Making health care safer: A critical analysis of patient safety practices. Evidence Report/Technology Assessment No. 43. Rockville, MD: Agency for Healthcare Research and Quality.\n"},{"type":"citation","citation":"CITATION - Anderson, D. R., Morgano, G. P., Bennett, C., Dentali, F., Francis, C. W., Garcia, D. A., . . . Dahm, P. (2019). American Society of Hematology 2019 guidelines for management of venous thromboembolism: Prevention of venous thromboembolism in surgical hospitalized patients. Blood Advances, 3(23), 38983944. doi: 10.1182/bloodadvances.2019000975.\n"}],"library":["https://madie.cms.gov/Library/CMS108FHIRVTEProphylaxis"],"disclaimer":"These performance measures are not clinical guidelines and do not establish a standard of medical care and have not been tested for all potential applications. The measures and specifications are provided without warranty.","rationale":"The estimated annual incidence of deep-vein thrombosis (DVT) and pulmonary embolism (PE), known collectively as venous thromboembolism (VTE), ranges from 350,000 to 600,000 (Maynard, 2016). According to the Centers for Disease Control and Prevention (CDC) 2020 statistics, 1-2 per 1,000 adults in the United States are clinically diagnosed with VTE each year (CDC, 2020). Increased incidence is reported in the elderly (1 per 100) compared to young adults (1 per 10,000) (Henke et al., 2020). \n\nVTE is a known complication of hospitalization, frequently extending the length of stay and increasing hospital mortality (Maynard, 2016). Approximately 20% of VTE are associated with a surgical procedure (Henke et al., 2020). Hospitalized patients at high-risk for VTE may develop an asymptomatic DVT, and die from PE even before the diagnosis is suspected. The majority of fatal events occur as sudden or abrupt death, underscoring the importance of prevention as the most critical action step for reducing death from PE (Geerts et al., 2008).\n\nAmerican Society of Hematology (ASH) 2018 VTE prophylaxis guidelines strongly recommend pharmacological prophylaxis using unfractionated heparin (UFH), low molecular weight heparin (LMWH) or fondaparinux for acutely and critically ill hospitalized medical patients, unless contraindicated. The use of mechanical prophylaxis is an acceptable alternative for patients with increased risk of bleeding and preferred over no prophylaxis. ASH 2019 guidelines for surgical patients similarly recommend pharmacological or mechanical prophylaxis over no VTE prophylaxis. (NOTE: Some select surgeries have previously been monitored in the Surgical Care Improvement Project; since performance on these surgeries has achieved very high levels, they are not included in this measure.)\n\nDespite its proven effectiveness, VTE prophylaxis remains underused or inappropriately used in both medical and surgical patients (Kahn et al., 2018). The ENDORSE study evaluated prophylaxis rates in 17,084 major surgery patients and found that more than one third of patients at risk for VTE (38%) did not receive prophylaxis with various rates reported for different types of surgery (Cohen et al., 2008). More recently, a systemic review of multiple randomized controlled trials found that system-wide interventions, such as computer alerts to physicians and other healthcare professionals, increased the use of appropriate VTE prophylaxis while reducing the number of symptomatic VTE at three months (Kahn et al., 2018).","clinicalRecommendationStatement":"Failure to recognize and protect patients at risk for venous thromboembolism (VTE) increases the chances for acutely ill hospitalized patients at high risk for developing a deep vein thrombosis or dying from a pulmonary embolism. Screening all patients is the only evidence based practice in reducing incidence of disease. All hospitalized patients should be evaluated for primary VTE prophylaxis, and given appropriate prophylaxis when indicated.","group":[{"id":"Group_1","extension":[{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-scoring","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-scoring","code":"proportion","display":"Proportion"}]}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis","valueCode":"Encounter"},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-type","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-type","code":"process","display":"Process"}]}},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-rateAggregation","valueCode":"None"},{"url":"http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-improvementNotation","valueCodeableConcept":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-improvement-notation","code":"increase","display":"Increased score indicates improvement"}]}}],"population":[{"id":"InitialPopulation_1","code":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-population","code":"initial-population","display":"Initial Population"}]},"description":"Inpatient hospitalizations for patients age 18 and older, discharged from hospital inpatient acute care without a diagnosis of venous thromboembolism (VTE) or obstetrics that ends during the measurement period","criteria":{"language":"text/cql-identifier","expression":"Initial Population"}},{"id":"Denominator_1","code":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-population","code":"denominator","display":"Denominator"}]},"description":"Equals Initial Population","criteria":{"language":"text/cql-identifier","expression":"Denominator"}},{"id":"DenominatorExclusion_1","code":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-population","code":"denominator-exclusion","display":"Denominator Exclusion"}]},"description":"- Inpatient hospitalizations for patients who have a length of stay less than 2 days\n- Inpatient hospitalizations for patients who are direct admits to intensive care unit (ICU), or transferred to ICU the day of or the day after hospital admission with ICU length of stay greater than or equal to one day\n- Inpatient hospitalizations for patients with a principal diagnosis of mental disorders or stroke\n- Inpatient hospitalizations for patients with a principal procedure of selected surgeries\n- Inpatient hospitalizations for patients with comfort measures documented anytime between the day of arrival and the day after hospital admission\n- Inpatient hospitalizations for patients with comfort measures documented by the day after surgery end date for surgeries that end the day after hospital admission","criteria":{"language":"text/cql-identifier","expression":"Denominator Exclusions"}},{"id":"Numerator_1","code":{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-population","code":"numerator","display":"Numerator"}]},"description":"Inpatient hospitalizations for patients who received VTE prophylaxis:\n- between the day of arrival and the day after hospital admission\n- the day of or the day after surgery end date (for surgeries that end the day after hospital admission)\n\nInpatient hospitalizations for patients who have documentation of a reason why no VTE prophylaxis was given:\n- between the day of arrival and the day after hospital admission\n- the day of or the day after surgery end date (for surgeries that end the day after hospital admission)","criteria":{"language":"text/cql-identifier","expression":"Numerator"}}]}],"supplementalData":[{"id":"sde-ethnicity","usage":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-data-usage","code":"supplemental-data"}]}],"description":"SDE Ethnicity","criteria":{"language":"text/cql-identifier","expression":"SDE Ethnicity"}},{"id":"sde-race","usage":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-data-usage","code":"supplemental-data"}]}],"description":"SDE Race","criteria":{"language":"text/cql-identifier","expression":"SDE Race"}},{"id":"sde-sex","usage":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-data-usage","code":"supplemental-data"}]}],"description":"SDE Sex","criteria":{"language":"text/cql-identifier","expression":"SDE Sex"}},{"id":"sde-payer","usage":[{"coding":[{"system":"http://terminology.hl7.org/CodeSystem/measure-data-usage","code":"supplemental-data"}]}],"description":"SDE Payer","criteria":{"language":"text/cql-identifier","expression":"SDE Payer"}}]},"request":{"method":"PUT","url":"Measure/CMS108FHIRVTEProphylaxis"}}]}