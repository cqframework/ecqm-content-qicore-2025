{
  "resourceType": "Library",
  "id": "CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD",
  "meta": {
    "profile": [ "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-computablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-executablelibrary", "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-json-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-xml-library" ]
  },
  "language": "en",
  "text": {
    "status": "extensions",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n    <table class=\"grid dict\">\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Title: </b></th>\n            <td style=\"padding-left: 4px;\">CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD</td>\n        </tr>\n        \n\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Id: </b></th>\n            <td style=\"padding-left: 4px;\">CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD</td>\n        </tr>\n        \n\n        \n        \n        <tr>\n            <th scope=\"row\"><b>Version: </b></th>\n            <td style=\"padding-left: 4px;\">0.4.000</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Url: </b></th>\n            <td style=\"padding-left: 4px;\">https://madie.cms.gov/Library/CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\">\n                <b>\n                    \n                        official\n                    \n                </b>\n            </th>\n            <td style=\"padding-left: 4px;\">\n                \n                <p style=\"margin-bottom: 5px;\">\n                    <span>CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD</span>\n                </p>\n                \n            </td>\n        </tr>\n        \n\n        \n\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Type: </b></th>\n            <td style=\"padding-left: 4px;\">\n                \n                    \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>system: </b> <span>http://terminology.hl7.org/CodeSystem/library-type</span>\n                        </p>\n                        \n                        \n                        <p style=\"margin-bottom: 5px;\">\n                            <b>code: </b> <span>logic-library</span>\n                        </p>\n                        \n                        \n                    \n                \n                \n            </td>\n        </tr>\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Date: </b></th>\n            <td style=\"padding-left: 4px;\">2025-04-28T20:34:10+00:00</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Publisher: </b></th>\n            <td style=\"padding-left: 4px;\">American Heart Association</td>\n        </tr>\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Description: </b></th>\n            <td style=\"padding-left: 4px;\">CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD</td>\n        </tr>\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n\n        \n        <tr>\n            <th scope=\"row\"><b>Related Artifacts: </b></th>\n            <td style=\"padding-left: 4px;\">\n                \n                \n                \n                <p><b>Dependencies</b></p>\n                <ul>\n                  \n                    <li>https://madie.cms.gov/Library/SupplementalDataElements|5.1.000</li>\n                  \n                    <li>https://madie.cms.gov/Library/FHIRHelpers|4.4.000</li>\n                  \n                    <li>https://madie.cms.gov/Library/AHAOverall|3.0.000</li>\n                  \n                    <li>https://madie.cms.gov/Library/QICoreCommon|4.0.000</li>\n                  \n                    <li>http://snomed.info/sct</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1008</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1012</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1014</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1016</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1012</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.369</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.371</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.403</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.366</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.362</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.412</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.370</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1493</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1177</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1178</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1184</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1007</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1008</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.367</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.368</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1178.53</li>\n                  \n                    <li>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1174</li>\n                  \n                </ul>\n                \n                \n                \n                \n                \n            </td>\n        </tr>\n        \n\n        \n\n        \n        <tr>\n          <th scope=\"row\"><b>Data Requirements:</b></th>\n          <td style=\"padding-left: 4px;\">\n            <table class=\"grid-dict\">\n              <tr><th><b>Type</b></th><th><b>Profile</b></th><th><b>MS</b></th><th><b>Code Filter</b></th></tr>\n              \n                <tr>\n                  <th>Patient</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient</th>\n                  <th>;;</th>\n                  <th>\n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Encounter</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter</th>\n                  <th>;;;;;;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>type</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1012</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Encounter</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter</th>\n                  <th>;;;;;;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>type</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Encounter</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter</th>\n                  <th>;;;;;;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>type</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1008</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Encounter</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter</th>\n                  <th>;;;;;;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>type</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1014</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Encounter</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter</th>\n                  <th>;;;;;;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>type</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1016</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Encounter</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter</th>\n                  <th>;;;;;;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>type</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1012</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Observation</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-clinical-result</th>\n                  <th>;;;;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>code</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1134</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Condition</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns</th>\n                  <th>;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>code</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1090</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Condition</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns</th>\n                  <th>;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>code</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      \n                          \n                          <p style=\"margin-bottom: 5px;\">\n                              <b>system: </b> <span>http://snomed.info/sct</span>\n                          </p>\n                          \n                          \n                          <p style=\"margin-bottom: 5px;\">\n                              <b>code: </b> <span>134401001</span>\n                          </p>\n                          \n                          \n                          <p style=\"margin-bottom: 5px;\">\n                              <b>display: </b> <span>Left ventricular systolic dysfunction (disorder)</span>\n                          </p>\n                          \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Condition</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns</th>\n                  <th>;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>code</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1177</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Condition</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns</th>\n                  <th>;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>code</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1178</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Condition</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis</th>\n                  <th>;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>code</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1090</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Condition</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis</th>\n                  <th>;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>code</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      \n                          \n                          <p style=\"margin-bottom: 5px;\">\n                              <b>system: </b> <span>http://snomed.info/sct</span>\n                          </p>\n                          \n                          \n                          <p style=\"margin-bottom: 5px;\">\n                              <b>code: </b> <span>134401001</span>\n                          </p>\n                          \n                          \n                          <p style=\"margin-bottom: 5px;\">\n                              <b>display: </b> <span>Left ventricular systolic dysfunction (disorder)</span>\n                          </p>\n                          \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Observation</th>\n                  <th>http://hl7.org/fhir/us/core/StructureDefinition/us-core-heart-rate</th>\n                  <th>;;;</th>\n                  <th>\n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>AllergyIntolerance</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-allergyintolerance</th>\n                  <th>;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>code</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1493</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>AllergyIntolerance</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-allergyintolerance</th>\n                  <th>;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>code</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      \n                          \n                          <p style=\"margin-bottom: 5px;\">\n                              <b>system: </b> <span>http://snomed.info/sct</span>\n                          </p>\n                          \n                          \n                          <p style=\"margin-bottom: 5px;\">\n                              <b>code: </b> <span>373254001</span>\n                          </p>\n                          \n                          \n                          <p style=\"margin-bottom: 5px;\">\n                              <b>display: </b> <span>Substance with beta adrenergic receptor antagonist mechanism of action (substance)</span>\n                          </p>\n                          \n                      \n                    \n                  </th>\n                </tr>\n              \n                <tr>\n                  <th>Coverage</th>\n                  <th>http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-coverage</th>\n                  <th>;;</th>\n                  <th>\n                    \n                      <b>code filter: </b>\n                      \n                      <br/>\n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>path: </b><span>type</span>\n                      </span>\n                      \n                      <br/>\n                      \n                      \n                      \n                      <span style=\"padding-left: 4px;\">\n                          <b>value set: </b><span>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3591</span>\n                      </span>\n                      \n                      \n                    \n                  </th>\n                </tr>\n              \n            </table>\n          </td>\n        </tr>\n        \n\n        \n        \n        <tr>\n          <td colspan=\"2\">\n            <table>\n              <tr><th><a id=\"cql-content\"><b>Content: </b></a> text/cql</th></tr>\n              <tr><td><pre><code class=\"language-cql\">library CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD version '0.4.000'\r\n\r\nusing QICore version '6.0.0'\r\nusing USCore version '6.1.0'\r\n\r\ninclude FHIRHelpers version '4.4.000' called FHIRHelpers\r\ninclude SupplementalDataElements version '5.1.000' called SDE\r\ninclude QICoreCommon version '4.0.000' called QICoreCommon\r\ninclude AHAOverall version '3.0.000' called AHA\r\n\r\ncodesystem &quot;SNOMEDCT&quot;: 'http://snomed.info/sct'\r\n\r\nvalueset &quot;Allergy to Beta Blocker Therapy&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1177'\r\nvalueset &quot;Arrhythmia&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.366'\r\nvalueset &quot;Asthma&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.362'\r\nvalueset &quot;Atrioventricular Block&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.367'\r\nvalueset &quot;Beta Blocker Therapy&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1174'\r\nvalueset &quot;Beta Blocker Therapy for LVSD&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1184'\r\nvalueset &quot;Beta Blocker Therapy Ingredient&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1493'\r\nvalueset &quot;Bradycardia&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.412'\r\nvalueset &quot;Cardiac Pacer&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1178.53'\r\nvalueset &quot;Cardiac Pacer in Situ&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.368'\r\nvalueset &quot;Cardiac Surgery&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.371'\r\nvalueset &quot;Care Services in Long Term Residential Facility&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1014'\r\nvalueset &quot;Coronary Artery Disease No MI&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.369'\r\nvalueset &quot;Ejection Fraction&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1134'\r\nvalueset &quot;Face-to-Face Interaction&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1048'\r\nvalueset &quot;Home Healthcare Services&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1016'\r\nvalueset &quot;Hypotension&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.370'\r\nvalueset &quot;Intolerance to Beta Blocker Therapy&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1178'\r\nvalueset &quot;Medical Reason&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1007'\r\nvalueset &quot;Moderate or Severe&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1092'\r\nvalueset &quot;Moderate or Severe LVSD&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1090'\r\nvalueset &quot;Myocardial Infarction&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.403'\r\nvalueset &quot;Nursing Facility Visit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1012'\r\nvalueset &quot;Office Visit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1001'\r\nvalueset &quot;Outpatient Consultation&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.464.1003.101.12.1008'\r\nvalueset &quot;Patient Provider Interaction&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1012'\r\nvalueset &quot;Patient Reason&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1008'\r\nvalueset &quot;System Reason&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1009'\r\n\r\ncode &quot;Substance with beta adrenergic receptor antagonist mechanism of action (substance)&quot;: '373254001' from &quot;SNOMEDCT&quot; display 'Substance with beta adrenergic receptor antagonist mechanism of action (substance)'\r\n\r\nparameter &quot;Measurement Period&quot; Interval&lt;DateTime&gt;\r\n\r\ncontext Patient\r\n\r\ndefine &quot;Denominator 2&quot;:\r\n  &quot;Initial Population&quot;\r\n    and exists &quot;Qualifying CAD Encounter and Prior MI&quot;\r\n\r\ndefine &quot;Has Atrioventricular Block with Qualifying CAD Encounter and Prior MI without Cardiac Pacer&quot;:\r\n  &quot;Has Atrioventricular Block with Qualifying CAD Encounter and Prior MI&quot;\r\n    and not &quot;Has Diagnosis of Cardiac Pacer in Situ with Qualifying CAD Encounter and Prior MI&quot;\r\n    and not &quot;Has Cardiac Pacer Device Implanted with Qualifying CAD Encounter and Prior MI&quot;\n\n/*\n* @code: Heart rate - 8867-4\n* @profile: http://hl7.org/fhir/us/core/StructureDefinition/us-core-heart-rate \n*/\r\n\r\n\r\ndefine &quot;Has Consecutive Heart Rates Less than 50 with Qualifying CAD Encounter and Prior MI&quot;:\r\n  exists ( from\r\n      [&quot;USCoreHeartRateProfile&quot;] HeartRateExam,\r\n      &quot;Qualifying CAD Encounter and Prior MI&quot; CADEncounterMI\r\n      let PriorHeartRateExam: Last([&quot;USCoreHeartRateProfile&quot;] MostRecentPriorHeartRateExam\r\n          where MostRecentPriorHeartRateExam.effective.toInterval() during CADEncounterMI.period\r\n            and MostRecentPriorHeartRateExam.status in { 'final', 'amended', 'corrected' }\r\n            and MostRecentPriorHeartRateExam.effective.toInterval() before HeartRateExam.effective.toInterval()\r\n          sort by start of effective.toInterval()\r\n      )\r\n      where HeartRateExam.effective.toInterval ( ) during CADEncounterMI.period\r\n        and HeartRateExam.status in { 'final', 'amended', 'corrected' }\r\n        and HeartRateExam.value &lt; 50 '/min'\r\n        and PriorHeartRateExam.value &lt; 50 '/min'\r\n  )\r\n\r\ndefine &quot;Numerator 1&quot;:\r\n  &quot;Has Beta Blocker Therapy for LVSD Ordered&quot;\r\n    or &quot;Is Currently Taking Beta Blocker Therapy for LVSD&quot;\r\n\r\ndefine &quot;Numerator 2&quot;:\r\n  &quot;Has Beta Blocker Therapy Ordered&quot;\r\n    or &quot;Is Currently Taking Beta Blocker Therapy&quot;\r\n\r\ndefine &quot;SDE Ethnicity&quot;:\r\n  SDE.&quot;SDE Ethnicity&quot;\r\n\r\ndefine &quot;SDE Payer&quot;:\r\n  SDE.&quot;SDE Payer&quot;\r\n\r\ndefine &quot;SDE Race&quot;:\r\n  SDE.&quot;SDE Race&quot;\r\n\r\ndefine &quot;SDE Sex&quot;:\r\n  SDE.&quot;SDE Sex&quot;\r\n\r\ndefine &quot;Has Cardiac Pacer Device Implanted with Qualifying CAD Encounter and Prior MI&quot;:\r\n  exists ( [Procedure: &quot;Cardiac Pacer&quot;] ImplantedCardiacPacer\r\n      with &quot;Qualifying CAD Encounter and Prior MI&quot; CADEncounterMI\r\n        such that ImplantedCardiacPacer.performed.toInterval ( ) starts before end of CADEncounterMI.period\r\n  )\r\n\r\ndefine &quot;Qualifying CAD Encounter and Prior MI&quot;:\r\n  &quot;Qualifying CAD Encounter&quot; EncounterWithCADProxy\r\n    with [ConditionProblemsHealthConcerns: &quot;Myocardial Infarction&quot;] MyocardialInfarction\r\n      such that MyocardialInfarction.prevalenceInterval ( ) starts 3 years or less before day of start of EncounterWithCADProxy.period\r\n        and not exists AHA.&quot;Moderate or Severe LVSD Findings&quot;\r\n\r\ndefine &quot;Denominator 1&quot;:\r\n  &quot;Initial Population&quot;\r\n    and exists &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;\r\n\r\ndefine &quot;Has Atrioventricular Block with Qualifying CAD Encounter and History of Moderate or Severe LVSD without Cardiac Pacer&quot;:\r\n  &quot;Has Atrioventricular Block with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;\r\n    and not &quot;Has Diagnosis of Cardiac Pacer in Situ with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;\r\n    and not &quot;Has Cardiac Pacer Device Implanted with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;\n\n/*\n* @code: Heart rate - 8867-4\n* @profile: http://hl7.org/fhir/us/core/StructureDefinition/us-core-heart-rate\n*/\r\n\r\n\r\ndefine &quot;Has Consecutive Heart Rates Less than 50 with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;:\r\n  exists ( from\r\n      [&quot;USCoreHeartRateProfile&quot;] HeartRateExam,\r\n      &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; CADEncounterModerateOrSevereLVSD\r\n      let PriorHeartRateExam: Last([&quot;USCoreHeartRateProfile&quot;] MostRecentPriorHeartRateExam\r\n          where MostRecentPriorHeartRateExam.effective.toInterval() during CADEncounterModerateOrSevereLVSD.period\r\n            and MostRecentPriorHeartRateExam.effective.toInterval() before HeartRateExam.effective.toInterval()\r\n          sort by start of effective.toInterval()\r\n      )\r\n      where HeartRateExam.effective.toInterval ( ) during CADEncounterModerateOrSevereLVSD.period\r\n        and HeartRateExam.value &lt; 50 '/min'\r\n        and PriorHeartRateExam.value &lt; 50 '/min'\r\n  )\r\n\r\ndefine &quot;Has Cardiac Pacer Device Implanted with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;:\r\n  exists ( [Procedure: &quot;Cardiac Pacer&quot;] ImplantedCardiacPacer\r\n      with &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; CADEncounterModerateOrSevereLVSD\r\n        such that ImplantedCardiacPacer.performed.toInterval ( ) starts before end of CADEncounterModerateOrSevereLVSD.period\r\n  )\r\n\r\ndefine &quot;Has Allergy or Intolerance to Beta Blocker Therapy Ingredient with Qualifying CAD Encounter and Prior MI&quot;:\r\n  exists ( ( [AllergyIntolerance: &quot;Beta Blocker Therapy Ingredient&quot;]\r\n      union [AllergyIntolerance: &quot;Substance with beta adrenergic receptor antagonist mechanism of action (substance)&quot;] ) BetaBlockerAllergyIntolerance\r\n      where BetaBlockerAllergyIntolerance.overlapsAfterDayOfEncounter ( &quot;Qualifying CAD Encounter and Prior MI&quot; )\r\n  )\r\n\r\ndefine &quot;Has Beta Blocker Therapy for LVSD Ordered&quot;:\r\n  exists ( [MedicationRequest: medication in &quot;Beta Blocker Therapy for LVSD&quot;] BetaBlockerForLVSDOrdered\r\n      where BetaBlockerForLVSDOrdered.authoredDuringDayOfEncounter ( &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; )\r\n  )\r\n\r\ndefine &quot;Has Beta Blocker Therapy Ordered&quot;:\r\n  exists ( [MedicationRequest: medication in &quot;Beta Blocker Therapy&quot;] BetaBlockerOrdered\r\n      where BetaBlockerOrdered.authoredDuringDayOfEncounter ( &quot;Qualifying CAD Encounter and Prior MI&quot; )\r\n  )\r\n\r\ndefine &quot;Is Currently Taking Beta Blocker Therapy&quot;:\r\n  exists ( [MedicationRequest: medication in &quot;Beta Blocker Therapy&quot;] ActiveBetaBlocker\r\n      with &quot;Qualifying CAD Encounter and Prior MI&quot; CADEncounterMI\r\n        such that First((collapse(ActiveBetaBlocker.dosageInstruction.timing.repeat.bounds DoseTime\r\n              return DoseTime.toInterval()\r\n          )) DrugPeriod\r\n            sort by start of $this\r\n        ) overlaps after day of CADEncounterMI.period\r\n      where ActiveBetaBlocker.status in { 'active', 'completed' }\r\n        and ActiveBetaBlocker.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\r\n  )\r\n\r\ndefine &quot;Is Currently Taking Beta Blocker Therapy for LVSD&quot;:\r\n  exists ( [MedicationRequest: medication in &quot;Beta Blocker Therapy for LVSD&quot;] ActiveBetaBlockerForLVSD\r\n      with &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; CADEncounterModerateOrSevereLVSD\r\n        such that First((collapse(ActiveBetaBlockerForLVSD.dosageInstruction.timing.repeat.bounds DoseTime\r\n              return DoseTime.toInterval()\r\n          )) DrugPeriod\r\n            sort by start of $this\r\n        ) overlaps after day of CADEncounterModerateOrSevereLVSD.period\r\n      where ActiveBetaBlockerForLVSD.status in { 'active', 'completed' }\r\n        and ActiveBetaBlockerForLVSD.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\r\n  )\r\n\r\ndefine &quot;Outpatient Encounter During Measurement Period&quot;:\r\n  ( [Encounter: &quot;Office Visit&quot;]\r\n    union [Encounter: &quot;Outpatient Consultation&quot;]\r\n    union [Encounter: &quot;Care Services in Long Term Residential Facility&quot;]\r\n    union [Encounter: &quot;Home Healthcare Services&quot;]\r\n    union [Encounter: &quot;Nursing Facility Visit&quot;] ) QualifyingEncounter\r\n    where QualifyingEncounter.period during day of &quot;Measurement Period&quot;\r\n      and QualifyingEncounter.status = 'finished'\r\n\r\ndefine &quot;Qualifying Encounter During Measurement Period&quot;:\r\n  ( [Encounter: &quot;Office Visit&quot;]\r\n    union [Encounter: &quot;Outpatient Consultation&quot;]\r\n    union [Encounter: &quot;Nursing Facility Visit&quot;]\r\n    union [Encounter: &quot;Care Services in Long Term Residential Facility&quot;]\r\n    union [Encounter: &quot;Home Healthcare Services&quot;]\r\n    union [Encounter: &quot;Patient Provider Interaction&quot;] ) ValidEncounter\r\n    where ValidEncounter.period during day of &quot;Measurement Period&quot;\r\n      and ValidEncounter.status = 'finished'\r\n\r\ndefine &quot;Coronary Artery Disease Encounter&quot;:\r\n  &quot;Outpatient Encounter During Measurement Period&quot; ValidQualifyingEncounter\r\n    with [ConditionProblemsHealthConcerns: &quot;Coronary Artery Disease No MI&quot;] CoronaryArteryDisease\r\n      such that CoronaryArteryDisease.overlapsDayOfEncounter ( ValidQualifyingEncounter )\r\n\r\ndefine &quot;Has Arrhythmia with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Arrhythmia&quot;] ArrhythmiaDiagnosis\r\n      where ArrhythmiaDiagnosis.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; )\r\n  )\r\n\r\ndefine &quot;Has Arrhythmia with Qualifying CAD Encounter and Prior MI&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Arrhythmia&quot;] ArrhythmiaDiagnosis\r\n      where ArrhythmiaDiagnosis.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and Prior MI&quot; )\r\n  )\r\n\r\ndefine &quot;Has Asthma with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Asthma&quot;] AsthmaDiagnosis\r\n      where AsthmaDiagnosis.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; )\r\n  )\r\n\r\ndefine &quot;Has Asthma with Qualifying CAD Encounter and Prior MI&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Asthma&quot;] AsthmaDiagnosis\r\n      where AsthmaDiagnosis.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and Prior MI&quot; )\r\n  )\r\n\r\ndefine &quot;Has Atrioventricular Block with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Atrioventricular Block&quot;] AtrioventricularBlock\r\n      where AtrioventricularBlock.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; )\r\n  )\r\n\r\ndefine &quot;Has Atrioventricular Block with Qualifying CAD Encounter and Prior MI&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Atrioventricular Block&quot;] AtrioventricularBlockDiagnosis\r\n      where AtrioventricularBlockDiagnosis.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and Prior MI&quot; )\r\n  )\r\n\r\ndefine &quot;Has Bradycardia with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Bradycardia&quot;] BradycardiaDiagnosis\r\n      where BradycardiaDiagnosis.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; )\r\n  )\r\n\r\ndefine &quot;Has Bradycardia with Qualifying CAD Encounter and Prior MI&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Bradycardia&quot;] BradycardiaDiagnosis\r\n      where BradycardiaDiagnosis.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and Prior MI&quot; )\r\n  )\r\n\r\ndefine &quot;Has Diagnosis of Allergy or Intolerance to Beta Blocker Therapy with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;:\r\n  exists ( ( [ConditionProblemsHealthConcerns: &quot;Allergy to Beta Blocker Therapy&quot;]\r\n      union [ConditionProblemsHealthConcerns: &quot;Intolerance to Beta Blocker Therapy&quot;] ) BetaBlockerAllergyOrIntoleranceDiagnosis\r\n      where BetaBlockerAllergyOrIntoleranceDiagnosis.overlapsAfterDayOfEncounter ( &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; )\r\n  )\r\n\r\ndefine &quot;Has Diagnosis of Allergy or Intolerance to Beta Blocker Therapy with Qualifying CAD Encounter and Prior MI&quot;:\r\n  exists ( ( [ConditionProblemsHealthConcerns: &quot;Allergy to Beta Blocker Therapy&quot;]\r\n      union [ConditionProblemsHealthConcerns: &quot;Intolerance to Beta Blocker Therapy&quot;] ) BetaBlockerAllergyOrIntoleranceDiagnosis\r\n      where BetaBlockerAllergyOrIntoleranceDiagnosis.overlapsAfterDayOfEncounter ( &quot;Qualifying CAD Encounter and Prior MI&quot; )\r\n  )\r\n\r\ndefine &quot;Has Diagnosis of Cardiac Pacer in Situ with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Cardiac Pacer in Situ&quot;] CardiacPacerDiagnosis\r\n      where CardiacPacerDiagnosis.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; )\r\n  )\r\n\r\ndefine &quot;Has Diagnosis of Cardiac Pacer in Situ with Qualifying CAD Encounter and Prior MI&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Cardiac Pacer in Situ&quot;] CardiacPacerDiagnosis\r\n      where CardiacPacerDiagnosis.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and Prior MI&quot; )\r\n  )\r\n\r\ndefine &quot;Has Hypotension with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Hypotension&quot;] HypotensionDiagnosis\r\n      where HypotensionDiagnosis.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; )\r\n  )\r\n\r\ndefine &quot;Has Hypotension with Qualifying CAD Encounter and Prior MI&quot;:\r\n  exists ( [ConditionProblemsHealthConcerns: &quot;Hypotension&quot;] HypotensionDiagnosis\r\n      where HypotensionDiagnosis.overlapsDayOfEncounter ( &quot;Qualifying CAD Encounter and Prior MI&quot; )\r\n  )\r\n\r\ndefine &quot;Denominator Exceptions 1&quot;:\r\n  &quot;Has Arrhythmia with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;\r\n    or &quot;Has Asthma with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;\r\n    or &quot;Has Bradycardia with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;\r\n    or &quot;Has Hypotension with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;\r\n    or &quot;Has Consecutive Heart Rates Less than 50 with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;\r\n    or &quot;Has Allergy or Intolerance to Beta Blocker Therapy Ingredient with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;\r\n    or &quot;Has Diagnosis of Allergy or Intolerance to Beta Blocker Therapy with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;\r\n    or &quot;Has Medical or Patient Reason for Not Ordering Beta Blocker for LVSD&quot;\r\n    or &quot;Has Atrioventricular Block with Qualifying CAD Encounter and History of Moderate or Severe LVSD without Cardiac Pacer&quot;\r\n\r\ndefine &quot;Denominator Exceptions 2&quot;:\r\n  &quot;Has Arrhythmia with Qualifying CAD Encounter and Prior MI&quot;\r\n    or &quot;Has Asthma with Qualifying CAD Encounter and Prior MI&quot;\r\n    or &quot;Has Bradycardia with Qualifying CAD Encounter and Prior MI&quot;\r\n    or &quot;Has Hypotension with Qualifying CAD Encounter and Prior MI&quot;\r\n    or &quot;Has Consecutive Heart Rates Less than 50 with Qualifying CAD Encounter and Prior MI&quot;\r\n    or &quot;Has Allergy or Intolerance to Beta Blocker Therapy Ingredient with Qualifying CAD Encounter and Prior MI&quot;\r\n    or &quot;Has Diagnosis of Allergy or Intolerance to Beta Blocker Therapy with Qualifying CAD Encounter and Prior MI&quot;\r\n    or &quot;Has Medical or Patient Reason for Not Ordering Beta Blocker Therapy&quot;\r\n    or &quot;Has Atrioventricular Block with Qualifying CAD Encounter and Prior MI without Cardiac Pacer&quot;\r\n\r\ndefine &quot;Has Allergy or Intolerance to Beta Blocker Therapy Ingredient with Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;:\r\n  exists ( ( [AllergyIntolerance: &quot;Beta Blocker Therapy Ingredient&quot;]\r\n      union [AllergyIntolerance: &quot;Substance with beta adrenergic receptor antagonist mechanism of action (substance)&quot;] ) BetaBlockerAllergyIntolerance\r\n      where BetaBlockerAllergyIntolerance.overlapsAfterDayOfEncounter ( &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; )\r\n  )\n\n// TODO: https://oncprojectracking.healthit.gov/support/projects/MADIE/issues/MADIE-2124\n// Expecting 1 failures per population until this translator issue is incorporated into MADiE\r\n\r\n\r\n\r\ndefine &quot;Has Medical or Patient Reason for Not Ordering Beta Blocker for LVSD&quot;:\r\n  exists ( [MedicationNotRequested: medication in &quot;Beta Blocker Therapy for LVSD&quot;] NoBetaBlockerForLVSDOrdered\r\n      with &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot; LVSDVisit\r\n        such that NoBetaBlockerForLVSDOrdered.authoredOn during day of LVSDVisit.period\r\n      where NoBetaBlockerForLVSDOrdered.status in { 'active', 'completed' }\r\n        and NoBetaBlockerForLVSDOrdered.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\r\n        and ( NoBetaBlockerForLVSDOrdered.reasonCode in &quot;Medical Reason&quot;\r\n            or NoBetaBlockerForLVSDOrdered.reasonCode in &quot;Patient Reason&quot;\r\n        )\r\n  )\n \n// TODO: https://oncprojectracking.healthit.gov/support/projects/MADIE/issues/MADIE-2124\n// Expecting 1 failures per population until this translator issue is incorporated into MADiE\r\n\r\n\r\n\r\ndefine &quot;Has Medical or Patient Reason for Not Ordering Beta Blocker Therapy&quot;:\r\n  exists ( [MedicationNotRequested: medication in &quot;Beta Blocker Therapy for LVSD&quot;] NoBetaBlockerForLVSDOrdered\r\n      with &quot;Qualifying CAD Encounter and Prior MI&quot; PriorMIVisit\r\n        such that NoBetaBlockerForLVSDOrdered.authoredOn during day of PriorMIVisit.period\r\n      where NoBetaBlockerForLVSDOrdered.status in { 'active', 'completed' }\r\n        and NoBetaBlockerForLVSDOrdered.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\r\n        and ( NoBetaBlockerForLVSDOrdered.reasonCode in &quot;Medical Reason&quot;\r\n            or NoBetaBlockerForLVSDOrdered.reasonCode in &quot;Patient Reason&quot;\r\n        )\r\n  )\r\n\r\ndefine &quot;Initial Population&quot;:\r\n  AgeInYearsAt(date from start of &quot;Measurement Period&quot;) &gt;= 18\r\n    and exists ( &quot;Qualifying Encounter During Measurement Period&quot; Encounter1\r\n        with &quot;Qualifying Encounter During Measurement Period&quot; Encounter2\r\n          such that Encounter2.id !~ Encounter1.id\r\n    )\r\n    and exists &quot;Qualifying CAD Encounter&quot;\r\n\r\ndefine &quot;Qualifying CAD Encounter and History of Moderate or Severe LVSD&quot;:\r\n  &quot;Qualifying CAD Encounter&quot; EncounterWithCADProxy\r\n    with AHA.&quot;Moderate or Severe LVSD Findings&quot; LVSDFindings\r\n      such that Coalesce(LVSDFindings.prevalenceInterval(), LVSDFindings.effective.toInterval()) starts before end of EncounterWithCADProxy.period\r\n\r\ndefine &quot;History of Cardiac Surgery Prior to Encounter&quot;:\r\n  &quot;Outpatient Encounter During Measurement Period&quot; ValidQualifyingEncounter\r\n    with [Procedure: &quot;Cardiac Surgery&quot;] CardiacSurgeryProcedure\r\n      such that CardiacSurgeryProcedure.performed.toInterval ( ) starts before end of ValidQualifyingEncounter.period\r\n        and CardiacSurgeryProcedure.status = 'completed'\r\n\r\ndefine &quot;Qualifying CAD Encounter&quot;:\r\n  &quot;Coronary Artery Disease Encounter&quot;\r\n    union &quot;History of Cardiac Surgery Prior to Encounter&quot;\r\n\r\ndefine fluent function overlapsDayOfEncounter(Diagnosis ConditionProblemsHealthConcerns, EncounterList List&lt;Encounter&gt;):\r\n  AnyTrue(EncounterList Visit\r\n      where Diagnosis.isActive()\r\n      return Diagnosis.prevalenceInterval() overlaps day of Visit.period\r\n  )\r\n\r\ndefine fluent function overlapsDayOfEncounter(Diagnosis ConditionProblemsHealthConcerns, TheEncounter Encounter):\r\n  TheEncounter Visit\r\n    where Diagnosis.isConfirmedActiveDiagnosis ( )\r\n    return Diagnosis.prevalenceInterval ( ) overlaps day of Visit.period\r\n\r\ndefine fluent function overlapsAfterDayOfEncounter(Event Choice&lt;AllergyIntolerance, ConditionProblemsHealthConcerns&gt;, EncounterList List&lt;Encounter&gt;):\r\n  AnyTrue(EncounterList Visit\r\n      return\r\n      case\r\n        when Event is AllergyIntolerance then Interval[start of Event.onset.toInterval(), Event.lastOccurrence]overlaps after day of Visit.period\r\n          and(Event.clinicalStatus is null\r\n              or Event.clinicalStatus ~ QICoreCommon.&quot;allergy-active&quot;\r\n          )\r\n        when Event is ConditionProblemsHealthConcerns then Event.isConfirmedActiveDiagnosis()\r\n          and Event.prevalenceInterval() overlaps after day of Visit.period\r\n          and Event.verificationStatus ~ QICoreCommon.&quot;confirmed&quot; \r\n        else false \r\n      end\r\n  )\r\n\r\ndefine fluent function authoredDuringDayOfEncounter(Order Choice&lt;MedicationRequest, MedicationNotRequested&gt;, EncounterList List&lt;Encounter&gt;):\r\n  AnyTrue(EncounterList Visit\r\n      return\r\n      case\r\n        when Order is MedicationRequest then Order.authoredOn during day of Visit.period\r\n          and Order.status in { 'active', 'completed' }\r\n          and Order.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\r\n          and Order.doNotPerform is not true\r\n        when Order is MedicationNotRequested then Order.authoredOn during day of Visit.period\r\n          and Order.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' } \r\n        else false \r\n      end\r\n  )</code></pre></td></tr>\n            </table>\n          </td>\n        </tr>\n        \n        \n        \n    </table>\n</div>"
  },
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.22.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": false
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "Overloads"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://snomed.info/sct",
      "code": "373254001",
      "display": "Substance with beta adrenergic receptor antagonist mechanism of action (substance)"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  }, {
    "url": "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "https://madie.cms.gov/Library/CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD",
  "identifier": [ {
    "use": "official",
    "system": "https://madie.cms.gov/login",
    "value": "CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD"
  } ],
  "version": "0.4.000",
  "name": "CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD",
  "title": "CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2025-04-28T20:34:10+00:00",
  "publisher": "American Heart Association",
  "description": "CMS145FHIRCADBetaBlockerTherapyPriorMIorLVSD",
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBDTVMxNDVGSElSQ0FEQmV0YUJsb2NrZXJUaGVyYXB5UHJpb3JNSW9yTFZTRCB2ZXJzaW9uICcwLjQuMDAwJw0KDQp1c2luZyBRSUNvcmUgdmVyc2lvbiAnNi4wLjAnDQp1c2luZyBVU0NvcmUgdmVyc2lvbiAnNi4xLjAnDQoNCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC40LjAwMCcgY2FsbGVkIEZISVJIZWxwZXJzDQppbmNsdWRlIFN1cHBsZW1lbnRhbERhdGFFbGVtZW50cyB2ZXJzaW9uICc1LjEuMDAwJyBjYWxsZWQgU0RFDQppbmNsdWRlIFFJQ29yZUNvbW1vbiB2ZXJzaW9uICc0LjAuMDAwJyBjYWxsZWQgUUlDb3JlQ29tbW9uDQppbmNsdWRlIEFIQU92ZXJhbGwgdmVyc2lvbiAnMy4wLjAwMCcgY2FsbGVkIEFIQQ0KDQpjb2Rlc3lzdGVtICJTTk9NRURDVCI6ICdodHRwOi8vc25vbWVkLmluZm8vc2N0Jw0KDQp2YWx1ZXNldCAiQWxsZXJneSB0byBCZXRhIEJsb2NrZXIgVGhlcmFweSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMy4xMTc3Jw0KdmFsdWVzZXQgIkFycmh5dGhtaWEiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNTI2LjMuMzY2Jw0KdmFsdWVzZXQgIkFzdGhtYSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMy4zNjInDQp2YWx1ZXNldCAiQXRyaW92ZW50cmljdWxhciBCbG9jayI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMy4zNjcnDQp2YWx1ZXNldCAiQmV0YSBCbG9ja2VyIFRoZXJhcHkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNTI2LjMuMTE3NCcNCnZhbHVlc2V0ICJCZXRhIEJsb2NrZXIgVGhlcmFweSBmb3IgTFZTRCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMy4xMTg0Jw0KdmFsdWVzZXQgIkJldGEgQmxvY2tlciBUaGVyYXB5IEluZ3JlZGllbnQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNTI2LjMuMTQ5MycNCnZhbHVlc2V0ICJCcmFkeWNhcmRpYSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMy40MTInDQp2YWx1ZXNldCAiQ2FyZGlhYyBQYWNlciI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExNzguNTMnDQp2YWx1ZXNldCAiQ2FyZGlhYyBQYWNlciBpbiBTaXR1IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjUyNi4zLjM2OCcNCnZhbHVlc2V0ICJDYXJkaWFjIFN1cmdlcnkiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNTI2LjMuMzcxJw0KdmFsdWVzZXQgIkNhcmUgU2VydmljZXMgaW4gTG9uZyBUZXJtIFJlc2lkZW50aWFsIEZhY2lsaXR5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjQ2NC4xMDAzLjEwMS4xMi4xMDE0Jw0KdmFsdWVzZXQgIkNvcm9uYXJ5IEFydGVyeSBEaXNlYXNlIE5vIE1JIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjUyNi4zLjM2OScNCnZhbHVlc2V0ICJFamVjdGlvbiBGcmFjdGlvbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMy4xMTM0Jw0KdmFsdWVzZXQgIkZhY2UtdG8tRmFjZSBJbnRlcmFjdGlvbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDEuMTIuMTA0OCcNCnZhbHVlc2V0ICJIb21lIEhlYWx0aGNhcmUgU2VydmljZXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwMTYnDQp2YWx1ZXNldCAiSHlwb3RlbnNpb24iOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNTI2LjMuMzcwJw0KdmFsdWVzZXQgIkludG9sZXJhbmNlIHRvIEJldGEgQmxvY2tlciBUaGVyYXB5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjUyNi4zLjExNzgnDQp2YWx1ZXNldCAiTWVkaWNhbCBSZWFzb24iOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNTI2LjMuMTAwNycNCnZhbHVlc2V0ICJNb2RlcmF0ZSBvciBTZXZlcmUiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNTI2LjMuMTA5MicNCnZhbHVlc2V0ICJNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMy4xMDkwJw0KdmFsdWVzZXQgIk15b2NhcmRpYWwgSW5mYXJjdGlvbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMy40MDMnDQp2YWx1ZXNldCAiTnVyc2luZyBGYWNpbGl0eSBWaXNpdCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy40NjQuMTAwMy4xMDEuMTIuMTAxMicNCnZhbHVlc2V0ICJPZmZpY2UgVmlzaXQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwMDEnDQp2YWx1ZXNldCAiT3V0cGF0aWVudCBDb25zdWx0YXRpb24iOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNDY0LjEwMDMuMTAxLjEyLjEwMDgnDQp2YWx1ZXNldCAiUGF0aWVudCBQcm92aWRlciBJbnRlcmFjdGlvbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMy4xMDEyJw0KdmFsdWVzZXQgIlBhdGllbnQgUmVhc29uIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjUyNi4zLjEwMDgnDQp2YWx1ZXNldCAiU3lzdGVtIFJlYXNvbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy41MjYuMy4xMDA5Jw0KDQpjb2RlICJTdWJzdGFuY2Ugd2l0aCBiZXRhIGFkcmVuZXJnaWMgcmVjZXB0b3IgYW50YWdvbmlzdCBtZWNoYW5pc20gb2YgYWN0aW9uIChzdWJzdGFuY2UpIjogJzM3MzI1NDAwMScgZnJvbSAiU05PTUVEQ1QiIGRpc3BsYXkgJ1N1YnN0YW5jZSB3aXRoIGJldGEgYWRyZW5lcmdpYyByZWNlcHRvciBhbnRhZ29uaXN0IG1lY2hhbmlzbSBvZiBhY3Rpb24gKHN1YnN0YW5jZSknDQoNCnBhcmFtZXRlciAiTWVhc3VyZW1lbnQgUGVyaW9kIiBJbnRlcnZhbDxEYXRlVGltZT4NCg0KY29udGV4dCBQYXRpZW50DQoNCmRlZmluZSAiRGVub21pbmF0b3IgMiI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iDQogICAgYW5kIGV4aXN0cyAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSINCg0KZGVmaW5lICJIYXMgQXRyaW92ZW50cmljdWxhciBCbG9jayB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkgd2l0aG91dCBDYXJkaWFjIFBhY2VyIjoNCiAgIkhhcyBBdHJpb3ZlbnRyaWN1bGFyIEJsb2NrIHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSINCiAgICBhbmQgbm90ICJIYXMgRGlhZ25vc2lzIG9mIENhcmRpYWMgUGFjZXIgaW4gU2l0dSB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkiDQogICAgYW5kIG5vdCAiSGFzIENhcmRpYWMgUGFjZXIgRGV2aWNlIEltcGxhbnRlZCB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkiCgovKgoqIEBjb2RlOiBIZWFydCByYXRlIC0gODg2Ny00CiogQHByb2ZpbGU6IGh0dHA6Ly9obDcub3JnL2ZoaXIvdXMvY29yZS9TdHJ1Y3R1cmVEZWZpbml0aW9uL3VzLWNvcmUtaGVhcnQtcmF0ZSAKKi8NCg0KDQpkZWZpbmUgIkhhcyBDb25zZWN1dGl2ZSBIZWFydCBSYXRlcyBMZXNzIHRoYW4gNTAgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIFByaW9yIE1JIjoNCiAgZXhpc3RzICggZnJvbQ0KICAgICAgWyJVU0NvcmVIZWFydFJhdGVQcm9maWxlIl0gSGVhcnRSYXRlRXhhbSwNCiAgICAgICJRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIFByaW9yIE1JIiBDQURFbmNvdW50ZXJNSQ0KICAgICAgbGV0IFByaW9ySGVhcnRSYXRlRXhhbTogTGFzdChbIlVTQ29yZUhlYXJ0UmF0ZVByb2ZpbGUiXSBNb3N0UmVjZW50UHJpb3JIZWFydFJhdGVFeGFtDQogICAgICAgICAgd2hlcmUgTW9zdFJlY2VudFByaW9ySGVhcnRSYXRlRXhhbS5lZmZlY3RpdmUudG9JbnRlcnZhbCgpIGR1cmluZyBDQURFbmNvdW50ZXJNSS5wZXJpb2QNCiAgICAgICAgICAgIGFuZCBNb3N0UmVjZW50UHJpb3JIZWFydFJhdGVFeGFtLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICAgICAgYW5kIE1vc3RSZWNlbnRQcmlvckhlYXJ0UmF0ZUV4YW0uZWZmZWN0aXZlLnRvSW50ZXJ2YWwoKSBiZWZvcmUgSGVhcnRSYXRlRXhhbS5lZmZlY3RpdmUudG9JbnRlcnZhbCgpDQogICAgICAgICAgc29ydCBieSBzdGFydCBvZiBlZmZlY3RpdmUudG9JbnRlcnZhbCgpDQogICAgICApDQogICAgICB3aGVyZSBIZWFydFJhdGVFeGFtLmVmZmVjdGl2ZS50b0ludGVydmFsICggKSBkdXJpbmcgQ0FERW5jb3VudGVyTUkucGVyaW9kDQogICAgICAgIGFuZCBIZWFydFJhdGVFeGFtLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICBhbmQgSGVhcnRSYXRlRXhhbS52YWx1ZSA8IDUwICcvbWluJw0KICAgICAgICBhbmQgUHJpb3JIZWFydFJhdGVFeGFtLnZhbHVlIDwgNTAgJy9taW4nDQogICkNCg0KZGVmaW5lICJOdW1lcmF0b3IgMSI6DQogICJIYXMgQmV0YSBCbG9ja2VyIFRoZXJhcHkgZm9yIExWU0QgT3JkZXJlZCINCiAgICBvciAiSXMgQ3VycmVudGx5IFRha2luZyBCZXRhIEJsb2NrZXIgVGhlcmFweSBmb3IgTFZTRCINCg0KZGVmaW5lICJOdW1lcmF0b3IgMiI6DQogICJIYXMgQmV0YSBCbG9ja2VyIFRoZXJhcHkgT3JkZXJlZCINCiAgICBvciAiSXMgQ3VycmVudGx5IFRha2luZyBCZXRhIEJsb2NrZXIgVGhlcmFweSINCg0KZGVmaW5lICJTREUgRXRobmljaXR5IjoNCiAgU0RFLiJTREUgRXRobmljaXR5Ig0KDQpkZWZpbmUgIlNERSBQYXllciI6DQogIFNERS4iU0RFIFBheWVyIg0KDQpkZWZpbmUgIlNERSBSYWNlIjoNCiAgU0RFLiJTREUgUmFjZSINCg0KZGVmaW5lICJTREUgU2V4IjoNCiAgU0RFLiJTREUgU2V4Ig0KDQpkZWZpbmUgIkhhcyBDYXJkaWFjIFBhY2VyIERldmljZSBJbXBsYW50ZWQgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIFByaW9yIE1JIjoNCiAgZXhpc3RzICggW1Byb2NlZHVyZTogIkNhcmRpYWMgUGFjZXIiXSBJbXBsYW50ZWRDYXJkaWFjUGFjZXINCiAgICAgIHdpdGggIlF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkiIENBREVuY291bnRlck1JDQogICAgICAgIHN1Y2ggdGhhdCBJbXBsYW50ZWRDYXJkaWFjUGFjZXIucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyBiZWZvcmUgZW5kIG9mIENBREVuY291bnRlck1JLnBlcmlvZA0KICApDQoNCmRlZmluZSAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSI6DQogICJRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIiIEVuY291bnRlcldpdGhDQURQcm94eQ0KICAgIHdpdGggW0NvbmRpdGlvblByb2JsZW1zSGVhbHRoQ29uY2VybnM6ICJNeW9jYXJkaWFsIEluZmFyY3Rpb24iXSBNeW9jYXJkaWFsSW5mYXJjdGlvbg0KICAgICAgc3VjaCB0aGF0IE15b2NhcmRpYWxJbmZhcmN0aW9uLnByZXZhbGVuY2VJbnRlcnZhbCAoICkgc3RhcnRzIDMgeWVhcnMgb3IgbGVzcyBiZWZvcmUgZGF5IG9mIHN0YXJ0IG9mIEVuY291bnRlcldpdGhDQURQcm94eS5wZXJpb2QNCiAgICAgICAgYW5kIG5vdCBleGlzdHMgQUhBLiJNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCBGaW5kaW5ncyINCg0KZGVmaW5lICJEZW5vbWluYXRvciAxIjoNCiAgIkluaXRpYWwgUG9wdWxhdGlvbiINCiAgICBhbmQgZXhpc3RzICJRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIEhpc3Rvcnkgb2YgTW9kZXJhdGUgb3IgU2V2ZXJlIExWU0QiDQoNCmRlZmluZSAiSGFzIEF0cmlvdmVudHJpY3VsYXIgQmxvY2sgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIEhpc3Rvcnkgb2YgTW9kZXJhdGUgb3IgU2V2ZXJlIExWU0Qgd2l0aG91dCBDYXJkaWFjIFBhY2VyIjoNCiAgIkhhcyBBdHJpb3ZlbnRyaWN1bGFyIEJsb2NrIHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIg0KICAgIGFuZCBub3QgIkhhcyBEaWFnbm9zaXMgb2YgQ2FyZGlhYyBQYWNlciBpbiBTaXR1IHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIg0KICAgIGFuZCBub3QgIkhhcyBDYXJkaWFjIFBhY2VyIERldmljZSBJbXBsYW50ZWQgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIEhpc3Rvcnkgb2YgTW9kZXJhdGUgb3IgU2V2ZXJlIExWU0QiCgovKgoqIEBjb2RlOiBIZWFydCByYXRlIC0gODg2Ny00CiogQHByb2ZpbGU6IGh0dHA6Ly9obDcub3JnL2ZoaXIvdXMvY29yZS9TdHJ1Y3R1cmVEZWZpbml0aW9uL3VzLWNvcmUtaGVhcnQtcmF0ZQoqLw0KDQoNCmRlZmluZSAiSGFzIENvbnNlY3V0aXZlIEhlYXJ0IFJhdGVzIExlc3MgdGhhbiA1MCB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgSGlzdG9yeSBvZiBNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCI6DQogIGV4aXN0cyAoIGZyb20NCiAgICAgIFsiVVNDb3JlSGVhcnRSYXRlUHJvZmlsZSJdIEhlYXJ0UmF0ZUV4YW0sDQogICAgICAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIiBDQURFbmNvdW50ZXJNb2RlcmF0ZU9yU2V2ZXJlTFZTRA0KICAgICAgbGV0IFByaW9ySGVhcnRSYXRlRXhhbTogTGFzdChbIlVTQ29yZUhlYXJ0UmF0ZVByb2ZpbGUiXSBNb3N0UmVjZW50UHJpb3JIZWFydFJhdGVFeGFtDQogICAgICAgICAgd2hlcmUgTW9zdFJlY2VudFByaW9ySGVhcnRSYXRlRXhhbS5lZmZlY3RpdmUudG9JbnRlcnZhbCgpIGR1cmluZyBDQURFbmNvdW50ZXJNb2RlcmF0ZU9yU2V2ZXJlTFZTRC5wZXJpb2QNCiAgICAgICAgICAgIGFuZCBNb3N0UmVjZW50UHJpb3JIZWFydFJhdGVFeGFtLmVmZmVjdGl2ZS50b0ludGVydmFsKCkgYmVmb3JlIEhlYXJ0UmF0ZUV4YW0uZWZmZWN0aXZlLnRvSW50ZXJ2YWwoKQ0KICAgICAgICAgIHNvcnQgYnkgc3RhcnQgb2YgZWZmZWN0aXZlLnRvSW50ZXJ2YWwoKQ0KICAgICAgKQ0KICAgICAgd2hlcmUgSGVhcnRSYXRlRXhhbS5lZmZlY3RpdmUudG9JbnRlcnZhbCAoICkgZHVyaW5nIENBREVuY291bnRlck1vZGVyYXRlT3JTZXZlcmVMVlNELnBlcmlvZA0KICAgICAgICBhbmQgSGVhcnRSYXRlRXhhbS52YWx1ZSA8IDUwICcvbWluJw0KICAgICAgICBhbmQgUHJpb3JIZWFydFJhdGVFeGFtLnZhbHVlIDwgNTAgJy9taW4nDQogICkNCg0KZGVmaW5lICJIYXMgQ2FyZGlhYyBQYWNlciBEZXZpY2UgSW1wbGFudGVkIHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIjoNCiAgZXhpc3RzICggW1Byb2NlZHVyZTogIkNhcmRpYWMgUGFjZXIiXSBJbXBsYW50ZWRDYXJkaWFjUGFjZXINCiAgICAgIHdpdGggIlF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgSGlzdG9yeSBvZiBNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCIgQ0FERW5jb3VudGVyTW9kZXJhdGVPclNldmVyZUxWU0QNCiAgICAgICAgc3VjaCB0aGF0IEltcGxhbnRlZENhcmRpYWNQYWNlci5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgc3RhcnRzIGJlZm9yZSBlbmQgb2YgQ0FERW5jb3VudGVyTW9kZXJhdGVPclNldmVyZUxWU0QucGVyaW9kDQogICkNCg0KZGVmaW5lICJIYXMgQWxsZXJneSBvciBJbnRvbGVyYW5jZSB0byBCZXRhIEJsb2NrZXIgVGhlcmFweSBJbmdyZWRpZW50IHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSI6DQogIGV4aXN0cyAoICggW0FsbGVyZ3lJbnRvbGVyYW5jZTogIkJldGEgQmxvY2tlciBUaGVyYXB5IEluZ3JlZGllbnQiXQ0KICAgICAgdW5pb24gW0FsbGVyZ3lJbnRvbGVyYW5jZTogIlN1YnN0YW5jZSB3aXRoIGJldGEgYWRyZW5lcmdpYyByZWNlcHRvciBhbnRhZ29uaXN0IG1lY2hhbmlzbSBvZiBhY3Rpb24gKHN1YnN0YW5jZSkiXSApIEJldGFCbG9ja2VyQWxsZXJneUludG9sZXJhbmNlDQogICAgICB3aGVyZSBCZXRhQmxvY2tlckFsbGVyZ3lJbnRvbGVyYW5jZS5vdmVybGFwc0FmdGVyRGF5T2ZFbmNvdW50ZXIgKCAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSIgKQ0KICApDQoNCmRlZmluZSAiSGFzIEJldGEgQmxvY2tlciBUaGVyYXB5IGZvciBMVlNEIE9yZGVyZWQiOg0KICBleGlzdHMgKCBbTWVkaWNhdGlvblJlcXVlc3Q6IG1lZGljYXRpb24gaW4gIkJldGEgQmxvY2tlciBUaGVyYXB5IGZvciBMVlNEIl0gQmV0YUJsb2NrZXJGb3JMVlNET3JkZXJlZA0KICAgICAgd2hlcmUgQmV0YUJsb2NrZXJGb3JMVlNET3JkZXJlZC5hdXRob3JlZER1cmluZ0RheU9mRW5jb3VudGVyICggIlF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgSGlzdG9yeSBvZiBNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCIgKQ0KICApDQoNCmRlZmluZSAiSGFzIEJldGEgQmxvY2tlciBUaGVyYXB5IE9yZGVyZWQiOg0KICBleGlzdHMgKCBbTWVkaWNhdGlvblJlcXVlc3Q6IG1lZGljYXRpb24gaW4gIkJldGEgQmxvY2tlciBUaGVyYXB5Il0gQmV0YUJsb2NrZXJPcmRlcmVkDQogICAgICB3aGVyZSBCZXRhQmxvY2tlck9yZGVyZWQuYXV0aG9yZWREdXJpbmdEYXlPZkVuY291bnRlciAoICJRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIFByaW9yIE1JIiApDQogICkNCg0KZGVmaW5lICJJcyBDdXJyZW50bHkgVGFraW5nIEJldGEgQmxvY2tlciBUaGVyYXB5IjoNCiAgZXhpc3RzICggW01lZGljYXRpb25SZXF1ZXN0OiBtZWRpY2F0aW9uIGluICJCZXRhIEJsb2NrZXIgVGhlcmFweSJdIEFjdGl2ZUJldGFCbG9ja2VyDQogICAgICB3aXRoICJRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIFByaW9yIE1JIiBDQURFbmNvdW50ZXJNSQ0KICAgICAgICBzdWNoIHRoYXQgRmlyc3QoKGNvbGxhcHNlKEFjdGl2ZUJldGFCbG9ja2VyLmRvc2FnZUluc3RydWN0aW9uLnRpbWluZy5yZXBlYXQuYm91bmRzIERvc2VUaW1lDQogICAgICAgICAgICAgIHJldHVybiBEb3NlVGltZS50b0ludGVydmFsKCkNCiAgICAgICAgICApKSBEcnVnUGVyaW9kDQogICAgICAgICAgICBzb3J0IGJ5IHN0YXJ0IG9mICR0aGlzDQogICAgICAgICkgb3ZlcmxhcHMgYWZ0ZXIgZGF5IG9mIENBREVuY291bnRlck1JLnBlcmlvZA0KICAgICAgd2hlcmUgQWN0aXZlQmV0YUJsb2NrZXIuc3RhdHVzIGluIHsgJ2FjdGl2ZScsICdjb21wbGV0ZWQnIH0NCiAgICAgICAgYW5kIEFjdGl2ZUJldGFCbG9ja2VyLmludGVudCBpbiB7ICdvcmRlcicsICdvcmlnaW5hbC1vcmRlcicsICdyZWZsZXgtb3JkZXInLCAnZmlsbGVyLW9yZGVyJywgJ2luc3RhbmNlLW9yZGVyJyB9DQogICkNCg0KZGVmaW5lICJJcyBDdXJyZW50bHkgVGFraW5nIEJldGEgQmxvY2tlciBUaGVyYXB5IGZvciBMVlNEIjoNCiAgZXhpc3RzICggW01lZGljYXRpb25SZXF1ZXN0OiBtZWRpY2F0aW9uIGluICJCZXRhIEJsb2NrZXIgVGhlcmFweSBmb3IgTFZTRCJdIEFjdGl2ZUJldGFCbG9ja2VyRm9yTFZTRA0KICAgICAgd2l0aCAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIiBDQURFbmNvdW50ZXJNb2RlcmF0ZU9yU2V2ZXJlTFZTRA0KICAgICAgICBzdWNoIHRoYXQgRmlyc3QoKGNvbGxhcHNlKEFjdGl2ZUJldGFCbG9ja2VyRm9yTFZTRC5kb3NhZ2VJbnN0cnVjdGlvbi50aW1pbmcucmVwZWF0LmJvdW5kcyBEb3NlVGltZQ0KICAgICAgICAgICAgICByZXR1cm4gRG9zZVRpbWUudG9JbnRlcnZhbCgpDQogICAgICAgICAgKSkgRHJ1Z1BlcmlvZA0KICAgICAgICAgICAgc29ydCBieSBzdGFydCBvZiAkdGhpcw0KICAgICAgICApIG92ZXJsYXBzIGFmdGVyIGRheSBvZiBDQURFbmNvdW50ZXJNb2RlcmF0ZU9yU2V2ZXJlTFZTRC5wZXJpb2QNCiAgICAgIHdoZXJlIEFjdGl2ZUJldGFCbG9ja2VyRm9yTFZTRC5zdGF0dXMgaW4geyAnYWN0aXZlJywgJ2NvbXBsZXRlZCcgfQ0KICAgICAgICBhbmQgQWN0aXZlQmV0YUJsb2NrZXJGb3JMVlNELmludGVudCBpbiB7ICdvcmRlcicsICdvcmlnaW5hbC1vcmRlcicsICdyZWZsZXgtb3JkZXInLCAnZmlsbGVyLW9yZGVyJywgJ2luc3RhbmNlLW9yZGVyJyB9DQogICkNCg0KZGVmaW5lICJPdXRwYXRpZW50IEVuY291bnRlciBEdXJpbmcgTWVhc3VyZW1lbnQgUGVyaW9kIjoNCiAgKCBbRW5jb3VudGVyOiAiT2ZmaWNlIFZpc2l0Il0NCiAgICB1bmlvbiBbRW5jb3VudGVyOiAiT3V0cGF0aWVudCBDb25zdWx0YXRpb24iXQ0KICAgIHVuaW9uIFtFbmNvdW50ZXI6ICJDYXJlIFNlcnZpY2VzIGluIExvbmcgVGVybSBSZXNpZGVudGlhbCBGYWNpbGl0eSJdDQogICAgdW5pb24gW0VuY291bnRlcjogIkhvbWUgSGVhbHRoY2FyZSBTZXJ2aWNlcyJdDQogICAgdW5pb24gW0VuY291bnRlcjogIk51cnNpbmcgRmFjaWxpdHkgVmlzaXQiXSApIFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICB3aGVyZSBRdWFsaWZ5aW5nRW5jb3VudGVyLnBlcmlvZCBkdXJpbmcgZGF5IG9mICJNZWFzdXJlbWVudCBQZXJpb2QiDQogICAgICBhbmQgUXVhbGlmeWluZ0VuY291bnRlci5zdGF0dXMgPSAnZmluaXNoZWQnDQoNCmRlZmluZSAiUXVhbGlmeWluZyBFbmNvdW50ZXIgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCI6DQogICggW0VuY291bnRlcjogIk9mZmljZSBWaXNpdCJdDQogICAgdW5pb24gW0VuY291bnRlcjogIk91dHBhdGllbnQgQ29uc3VsdGF0aW9uIl0NCiAgICB1bmlvbiBbRW5jb3VudGVyOiAiTnVyc2luZyBGYWNpbGl0eSBWaXNpdCJdDQogICAgdW5pb24gW0VuY291bnRlcjogIkNhcmUgU2VydmljZXMgaW4gTG9uZyBUZXJtIFJlc2lkZW50aWFsIEZhY2lsaXR5Il0NCiAgICB1bmlvbiBbRW5jb3VudGVyOiAiSG9tZSBIZWFsdGhjYXJlIFNlcnZpY2VzIl0NCiAgICB1bmlvbiBbRW5jb3VudGVyOiAiUGF0aWVudCBQcm92aWRlciBJbnRlcmFjdGlvbiJdICkgVmFsaWRFbmNvdW50ZXINCiAgICB3aGVyZSBWYWxpZEVuY291bnRlci5wZXJpb2QgZHVyaW5nIGRheSBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIg0KICAgICAgYW5kIFZhbGlkRW5jb3VudGVyLnN0YXR1cyA9ICdmaW5pc2hlZCcNCg0KZGVmaW5lICJDb3JvbmFyeSBBcnRlcnkgRGlzZWFzZSBFbmNvdW50ZXIiOg0KICAiT3V0cGF0aWVudCBFbmNvdW50ZXIgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCIgVmFsaWRRdWFsaWZ5aW5nRW5jb3VudGVyDQogICAgd2l0aCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkNvcm9uYXJ5IEFydGVyeSBEaXNlYXNlIE5vIE1JIl0gQ29yb25hcnlBcnRlcnlEaXNlYXNlDQogICAgICBzdWNoIHRoYXQgQ29yb25hcnlBcnRlcnlEaXNlYXNlLm92ZXJsYXBzRGF5T2ZFbmNvdW50ZXIgKCBWYWxpZFF1YWxpZnlpbmdFbmNvdW50ZXIgKQ0KDQpkZWZpbmUgIkhhcyBBcnJoeXRobWlhIHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIjoNCiAgZXhpc3RzICggW0NvbmRpdGlvblByb2JsZW1zSGVhbHRoQ29uY2VybnM6ICJBcnJoeXRobWlhIl0gQXJyaHl0aG1pYURpYWdub3Npcw0KICAgICAgd2hlcmUgQXJyaHl0aG1pYURpYWdub3Npcy5vdmVybGFwc0RheU9mRW5jb3VudGVyICggIlF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgSGlzdG9yeSBvZiBNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCIgKQ0KICApDQoNCmRlZmluZSAiSGFzIEFycmh5dGhtaWEgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIFByaW9yIE1JIjoNCiAgZXhpc3RzICggW0NvbmRpdGlvblByb2JsZW1zSGVhbHRoQ29uY2VybnM6ICJBcnJoeXRobWlhIl0gQXJyaHl0aG1pYURpYWdub3Npcw0KICAgICAgd2hlcmUgQXJyaHl0aG1pYURpYWdub3Npcy5vdmVybGFwc0RheU9mRW5jb3VudGVyICggIlF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkiICkNCiAgKQ0KDQpkZWZpbmUgIkhhcyBBc3RobWEgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIEhpc3Rvcnkgb2YgTW9kZXJhdGUgb3IgU2V2ZXJlIExWU0QiOg0KICBleGlzdHMgKCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkFzdGhtYSJdIEFzdGhtYURpYWdub3Npcw0KICAgICAgd2hlcmUgQXN0aG1hRGlhZ25vc2lzLm92ZXJsYXBzRGF5T2ZFbmNvdW50ZXIgKCAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIiApDQogICkNCg0KZGVmaW5lICJIYXMgQXN0aG1hIHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSI6DQogIGV4aXN0cyAoIFtDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zOiAiQXN0aG1hIl0gQXN0aG1hRGlhZ25vc2lzDQogICAgICB3aGVyZSBBc3RobWFEaWFnbm9zaXMub3ZlcmxhcHNEYXlPZkVuY291bnRlciAoICJRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIFByaW9yIE1JIiApDQogICkNCg0KZGVmaW5lICJIYXMgQXRyaW92ZW50cmljdWxhciBCbG9jayB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgSGlzdG9yeSBvZiBNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCI6DQogIGV4aXN0cyAoIFtDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zOiAiQXRyaW92ZW50cmljdWxhciBCbG9jayJdIEF0cmlvdmVudHJpY3VsYXJCbG9jaw0KICAgICAgd2hlcmUgQXRyaW92ZW50cmljdWxhckJsb2NrLm92ZXJsYXBzRGF5T2ZFbmNvdW50ZXIgKCAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIiApDQogICkNCg0KZGVmaW5lICJIYXMgQXRyaW92ZW50cmljdWxhciBCbG9jayB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkiOg0KICBleGlzdHMgKCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkF0cmlvdmVudHJpY3VsYXIgQmxvY2siXSBBdHJpb3ZlbnRyaWN1bGFyQmxvY2tEaWFnbm9zaXMNCiAgICAgIHdoZXJlIEF0cmlvdmVudHJpY3VsYXJCbG9ja0RpYWdub3Npcy5vdmVybGFwc0RheU9mRW5jb3VudGVyICggIlF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkiICkNCiAgKQ0KDQpkZWZpbmUgIkhhcyBCcmFkeWNhcmRpYSB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgSGlzdG9yeSBvZiBNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCI6DQogIGV4aXN0cyAoIFtDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zOiAiQnJhZHljYXJkaWEiXSBCcmFkeWNhcmRpYURpYWdub3Npcw0KICAgICAgd2hlcmUgQnJhZHljYXJkaWFEaWFnbm9zaXMub3ZlcmxhcHNEYXlPZkVuY291bnRlciAoICJRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIEhpc3Rvcnkgb2YgTW9kZXJhdGUgb3IgU2V2ZXJlIExWU0QiICkNCiAgKQ0KDQpkZWZpbmUgIkhhcyBCcmFkeWNhcmRpYSB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkiOg0KICBleGlzdHMgKCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkJyYWR5Y2FyZGlhIl0gQnJhZHljYXJkaWFEaWFnbm9zaXMNCiAgICAgIHdoZXJlIEJyYWR5Y2FyZGlhRGlhZ25vc2lzLm92ZXJsYXBzRGF5T2ZFbmNvdW50ZXIgKCAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSIgKQ0KICApDQoNCmRlZmluZSAiSGFzIERpYWdub3NpcyBvZiBBbGxlcmd5IG9yIEludG9sZXJhbmNlIHRvIEJldGEgQmxvY2tlciBUaGVyYXB5IHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIjoNCiAgZXhpc3RzICggKCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkFsbGVyZ3kgdG8gQmV0YSBCbG9ja2VyIFRoZXJhcHkiXQ0KICAgICAgdW5pb24gW0NvbmRpdGlvblByb2JsZW1zSGVhbHRoQ29uY2VybnM6ICJJbnRvbGVyYW5jZSB0byBCZXRhIEJsb2NrZXIgVGhlcmFweSJdICkgQmV0YUJsb2NrZXJBbGxlcmd5T3JJbnRvbGVyYW5jZURpYWdub3Npcw0KICAgICAgd2hlcmUgQmV0YUJsb2NrZXJBbGxlcmd5T3JJbnRvbGVyYW5jZURpYWdub3Npcy5vdmVybGFwc0FmdGVyRGF5T2ZFbmNvdW50ZXIgKCAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIiApDQogICkNCg0KZGVmaW5lICJIYXMgRGlhZ25vc2lzIG9mIEFsbGVyZ3kgb3IgSW50b2xlcmFuY2UgdG8gQmV0YSBCbG9ja2VyIFRoZXJhcHkgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIFByaW9yIE1JIjoNCiAgZXhpc3RzICggKCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkFsbGVyZ3kgdG8gQmV0YSBCbG9ja2VyIFRoZXJhcHkiXQ0KICAgICAgdW5pb24gW0NvbmRpdGlvblByb2JsZW1zSGVhbHRoQ29uY2VybnM6ICJJbnRvbGVyYW5jZSB0byBCZXRhIEJsb2NrZXIgVGhlcmFweSJdICkgQmV0YUJsb2NrZXJBbGxlcmd5T3JJbnRvbGVyYW5jZURpYWdub3Npcw0KICAgICAgd2hlcmUgQmV0YUJsb2NrZXJBbGxlcmd5T3JJbnRvbGVyYW5jZURpYWdub3Npcy5vdmVybGFwc0FmdGVyRGF5T2ZFbmNvdW50ZXIgKCAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSIgKQ0KICApDQoNCmRlZmluZSAiSGFzIERpYWdub3NpcyBvZiBDYXJkaWFjIFBhY2VyIGluIFNpdHUgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIEhpc3Rvcnkgb2YgTW9kZXJhdGUgb3IgU2V2ZXJlIExWU0QiOg0KICBleGlzdHMgKCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkNhcmRpYWMgUGFjZXIgaW4gU2l0dSJdIENhcmRpYWNQYWNlckRpYWdub3Npcw0KICAgICAgd2hlcmUgQ2FyZGlhY1BhY2VyRGlhZ25vc2lzLm92ZXJsYXBzRGF5T2ZFbmNvdW50ZXIgKCAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIiApDQogICkNCg0KZGVmaW5lICJIYXMgRGlhZ25vc2lzIG9mIENhcmRpYWMgUGFjZXIgaW4gU2l0dSB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkiOg0KICBleGlzdHMgKCBbQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJuczogIkNhcmRpYWMgUGFjZXIgaW4gU2l0dSJdIENhcmRpYWNQYWNlckRpYWdub3Npcw0KICAgICAgd2hlcmUgQ2FyZGlhY1BhY2VyRGlhZ25vc2lzLm92ZXJsYXBzRGF5T2ZFbmNvdW50ZXIgKCAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSIgKQ0KICApDQoNCmRlZmluZSAiSGFzIEh5cG90ZW5zaW9uIHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIjoNCiAgZXhpc3RzICggW0NvbmRpdGlvblByb2JsZW1zSGVhbHRoQ29uY2VybnM6ICJIeXBvdGVuc2lvbiJdIEh5cG90ZW5zaW9uRGlhZ25vc2lzDQogICAgICB3aGVyZSBIeXBvdGVuc2lvbkRpYWdub3Npcy5vdmVybGFwc0RheU9mRW5jb3VudGVyICggIlF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgSGlzdG9yeSBvZiBNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCIgKQ0KICApDQoNCmRlZmluZSAiSGFzIEh5cG90ZW5zaW9uIHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSI6DQogIGV4aXN0cyAoIFtDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zOiAiSHlwb3RlbnNpb24iXSBIeXBvdGVuc2lvbkRpYWdub3Npcw0KICAgICAgd2hlcmUgSHlwb3RlbnNpb25EaWFnbm9zaXMub3ZlcmxhcHNEYXlPZkVuY291bnRlciAoICJRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIFByaW9yIE1JIiApDQogICkNCg0KZGVmaW5lICJEZW5vbWluYXRvciBFeGNlcHRpb25zIDEiOg0KICAiSGFzIEFycmh5dGhtaWEgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIEhpc3Rvcnkgb2YgTW9kZXJhdGUgb3IgU2V2ZXJlIExWU0QiDQogICAgb3IgIkhhcyBBc3RobWEgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIEhpc3Rvcnkgb2YgTW9kZXJhdGUgb3IgU2V2ZXJlIExWU0QiDQogICAgb3IgIkhhcyBCcmFkeWNhcmRpYSB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgSGlzdG9yeSBvZiBNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCINCiAgICBvciAiSGFzIEh5cG90ZW5zaW9uIHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIg0KICAgIG9yICJIYXMgQ29uc2VjdXRpdmUgSGVhcnQgUmF0ZXMgTGVzcyB0aGFuIDUwIHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIg0KICAgIG9yICJIYXMgQWxsZXJneSBvciBJbnRvbGVyYW5jZSB0byBCZXRhIEJsb2NrZXIgVGhlcmFweSBJbmdyZWRpZW50IHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIg0KICAgIG9yICJIYXMgRGlhZ25vc2lzIG9mIEFsbGVyZ3kgb3IgSW50b2xlcmFuY2UgdG8gQmV0YSBCbG9ja2VyIFRoZXJhcHkgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIEhpc3Rvcnkgb2YgTW9kZXJhdGUgb3IgU2V2ZXJlIExWU0QiDQogICAgb3IgIkhhcyBNZWRpY2FsIG9yIFBhdGllbnQgUmVhc29uIGZvciBOb3QgT3JkZXJpbmcgQmV0YSBCbG9ja2VyIGZvciBMVlNEIg0KICAgIG9yICJIYXMgQXRyaW92ZW50cmljdWxhciBCbG9jayB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgSGlzdG9yeSBvZiBNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCB3aXRob3V0IENhcmRpYWMgUGFjZXIiDQoNCmRlZmluZSAiRGVub21pbmF0b3IgRXhjZXB0aW9ucyAyIjoNCiAgIkhhcyBBcnJoeXRobWlhIHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSINCiAgICBvciAiSGFzIEFzdGhtYSB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkiDQogICAgb3IgIkhhcyBCcmFkeWNhcmRpYSB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkiDQogICAgb3IgIkhhcyBIeXBvdGVuc2lvbiB3aXRoIFF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgUHJpb3IgTUkiDQogICAgb3IgIkhhcyBDb25zZWN1dGl2ZSBIZWFydCBSYXRlcyBMZXNzIHRoYW4gNTAgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIFByaW9yIE1JIg0KICAgIG9yICJIYXMgQWxsZXJneSBvciBJbnRvbGVyYW5jZSB0byBCZXRhIEJsb2NrZXIgVGhlcmFweSBJbmdyZWRpZW50IHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSINCiAgICBvciAiSGFzIERpYWdub3NpcyBvZiBBbGxlcmd5IG9yIEludG9sZXJhbmNlIHRvIEJldGEgQmxvY2tlciBUaGVyYXB5IHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSINCiAgICBvciAiSGFzIE1lZGljYWwgb3IgUGF0aWVudCBSZWFzb24gZm9yIE5vdCBPcmRlcmluZyBCZXRhIEJsb2NrZXIgVGhlcmFweSINCiAgICBvciAiSGFzIEF0cmlvdmVudHJpY3VsYXIgQmxvY2sgd2l0aCBRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIFByaW9yIE1JIHdpdGhvdXQgQ2FyZGlhYyBQYWNlciINCg0KZGVmaW5lICJIYXMgQWxsZXJneSBvciBJbnRvbGVyYW5jZSB0byBCZXRhIEJsb2NrZXIgVGhlcmFweSBJbmdyZWRpZW50IHdpdGggUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBIaXN0b3J5IG9mIE1vZGVyYXRlIG9yIFNldmVyZSBMVlNEIjoNCiAgZXhpc3RzICggKCBbQWxsZXJneUludG9sZXJhbmNlOiAiQmV0YSBCbG9ja2VyIFRoZXJhcHkgSW5ncmVkaWVudCJdDQogICAgICB1bmlvbiBbQWxsZXJneUludG9sZXJhbmNlOiAiU3Vic3RhbmNlIHdpdGggYmV0YSBhZHJlbmVyZ2ljIHJlY2VwdG9yIGFudGFnb25pc3QgbWVjaGFuaXNtIG9mIGFjdGlvbiAoc3Vic3RhbmNlKSJdICkgQmV0YUJsb2NrZXJBbGxlcmd5SW50b2xlcmFuY2UNCiAgICAgIHdoZXJlIEJldGFCbG9ja2VyQWxsZXJneUludG9sZXJhbmNlLm92ZXJsYXBzQWZ0ZXJEYXlPZkVuY291bnRlciAoICJRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIgYW5kIEhpc3Rvcnkgb2YgTW9kZXJhdGUgb3IgU2V2ZXJlIExWU0QiICkNCiAgKQoKLy8gVE9ETzogaHR0cHM6Ly9vbmNwcm9qZWN0cmFja2luZy5oZWFsdGhpdC5nb3Yvc3VwcG9ydC9wcm9qZWN0cy9NQURJRS9pc3N1ZXMvTUFESUUtMjEyNAovLyBFeHBlY3RpbmcgMSBmYWlsdXJlcyBwZXIgcG9wdWxhdGlvbiB1bnRpbCB0aGlzIHRyYW5zbGF0b3IgaXNzdWUgaXMgaW5jb3Jwb3JhdGVkIGludG8gTUFEaUUNCg0KDQoNCmRlZmluZSAiSGFzIE1lZGljYWwgb3IgUGF0aWVudCBSZWFzb24gZm9yIE5vdCBPcmRlcmluZyBCZXRhIEJsb2NrZXIgZm9yIExWU0QiOg0KICBleGlzdHMgKCBbTWVkaWNhdGlvbk5vdFJlcXVlc3RlZDogbWVkaWNhdGlvbiBpbiAiQmV0YSBCbG9ja2VyIFRoZXJhcHkgZm9yIExWU0QiXSBOb0JldGFCbG9ja2VyRm9yTFZTRE9yZGVyZWQNCiAgICAgIHdpdGggIlF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgSGlzdG9yeSBvZiBNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCIgTFZTRFZpc2l0DQogICAgICAgIHN1Y2ggdGhhdCBOb0JldGFCbG9ja2VyRm9yTFZTRE9yZGVyZWQuYXV0aG9yZWRPbiBkdXJpbmcgZGF5IG9mIExWU0RWaXNpdC5wZXJpb2QNCiAgICAgIHdoZXJlIE5vQmV0YUJsb2NrZXJGb3JMVlNET3JkZXJlZC5zdGF0dXMgaW4geyAnYWN0aXZlJywgJ2NvbXBsZXRlZCcgfQ0KICAgICAgICBhbmQgTm9CZXRhQmxvY2tlckZvckxWU0RPcmRlcmVkLmludGVudCBpbiB7ICdvcmRlcicsICdvcmlnaW5hbC1vcmRlcicsICdyZWZsZXgtb3JkZXInLCAnZmlsbGVyLW9yZGVyJywgJ2luc3RhbmNlLW9yZGVyJyB9DQogICAgICAgIGFuZCAoIE5vQmV0YUJsb2NrZXJGb3JMVlNET3JkZXJlZC5yZWFzb25Db2RlIGluICJNZWRpY2FsIFJlYXNvbiINCiAgICAgICAgICAgIG9yIE5vQmV0YUJsb2NrZXJGb3JMVlNET3JkZXJlZC5yZWFzb25Db2RlIGluICJQYXRpZW50IFJlYXNvbiINCiAgICAgICAgKQ0KICApCiAKLy8gVE9ETzogaHR0cHM6Ly9vbmNwcm9qZWN0cmFja2luZy5oZWFsdGhpdC5nb3Yvc3VwcG9ydC9wcm9qZWN0cy9NQURJRS9pc3N1ZXMvTUFESUUtMjEyNAovLyBFeHBlY3RpbmcgMSBmYWlsdXJlcyBwZXIgcG9wdWxhdGlvbiB1bnRpbCB0aGlzIHRyYW5zbGF0b3IgaXNzdWUgaXMgaW5jb3Jwb3JhdGVkIGludG8gTUFEaUUNCg0KDQoNCmRlZmluZSAiSGFzIE1lZGljYWwgb3IgUGF0aWVudCBSZWFzb24gZm9yIE5vdCBPcmRlcmluZyBCZXRhIEJsb2NrZXIgVGhlcmFweSI6DQogIGV4aXN0cyAoIFtNZWRpY2F0aW9uTm90UmVxdWVzdGVkOiBtZWRpY2F0aW9uIGluICJCZXRhIEJsb2NrZXIgVGhlcmFweSBmb3IgTFZTRCJdIE5vQmV0YUJsb2NrZXJGb3JMVlNET3JkZXJlZA0KICAgICAgd2l0aCAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIGFuZCBQcmlvciBNSSIgUHJpb3JNSVZpc2l0DQogICAgICAgIHN1Y2ggdGhhdCBOb0JldGFCbG9ja2VyRm9yTFZTRE9yZGVyZWQuYXV0aG9yZWRPbiBkdXJpbmcgZGF5IG9mIFByaW9yTUlWaXNpdC5wZXJpb2QNCiAgICAgIHdoZXJlIE5vQmV0YUJsb2NrZXJGb3JMVlNET3JkZXJlZC5zdGF0dXMgaW4geyAnYWN0aXZlJywgJ2NvbXBsZXRlZCcgfQ0KICAgICAgICBhbmQgTm9CZXRhQmxvY2tlckZvckxWU0RPcmRlcmVkLmludGVudCBpbiB7ICdvcmRlcicsICdvcmlnaW5hbC1vcmRlcicsICdyZWZsZXgtb3JkZXInLCAnZmlsbGVyLW9yZGVyJywgJ2luc3RhbmNlLW9yZGVyJyB9DQogICAgICAgIGFuZCAoIE5vQmV0YUJsb2NrZXJGb3JMVlNET3JkZXJlZC5yZWFzb25Db2RlIGluICJNZWRpY2FsIFJlYXNvbiINCiAgICAgICAgICAgIG9yIE5vQmV0YUJsb2NrZXJGb3JMVlNET3JkZXJlZC5yZWFzb25Db2RlIGluICJQYXRpZW50IFJlYXNvbiINCiAgICAgICAgKQ0KICApDQoNCmRlZmluZSAiSW5pdGlhbCBQb3B1bGF0aW9uIjoNCiAgQWdlSW5ZZWFyc0F0KGRhdGUgZnJvbSBzdGFydCBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIikgPj0gMTgNCiAgICBhbmQgZXhpc3RzICggIlF1YWxpZnlpbmcgRW5jb3VudGVyIER1cmluZyBNZWFzdXJlbWVudCBQZXJpb2QiIEVuY291bnRlcjENCiAgICAgICAgd2l0aCAiUXVhbGlmeWluZyBFbmNvdW50ZXIgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCIgRW5jb3VudGVyMg0KICAgICAgICAgIHN1Y2ggdGhhdCBFbmNvdW50ZXIyLmlkICF+IEVuY291bnRlcjEuaWQNCiAgICApDQogICAgYW5kIGV4aXN0cyAiUXVhbGlmeWluZyBDQUQgRW5jb3VudGVyIg0KDQpkZWZpbmUgIlF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciBhbmQgSGlzdG9yeSBvZiBNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCI6DQogICJRdWFsaWZ5aW5nIENBRCBFbmNvdW50ZXIiIEVuY291bnRlcldpdGhDQURQcm94eQ0KICAgIHdpdGggQUhBLiJNb2RlcmF0ZSBvciBTZXZlcmUgTFZTRCBGaW5kaW5ncyIgTFZTREZpbmRpbmdzDQogICAgICBzdWNoIHRoYXQgQ29hbGVzY2UoTFZTREZpbmRpbmdzLnByZXZhbGVuY2VJbnRlcnZhbCgpLCBMVlNERmluZGluZ3MuZWZmZWN0aXZlLnRvSW50ZXJ2YWwoKSkgc3RhcnRzIGJlZm9yZSBlbmQgb2YgRW5jb3VudGVyV2l0aENBRFByb3h5LnBlcmlvZA0KDQpkZWZpbmUgIkhpc3Rvcnkgb2YgQ2FyZGlhYyBTdXJnZXJ5IFByaW9yIHRvIEVuY291bnRlciI6DQogICJPdXRwYXRpZW50IEVuY291bnRlciBEdXJpbmcgTWVhc3VyZW1lbnQgUGVyaW9kIiBWYWxpZFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICB3aXRoIFtQcm9jZWR1cmU6ICJDYXJkaWFjIFN1cmdlcnkiXSBDYXJkaWFjU3VyZ2VyeVByb2NlZHVyZQ0KICAgICAgc3VjaCB0aGF0IENhcmRpYWNTdXJnZXJ5UHJvY2VkdXJlLnBlcmZvcm1lZC50b0ludGVydmFsICggKSBzdGFydHMgYmVmb3JlIGVuZCBvZiBWYWxpZFF1YWxpZnlpbmdFbmNvdW50ZXIucGVyaW9kDQogICAgICAgIGFuZCBDYXJkaWFjU3VyZ2VyeVByb2NlZHVyZS5zdGF0dXMgPSAnY29tcGxldGVkJw0KDQpkZWZpbmUgIlF1YWxpZnlpbmcgQ0FEIEVuY291bnRlciI6DQogICJDb3JvbmFyeSBBcnRlcnkgRGlzZWFzZSBFbmNvdW50ZXIiDQogICAgdW5pb24gIkhpc3Rvcnkgb2YgQ2FyZGlhYyBTdXJnZXJ5IFByaW9yIHRvIEVuY291bnRlciINCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBvdmVybGFwc0RheU9mRW5jb3VudGVyKERpYWdub3NpcyBDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zLCBFbmNvdW50ZXJMaXN0IExpc3Q8RW5jb3VudGVyPik6DQogIEFueVRydWUoRW5jb3VudGVyTGlzdCBWaXNpdA0KICAgICAgd2hlcmUgRGlhZ25vc2lzLmlzQWN0aXZlKCkNCiAgICAgIHJldHVybiBEaWFnbm9zaXMucHJldmFsZW5jZUludGVydmFsKCkgb3ZlcmxhcHMgZGF5IG9mIFZpc2l0LnBlcmlvZA0KICApDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gb3ZlcmxhcHNEYXlPZkVuY291bnRlcihEaWFnbm9zaXMgQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJucywgVGhlRW5jb3VudGVyIEVuY291bnRlcik6DQogIFRoZUVuY291bnRlciBWaXNpdA0KICAgIHdoZXJlIERpYWdub3Npcy5pc0NvbmZpcm1lZEFjdGl2ZURpYWdub3NpcyAoICkNCiAgICByZXR1cm4gRGlhZ25vc2lzLnByZXZhbGVuY2VJbnRlcnZhbCAoICkgb3ZlcmxhcHMgZGF5IG9mIFZpc2l0LnBlcmlvZA0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIG92ZXJsYXBzQWZ0ZXJEYXlPZkVuY291bnRlcihFdmVudCBDaG9pY2U8QWxsZXJneUludG9sZXJhbmNlLCBDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zPiwgRW5jb3VudGVyTGlzdCBMaXN0PEVuY291bnRlcj4pOg0KICBBbnlUcnVlKEVuY291bnRlckxpc3QgVmlzaXQNCiAgICAgIHJldHVybg0KICAgICAgY2FzZQ0KICAgICAgICB3aGVuIEV2ZW50IGlzIEFsbGVyZ3lJbnRvbGVyYW5jZSB0aGVuIEludGVydmFsW3N0YXJ0IG9mIEV2ZW50Lm9uc2V0LnRvSW50ZXJ2YWwoKSwgRXZlbnQubGFzdE9jY3VycmVuY2Vdb3ZlcmxhcHMgYWZ0ZXIgZGF5IG9mIFZpc2l0LnBlcmlvZA0KICAgICAgICAgIGFuZChFdmVudC5jbGluaWNhbFN0YXR1cyBpcyBudWxsDQogICAgICAgICAgICAgIG9yIEV2ZW50LmNsaW5pY2FsU3RhdHVzIH4gUUlDb3JlQ29tbW9uLiJhbGxlcmd5LWFjdGl2ZSINCiAgICAgICAgICApDQogICAgICAgIHdoZW4gRXZlbnQgaXMgQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJucyB0aGVuIEV2ZW50LmlzQ29uZmlybWVkQWN0aXZlRGlhZ25vc2lzKCkNCiAgICAgICAgICBhbmQgRXZlbnQucHJldmFsZW5jZUludGVydmFsKCkgb3ZlcmxhcHMgYWZ0ZXIgZGF5IG9mIFZpc2l0LnBlcmlvZA0KICAgICAgICAgIGFuZCBFdmVudC52ZXJpZmljYXRpb25TdGF0dXMgfiBRSUNvcmVDb21tb24uImNvbmZpcm1lZCIgDQogICAgICAgIGVsc2UgZmFsc2UgDQogICAgICBlbmQNCiAgKQ0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIGF1dGhvcmVkRHVyaW5nRGF5T2ZFbmNvdW50ZXIoT3JkZXIgQ2hvaWNlPE1lZGljYXRpb25SZXF1ZXN0LCBNZWRpY2F0aW9uTm90UmVxdWVzdGVkPiwgRW5jb3VudGVyTGlzdCBMaXN0PEVuY291bnRlcj4pOg0KICBBbnlUcnVlKEVuY291bnRlckxpc3QgVmlzaXQNCiAgICAgIHJldHVybg0KICAgICAgY2FzZQ0KICAgICAgICB3aGVuIE9yZGVyIGlzIE1lZGljYXRpb25SZXF1ZXN0IHRoZW4gT3JkZXIuYXV0aG9yZWRPbiBkdXJpbmcgZGF5IG9mIFZpc2l0LnBlcmlvZA0KICAgICAgICAgIGFuZCBPcmRlci5zdGF0dXMgaW4geyAnYWN0aXZlJywgJ2NvbXBsZXRlZCcgfQ0KICAgICAgICAgIGFuZCBPcmRlci5pbnRlbnQgaW4geyAnb3JkZXInLCAnb3JpZ2luYWwtb3JkZXInLCAncmVmbGV4LW9yZGVyJywgJ2ZpbGxlci1vcmRlcicsICdpbnN0YW5jZS1vcmRlcicgfQ0KICAgICAgICAgIGFuZCBPcmRlci5kb05vdFBlcmZvcm0gaXMgbm90IHRydWUNCiAgICAgICAgd2hlbiBPcmRlciBpcyBNZWRpY2F0aW9uTm90UmVxdWVzdGVkIHRoZW4gT3JkZXIuYXV0aG9yZWRPbiBkdXJpbmcgZGF5IG9mIFZpc2l0LnBlcmlvZA0KICAgICAgICAgIGFuZCBPcmRlci5pbnRlbnQgaW4geyAnb3JkZXInLCAnb3JpZ2luYWwtb3JkZXInLCAncmVmbGV4LW9yZGVyJywgJ2ZpbGxlci1vcmRlcicsICdpbnN0YW5jZS1vcmRlcicgfSANCiAgICAgICAgZWxzZSBmYWxzZSANCiAgICAgIGVuZA0KICAp"
  } ]
}