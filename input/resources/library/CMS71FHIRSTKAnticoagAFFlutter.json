{
  "resourceType": "Library",
  "id": "CMS71FHIRSTKAnticoagAFFlutter",
  "meta": {
    "profile": [ "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-computablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-executablelibrary", "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-json-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-xml-library" ]
  },
  "language": "en",
  "text": {
    "status": "extensions",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"col-12\">  \n         <table xmlns=\"null\" class=\"narrative-table\"> \n            <tbody xmlns=\"http://www.w3.org/1999/xhtml\"> \n               <tr> \n                  <th colspan=\"2\" scope=\"row\" class=\"row-header\">Knowledge Artifact Metadata</th> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Name (machine-readable)</th> \n                  <td class=\"content-container\">CMS71FHIRSTKAnticoagAFFlutter</td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Title (human-readable)</th> \n                  <td class=\"content-container\">CMS71FHIRSTKAnticoagAFFlutter</td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Status</th> \n                  <td class=\"content-container\">active</td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Experimental</th> \n                  <td class=\"content-container\">false</td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Description</th> \n                  <td class=\"content-container\">CMS71FHIRSTKAnticoagAFFlutter</td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Library Steward</th> \n                  <td class=\"content-container\">The Joint Commission</td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Library SDE \n                     <br/> \n                     <em>Resource</em>: https://madie.cms.gov/Library/SupplementalDataElements|5.1.000 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>https://madie.cms.gov/Library/SupplementalDataElements|5.1.000</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Library TJC \n                     <br/> \n                     <em>Resource</em>: https://madie.cms.gov/Library/TJCOverall|8.24.000 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>https://madie.cms.gov/Library/TJCOverall|8.24.000</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Library QICoreCommon \n                     <br/> \n                     <em>Resource</em>: https://madie.cms.gov/Library/QICoreCommon|4.0.000 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>https://madie.cms.gov/Library/QICoreCommon|4.0.000</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Library CQMCommon \n                     <br/> \n                     <em>Resource</em>: https://madie.cms.gov/Library/CQMCommon|4.1.000 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>https://madie.cms.gov/Library/CQMCommon|4.1.000</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Code system TaskCode \n                     <br/> \n                     <em>Resource</em>: http://hl7.org/fhir/CodeSystem/task-code \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://hl7.org/fhir/CodeSystem/task-code</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Value set Atrial Ablation \n                     <br/> \n                     <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.203 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.203</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Value set History of Atrial Ablation \n                     <br/> \n                     <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.76 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.76</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Value set Atrial Fibrillation or Flutter \n                     <br/> \n                     <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Value set Anticoagulant Therapy \n                     <br/> \n                     <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.200 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.200</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Value set Discharge To Acute Care Facility \n                     <br/> \n                     <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.87 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.87</tt>  \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Value set Left Against Medical Advice \n                     <br/> \n                     <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.308 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.308</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Value set Patient Expired \n                     <br/> \n                     <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.309 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.309</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Value set Discharged to Home for Hospice Care \n                     <br/> \n                     <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.209 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.209</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Value set Discharged to Health Care Facility for Hospice Care \n                     <br/> \n                     <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.207 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.207</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Value set Medical Reason For Not Providing Treatment \n                     <br/> \n                     <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Dependency</th> \n                  <td class=\"content-container\"> \n                     <em>Description</em>: Value set Patient Refusal \n                     <br/> \n                     <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93 \n                     <br/> \n                     <em>Canonical URL</em>: \n                     <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93</tt> \n                  </td> \n               </tr> \n               <tr> \n                  <th colspan=\"2\" scope=\"row\" class=\"row-header\">Library Metadata</th> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Identifier</th> \n                  <td class=\"content-container\">org.hl7.fhir.r5.model.Identifier@3336fd23</td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Version Number</th> \n                  <td class=\"content-container\">0.3.002</td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Library Type</th> \n                  <td class=\"content-container\">[http://terminology.hl7.org/CodeSystem/library-type#logic-library]</td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Data Requirement</th> \n                  <td class=\"content-container\"> \n                     <em>Type</em>: Procedure \n                     <br/> \n                     <em>Profile(s)</em>:  http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure \n                     <br/> \n                     <em>Must Support Elements</em>: code, status, status.value, performed \n                     <br/> \n                     <em>Code Filter(s)</em>: \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>Path</em>: code \n                     </span> \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>ValueSet</em>: \n                     </span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.203 \n                     <br/> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Data Requirement</th> \n                  <td class=\"content-container\"> \n                     <em>Type</em>: Condition \n                     <br/> \n                     <em>Profile(s)</em>:  http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns \n                     <br/> \n                     <em>Must Support Elements</em>: code, verificationStatus, onset \n                     <br/> \n                     <em>Code Filter(s)</em>: \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>Path</em>: code \n                     </span> \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>ValueSet</em>: \n                     </span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.76 \n                     <br/> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Data Requirement</th> \n                  <td class=\"content-container\"> \n                     <em>Type</em>: Condition \n                     <br/> \n                     <em>Profile(s)</em>:  http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns \n                     <br/> \n                     <em>Must Support Elements</em>: code, verificationStatus, onset \n                     <br/> \n                     <em>Code Filter(s)</em>: \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>Path</em>: code \n                     </span> \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>ValueSet</em>: \n                     </span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202 \n                     <br/> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Data Requirement</th> \n                  <td class=\"content-container\"> \n                     <em>Type</em>: Observation \n                     <br/> \n                     <em>Profile(s)</em>:  http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-simple-observation \n                     <br/> \n                     <em>Must Support Elements</em>: code, status, status.value, effective \n                     <br/> \n                     <em>Code Filter(s)</em>: \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>Path</em>: code \n                     </span> \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>ValueSet</em>: \n                     </span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.76 \n                     <br/> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Data Requirement</th> \n                  <td class=\"content-container\"> \n                     <em>Type</em>: Condition \n                     <br/> \n                     <em>Profile(s)</em>:  http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-encounter-diagnosis \n                     <br/> \n                     <em>Must Support Elements</em>: code, verificationStatus, onset \n                     <br/> \n                     <em>Code Filter(s)</em>: \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>Path</em>: code \n                     </span> \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>ValueSet</em>: \n                     </span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.76 \n                     <br/> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Data Requirement</th> \n                  <td class=\"content-container\"> \n                     <em>Type</em>: MedicationRequest \n                     <br/> \n                     <em>Profile(s)</em>:  http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest \n                     <br/> \n                     <em>Must Support Elements</em>: medication, status, status.value, intent, intent.value, authoredOn, authoredOn.value \n                     <br/> \n                     <em>Code Filter(s)</em>: \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>Path</em>: medication \n                     </span> \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>ValueSet</em>: \n                     </span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.200 \n                     <br/> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Data Requirement</th> \n                  <td class=\"content-container\"> \n                     <em>Type</em>: MedicationRequest \n                     <br/> \n                     <em>Profile(s)</em>:  http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest \n                     <br/> \n                     <em>Must Support Elements</em>: medication.reference.value, status, status.value \n                     <br/> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Data Requirement</th> \n                  <td class=\"content-container\"> \n                     <em>Type</em>: Task \n                     <br/> \n                     <em>Profile(s)</em>:  http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-taskrejected \n                     <br/> \n                     <em>Must Support Elements</em>: focus, code, statusReason \n                     <br/> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Data Requirement</th> \n                  <td class=\"content-container\"> \n                     <em>Type</em>: MedicationRequest \n                     <br/> \n                     <em>Profile(s)</em>:  http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationnotrequested \n                     <br/> \n                     <em>Must Support Elements</em>: medication, reasonCode, status, status.value, intent, intent.value \n                     <br/> \n                     <em>Code Filter(s)</em>: \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>Path</em>: medication \n                     </span> \n                     <br/> \n                     <span class=\"tab-one\"> \n                        <em>ValueSet</em>: \n                     </span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.200 \n                     <br/> \n                  </td> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">Data Requirement</th> \n                  <td class=\"content-container\"> \n                     <em>Type</em>: Medication \n                     <br/> \n                     <em>Profile(s)</em>:  http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medication \n                     <br/> \n                     <em>Must Support Elements</em>: id.value, code \n                     <br/> \n                  </td> \n               </tr> \n               <tr> \n                  <th colspan=\"2\" scope=\"row\" class=\"row-header\">Library Content</th> \n               </tr> \n               <tr> \n                  <th scope=\"row\" class=\"row-header\">CQL Content</th> \n                  <td> \n                     <pre style=\"border: none;\" class=\"content-container highlight language-cql\"><code class=\"language-cql\">library CMS71FHIRSTKAnticoagAFFlutter version '0.3.002'\n\nusing QICore version '6.0.0'\n\ninclude FHIRHelpers version '4.4.000' called FHIRHelpers\ninclude CQMCommon version '4.1.000' called CQMCommon\ninclude QICoreCommon version '4.0.000' called QICoreCommon\ninclude SupplementalDataElements version '5.1.000' called SDE\ninclude TJCOverall version '8.24.000' called TJC\n\ncodesystem &quot;TaskCode&quot;: 'http://hl7.org/fhir/CodeSystem/task-code'\n\ncode &quot;fulfill&quot;: 'fulfill' from &quot;TaskCode&quot;\n\nvalueset &quot;Anticoagulant Therapy&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.200'\nvalueset &quot;Atrial Ablation&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.203'\nvalueset &quot;Atrial Fibrillation or Flutter&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.202'\nvalueset &quot;Discharge To Acute Care Facility&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.87'\nvalueset &quot;Discharged to Health Care Facility for Hospice Care&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.207'\nvalueset &quot;Discharged to Home for Hospice Care&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.209'\nvalueset &quot;History of Atrial Ablation&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1110.76'\nvalueset &quot;Left Against Medical Advice&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.308'\nvalueset &quot;Medical Reason For Not Providing Treatment&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.473'\nvalueset &quot;Patient Expired&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.309'\nvalueset &quot;Patient Refusal&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.93'\n\nparameter &quot;Measurement Period&quot; Interval&lt;DateTime&gt;\n\ncontext Patient\n\ndefine &quot;Initial Population&quot;:\n  TJC.&quot;Ischemic Stroke Encounter&quot;\n\ndefine &quot;Denominator&quot;:\n  &quot;Encounter With A History Of Atrial Ablation&quot;\n    union &quot;Encounter With Prior Or Present Diagnosis Of Atrial Fibrillation Or Flutter&quot;\n\ndefine &quot;Encounter With A History Of Atrial Ablation&quot;:\n  ( TJC.&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n      where exists ( [&quot;Procedure&quot;: &quot;Atrial Ablation&quot;] AtrialAblationProcedure\n          where AtrialAblationProcedure.status = 'completed'\n            and AtrialAblationProcedure.performed.toInterval ( ) starts before start of IschemicStrokeEncounter.period\n      )\n  )\n    union ( TJC.&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n        with [&quot;ConditionProblemsHealthConcerns&quot;: &quot;History of Atrial Ablation&quot;] AtrialAblationDiagnosis\n          such that AtrialAblationDiagnosis.verificationStatus is not null implies ( AtrialAblationDiagnosis.verificationStatus !~ QICoreCommon.&quot;refuted&quot;\n              and AtrialAblationDiagnosis.verificationStatus !~ QICoreCommon.&quot;entered-in-error&quot;\n          )\n            and AtrialAblationDiagnosis.onset.toInterval ( ) starts before start of IschemicStrokeEncounter.period\n    )\n    union ( TJC.&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n        with [&quot;SimpleObservation&quot;: &quot;History of Atrial Ablation&quot;] AtrialAblationObservation\n          such that AtrialAblationObservation.status in { 'final', 'amended', 'corrected' }\n            and AtrialAblationObservation.effective.earliest ( ) on or before end of IschemicStrokeEncounter.period\n    )\n    union ( TJC.&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n        with [&quot;ConditionEncounterDiagnosis&quot;: &quot;History of Atrial Ablation&quot;] AtrialAblationEncDiagnosis\n          such that AtrialAblationEncDiagnosis.verificationStatus is not null implies ( AtrialAblationEncDiagnosis.verificationStatus !~ QICoreCommon.&quot;refuted&quot;\n              and AtrialAblationEncDiagnosis.verificationStatus !~ QICoreCommon.&quot;entered-in-error&quot;\n          )\n            and AtrialAblationEncDiagnosis.onset.toInterval ( ) starts before start of IschemicStrokeEncounter.period\n    )\n\ndefine &quot;Encounter With Prior Or Present Diagnosis Of Atrial Fibrillation Or Flutter&quot;:\n  ( TJC.&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n      with [&quot;ConditionProblemsHealthConcerns&quot;: &quot;Atrial Fibrillation or Flutter&quot;] AtrialFibrillationFlutter\n        such that AtrialFibrillationFlutter.verificationStatus is not null implies ( AtrialFibrillationFlutter.verificationStatus !~ QICoreCommon.&quot;refuted&quot;\n            and AtrialFibrillationFlutter.verificationStatus !~ QICoreCommon.&quot;entered-in-error&quot;\n        )\n          and AtrialFibrillationFlutter.onset.toInterval ( ) starts on or before end of IschemicStrokeEncounter.period\n  )\n    union TJC.&quot;Ischemic Stroke Encounter&quot; IschemicStrokeEncounter\n      where exists ( ( IschemicStrokeEncounter.encounterDiagnosis ( ) ) EncounterDiagnosis\n          where EncounterDiagnosis.code in &quot;Atrial Fibrillation or Flutter&quot;\n      )\n\ndefine &quot;Denominator Exclusions&quot;:\n  ( &quot;Denominator&quot; Encounter\n      where Encounter.status = 'finished'\n        and ( Encounter.hospitalization.dischargeDisposition in &quot;Discharge To Acute Care Facility&quot;\n            or Encounter.hospitalization.dischargeDisposition in &quot;Left Against Medical Advice&quot;\n            or Encounter.hospitalization.dischargeDisposition in &quot;Patient Expired&quot;\n            or Encounter.hospitalization.dischargeDisposition in &quot;Discharged to Home for Hospice Care&quot;\n            or Encounter.hospitalization.dischargeDisposition in &quot;Discharged to Health Care Facility for Hospice Care&quot;\n        )\n  )\n    union &quot;Encounter With Comfort Measures During Hospitalization For Patients With Documented Atrial Fibrillation Or Flutter&quot;\n\ndefine &quot;Encounter With Comfort Measures During Hospitalization For Patients With Documented Atrial Fibrillation Or Flutter&quot;:\n  &quot;Denominator&quot; Encounter\n    with TJC.&quot;Intervention Comfort Measures&quot; ComfortMeasure\n      such that Coalesce(start of ComfortMeasure.performed.toInterval(), ComfortMeasure.authoredOn) during Encounter.hospitalizationWithObservation ( )\n\ndefine &quot;Numerator&quot;:\n  &quot;Denominator&quot; Encounter\n    with [&quot;MedicationRequest&quot;: medication in &quot;Anticoagulant Therapy&quot;] DischargeAnticoagulant\n      such that DischargeAnticoagulant.status in { 'active', 'completed' }\n        and DischargeAnticoagulant.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\n        and ( DischargeAnticoagulant.isCommunity ( )\n            or DischargeAnticoagulant.isDischarge ( )\n        )\n        and DischargeAnticoagulant.authoredOn during Encounter.period\n        and not exists ( [&quot;TaskRejected&quot;] TaskReject\n            where TaskReject.focus.references ( DischargeAnticoagulant )\n              and TaskReject.code ~ &quot;fulfill&quot;\n        )\n\ndefine &quot;Denominator Exceptions&quot;:\n  &quot;Denominator&quot; Encounter\n    with &quot;Documented Reason For Not Giving Anticoagulant At Discharge&quot; NoDischargeAnticoagulant\n      such that NoDischargeAnticoagulant.authoredOn during Encounter.period\n\ndefine &quot;Documented Reason For Not Giving Anticoagulant At Discharge&quot;:\n  ( [&quot;MedicationNotRequested&quot;: medication in &quot;Anticoagulant Therapy&quot;] NoAnticoagulant\n      where ( NoAnticoagulant.reasonCode in &quot;Medical Reason For Not Providing Treatment&quot;\n          or NoAnticoagulant.reasonCode in &quot;Patient Refusal&quot;\n      )\n        and ( NoAnticoagulant.isCommunity ( )\n            or NoAnticoagulant.isDischarge ( )\n        )\n        and NoAnticoagulant.status in { 'active', 'completed' }\n        and NoAnticoagulant.intent in { 'order', 'original-order', 'reflex-order', 'filler-order', 'instance-order' }\n  )\n    union ( [&quot;MedicationRequest&quot;: &quot;Anticoagulant Therapy&quot;] MedReqAntiCoagulant\n        with [&quot;TaskRejected&quot;] TaskReject\n          such that TaskReject.focus.references ( MedReqAntiCoagulant )\n            and ( TaskReject.statusReason in &quot;Medical Reason For Not Providing Treatment&quot;\n                or TaskReject.statusReason in &quot;Patient Refusal&quot;\n            )\n            and MedReqAntiCoagulant.status in { 'active', 'completed' }\n            and TaskReject.code ~ &quot;fulfill&quot;\n    )\n\ndefine &quot;SDE Ethnicity&quot;:\n  SDE.&quot;SDE Ethnicity&quot;\n\ndefine &quot;SDE Payer&quot;:\n  SDE.&quot;SDE Payer&quot;\n\ndefine &quot;SDE Race&quot;:\n  SDE.&quot;SDE Race&quot;\n\ndefine &quot;SDE Sex&quot;:\n  SDE.&quot;SDE Sex&quot;</code></pre> \n                  </td> \n               </tr> \n               <tr> \n                  <th colspan=\"2\" scope=\"row\" class=\"row-header\">Generated using version 0.4.7 of the sample-content-ig Liquid templates</th> \n               </tr> \n            </tbody> \n         </table> \n      </div>"
  },
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.25.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": false
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "Overloads"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://hl7.org/fhir/CodeSystem/task-code",
      "code": "fulfill",
      "display": "fulfill"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  } ],
  "url": "https://madie.cms.gov/Library/CMS71FHIRSTKAnticoagAFFlutter",
  "identifier": [ {
    "use": "official",
    "system": "https://madie.cms.gov/login",
    "value": "CMS71FHIRSTKAnticoagAFFlutter"
  } ],
  "version": "0.3.002",
  "name": "CMS71FHIRSTKAnticoagAFFlutter",
  "title": "CMS71FHIRSTKAnticoagAFFlutter",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2025-06-20T22:06:36+00:00",
  "publisher": "The Joint Commission",
  "description": "CMS71FHIRSTKAnticoagAFFlutter",
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBDTVM3MUZISVJTVEtBbnRpY29hZ0FGRmx1dHRlciB2ZXJzaW9uICcwLjMuMDAyJw0KDQp1c2luZyBRSUNvcmUgdmVyc2lvbiAnNi4wLjAnDQoNCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC40LjAwMCcgY2FsbGVkIEZISVJIZWxwZXJzDQppbmNsdWRlIENRTUNvbW1vbiB2ZXJzaW9uICc0LjEuMDAwJyBjYWxsZWQgQ1FNQ29tbW9uDQppbmNsdWRlIFFJQ29yZUNvbW1vbiB2ZXJzaW9uICc0LjAuMDAwJyBjYWxsZWQgUUlDb3JlQ29tbW9uDQppbmNsdWRlIFN1cHBsZW1lbnRhbERhdGFFbGVtZW50cyB2ZXJzaW9uICc1LjEuMDAwJyBjYWxsZWQgU0RFDQppbmNsdWRlIFRKQ092ZXJhbGwgdmVyc2lvbiAnOC4yNC4wMDAnIGNhbGxlZCBUSkMNCg0KY29kZXN5c3RlbSAiVGFza0NvZGUiOiAnaHR0cDovL2hsNy5vcmcvZmhpci9Db2RlU3lzdGVtL3Rhc2stY29kZScNCg0KY29kZSAiZnVsZmlsbCI6ICdmdWxmaWxsJyBmcm9tICJUYXNrQ29kZSINCg0KdmFsdWVzZXQgIkFudGljb2FndWxhbnQgVGhlcmFweSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjAwJw0KdmFsdWVzZXQgIkF0cmlhbCBBYmxhdGlvbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjAzJw0KdmFsdWVzZXQgIkF0cmlhbCBGaWJyaWxsYXRpb24gb3IgRmx1dHRlciI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjAyJw0KdmFsdWVzZXQgIkRpc2NoYXJnZSBUbyBBY3V0ZSBDYXJlIEZhY2lsaXR5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjExNy4xLjcuMS44NycNCnZhbHVlc2V0ICJEaXNjaGFyZ2VkIHRvIEhlYWx0aCBDYXJlIEZhY2lsaXR5IGZvciBIb3NwaWNlIENhcmUiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjIwNycNCnZhbHVlc2V0ICJEaXNjaGFyZ2VkIHRvIEhvbWUgZm9yIEhvc3BpY2UgQ2FyZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM4ODMuMy4xMTcuMS43LjEuMjA5Jw0KdmFsdWVzZXQgIkhpc3Rvcnkgb2YgQXRyaWFsIEFibGF0aW9uIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTExMC43NicNCnZhbHVlc2V0ICJMZWZ0IEFnYWluc3QgTWVkaWNhbCBBZHZpY2UiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjMwOCcNCnZhbHVlc2V0ICJNZWRpY2FsIFJlYXNvbiBGb3IgTm90IFByb3ZpZGluZyBUcmVhdG1lbnQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjQ3MycNCnZhbHVlc2V0ICJQYXRpZW50IEV4cGlyZWQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjMwOScNCnZhbHVlc2V0ICJQYXRpZW50IFJlZnVzYWwiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjkzJw0KDQpwYXJhbWV0ZXIgIk1lYXN1cmVtZW50IFBlcmlvZCIgSW50ZXJ2YWw8RGF0ZVRpbWU+DQoNCmNvbnRleHQgUGF0aWVudA0KDQpkZWZpbmUgIkluaXRpYWwgUG9wdWxhdGlvbiI6DQogIFRKQy4iSXNjaGVtaWMgU3Ryb2tlIEVuY291bnRlciINCg0KZGVmaW5lICJEZW5vbWluYXRvciI6DQogICJFbmNvdW50ZXIgV2l0aCBBIEhpc3RvcnkgT2YgQXRyaWFsIEFibGF0aW9uIg0KICAgIHVuaW9uICJFbmNvdW50ZXIgV2l0aCBQcmlvciBPciBQcmVzZW50IERpYWdub3NpcyBPZiBBdHJpYWwgRmlicmlsbGF0aW9uIE9yIEZsdXR0ZXIiDQoNCmRlZmluZSAiRW5jb3VudGVyIFdpdGggQSBIaXN0b3J5IE9mIEF0cmlhbCBBYmxhdGlvbiI6DQogICggVEpDLiJJc2NoZW1pYyBTdHJva2UgRW5jb3VudGVyIiBJc2NoZW1pY1N0cm9rZUVuY291bnRlcg0KICAgICAgd2hlcmUgZXhpc3RzICggWyJQcm9jZWR1cmUiOiAiQXRyaWFsIEFibGF0aW9uIl0gQXRyaWFsQWJsYXRpb25Qcm9jZWR1cmUNCiAgICAgICAgICB3aGVyZSBBdHJpYWxBYmxhdGlvblByb2NlZHVyZS5zdGF0dXMgPSAnY29tcGxldGVkJw0KICAgICAgICAgICAgYW5kIEF0cmlhbEFibGF0aW9uUHJvY2VkdXJlLnBlcmZvcm1lZC50b0ludGVydmFsICggKSBzdGFydHMgYmVmb3JlIHN0YXJ0IG9mIElzY2hlbWljU3Ryb2tlRW5jb3VudGVyLnBlcmlvZA0KICAgICAgKQ0KICApDQogICAgdW5pb24gKCBUSkMuIklzY2hlbWljIFN0cm9rZSBFbmNvdW50ZXIiIElzY2hlbWljU3Ryb2tlRW5jb3VudGVyDQogICAgICAgIHdpdGggWyJDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zIjogIkhpc3Rvcnkgb2YgQXRyaWFsIEFibGF0aW9uIl0gQXRyaWFsQWJsYXRpb25EaWFnbm9zaXMNCiAgICAgICAgICBzdWNoIHRoYXQgQXRyaWFsQWJsYXRpb25EaWFnbm9zaXMudmVyaWZpY2F0aW9uU3RhdHVzIGlzIG5vdCBudWxsIGltcGxpZXMgKCBBdHJpYWxBYmxhdGlvbkRpYWdub3Npcy52ZXJpZmljYXRpb25TdGF0dXMgIX4gUUlDb3JlQ29tbW9uLiJyZWZ1dGVkIg0KICAgICAgICAgICAgICBhbmQgQXRyaWFsQWJsYXRpb25EaWFnbm9zaXMudmVyaWZpY2F0aW9uU3RhdHVzICF+IFFJQ29yZUNvbW1vbi4iZW50ZXJlZC1pbi1lcnJvciINCiAgICAgICAgICApDQogICAgICAgICAgICBhbmQgQXRyaWFsQWJsYXRpb25EaWFnbm9zaXMub25zZXQudG9JbnRlcnZhbCAoICkgc3RhcnRzIGJlZm9yZSBzdGFydCBvZiBJc2NoZW1pY1N0cm9rZUVuY291bnRlci5wZXJpb2QNCiAgICApDQogICAgdW5pb24gKCBUSkMuIklzY2hlbWljIFN0cm9rZSBFbmNvdW50ZXIiIElzY2hlbWljU3Ryb2tlRW5jb3VudGVyDQogICAgICAgIHdpdGggWyJTaW1wbGVPYnNlcnZhdGlvbiI6ICJIaXN0b3J5IG9mIEF0cmlhbCBBYmxhdGlvbiJdIEF0cmlhbEFibGF0aW9uT2JzZXJ2YXRpb24NCiAgICAgICAgICBzdWNoIHRoYXQgQXRyaWFsQWJsYXRpb25PYnNlcnZhdGlvbi5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgICAgIGFuZCBBdHJpYWxBYmxhdGlvbk9ic2VydmF0aW9uLmVmZmVjdGl2ZS5lYXJsaWVzdCAoICkgb24gb3IgYmVmb3JlIGVuZCBvZiBJc2NoZW1pY1N0cm9rZUVuY291bnRlci5wZXJpb2QNCiAgICApDQogICAgdW5pb24gKCBUSkMuIklzY2hlbWljIFN0cm9rZSBFbmNvdW50ZXIiIElzY2hlbWljU3Ryb2tlRW5jb3VudGVyDQogICAgICAgIHdpdGggWyJDb25kaXRpb25FbmNvdW50ZXJEaWFnbm9zaXMiOiAiSGlzdG9yeSBvZiBBdHJpYWwgQWJsYXRpb24iXSBBdHJpYWxBYmxhdGlvbkVuY0RpYWdub3Npcw0KICAgICAgICAgIHN1Y2ggdGhhdCBBdHJpYWxBYmxhdGlvbkVuY0RpYWdub3Npcy52ZXJpZmljYXRpb25TdGF0dXMgaXMgbm90IG51bGwgaW1wbGllcyAoIEF0cmlhbEFibGF0aW9uRW5jRGlhZ25vc2lzLnZlcmlmaWNhdGlvblN0YXR1cyAhfiBRSUNvcmVDb21tb24uInJlZnV0ZWQiDQogICAgICAgICAgICAgIGFuZCBBdHJpYWxBYmxhdGlvbkVuY0RpYWdub3Npcy52ZXJpZmljYXRpb25TdGF0dXMgIX4gUUlDb3JlQ29tbW9uLiJlbnRlcmVkLWluLWVycm9yIg0KICAgICAgICAgICkNCiAgICAgICAgICAgIGFuZCBBdHJpYWxBYmxhdGlvbkVuY0RpYWdub3Npcy5vbnNldC50b0ludGVydmFsICggKSBzdGFydHMgYmVmb3JlIHN0YXJ0IG9mIElzY2hlbWljU3Ryb2tlRW5jb3VudGVyLnBlcmlvZA0KICAgICkNCg0KZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBQcmlvciBPciBQcmVzZW50IERpYWdub3NpcyBPZiBBdHJpYWwgRmlicmlsbGF0aW9uIE9yIEZsdXR0ZXIiOg0KICAoIFRKQy4iSXNjaGVtaWMgU3Ryb2tlIEVuY291bnRlciIgSXNjaGVtaWNTdHJva2VFbmNvdW50ZXINCiAgICAgIHdpdGggWyJDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zIjogIkF0cmlhbCBGaWJyaWxsYXRpb24gb3IgRmx1dHRlciJdIEF0cmlhbEZpYnJpbGxhdGlvbkZsdXR0ZXINCiAgICAgICAgc3VjaCB0aGF0IEF0cmlhbEZpYnJpbGxhdGlvbkZsdXR0ZXIudmVyaWZpY2F0aW9uU3RhdHVzIGlzIG5vdCBudWxsIGltcGxpZXMgKCBBdHJpYWxGaWJyaWxsYXRpb25GbHV0dGVyLnZlcmlmaWNhdGlvblN0YXR1cyAhfiBRSUNvcmVDb21tb24uInJlZnV0ZWQiDQogICAgICAgICAgICBhbmQgQXRyaWFsRmlicmlsbGF0aW9uRmx1dHRlci52ZXJpZmljYXRpb25TdGF0dXMgIX4gUUlDb3JlQ29tbW9uLiJlbnRlcmVkLWluLWVycm9yIg0KICAgICAgICApDQogICAgICAgICAgYW5kIEF0cmlhbEZpYnJpbGxhdGlvbkZsdXR0ZXIub25zZXQudG9JbnRlcnZhbCAoICkgc3RhcnRzIG9uIG9yIGJlZm9yZSBlbmQgb2YgSXNjaGVtaWNTdHJva2VFbmNvdW50ZXIucGVyaW9kDQogICkNCiAgICB1bmlvbiBUSkMuIklzY2hlbWljIFN0cm9rZSBFbmNvdW50ZXIiIElzY2hlbWljU3Ryb2tlRW5jb3VudGVyDQogICAgICB3aGVyZSBleGlzdHMgKCAoIElzY2hlbWljU3Ryb2tlRW5jb3VudGVyLmVuY291bnRlckRpYWdub3NpcyAoICkgKSBFbmNvdW50ZXJEaWFnbm9zaXMNCiAgICAgICAgICB3aGVyZSBFbmNvdW50ZXJEaWFnbm9zaXMuY29kZSBpbiAiQXRyaWFsIEZpYnJpbGxhdGlvbiBvciBGbHV0dGVyIg0KICAgICAgKQ0KDQpkZWZpbmUgIkRlbm9taW5hdG9yIEV4Y2x1c2lvbnMiOg0KICAoICJEZW5vbWluYXRvciIgRW5jb3VudGVyDQogICAgICB3aGVyZSBFbmNvdW50ZXIuc3RhdHVzID0gJ2ZpbmlzaGVkJw0KICAgICAgICBhbmQgKCBFbmNvdW50ZXIuaG9zcGl0YWxpemF0aW9uLmRpc2NoYXJnZURpc3Bvc2l0aW9uIGluICJEaXNjaGFyZ2UgVG8gQWN1dGUgQ2FyZSBGYWNpbGl0eSINCiAgICAgICAgICAgIG9yIEVuY291bnRlci5ob3NwaXRhbGl6YXRpb24uZGlzY2hhcmdlRGlzcG9zaXRpb24gaW4gIkxlZnQgQWdhaW5zdCBNZWRpY2FsIEFkdmljZSINCiAgICAgICAgICAgIG9yIEVuY291bnRlci5ob3NwaXRhbGl6YXRpb24uZGlzY2hhcmdlRGlzcG9zaXRpb24gaW4gIlBhdGllbnQgRXhwaXJlZCINCiAgICAgICAgICAgIG9yIEVuY291bnRlci5ob3NwaXRhbGl6YXRpb24uZGlzY2hhcmdlRGlzcG9zaXRpb24gaW4gIkRpc2NoYXJnZWQgdG8gSG9tZSBmb3IgSG9zcGljZSBDYXJlIg0KICAgICAgICAgICAgb3IgRW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbi5kaXNjaGFyZ2VEaXNwb3NpdGlvbiBpbiAiRGlzY2hhcmdlZCB0byBIZWFsdGggQ2FyZSBGYWNpbGl0eSBmb3IgSG9zcGljZSBDYXJlIg0KICAgICAgICApDQogICkNCiAgICB1bmlvbiAiRW5jb3VudGVyIFdpdGggQ29tZm9ydCBNZWFzdXJlcyBEdXJpbmcgSG9zcGl0YWxpemF0aW9uIEZvciBQYXRpZW50cyBXaXRoIERvY3VtZW50ZWQgQXRyaWFsIEZpYnJpbGxhdGlvbiBPciBGbHV0dGVyIg0KDQpkZWZpbmUgIkVuY291bnRlciBXaXRoIENvbWZvcnQgTWVhc3VyZXMgRHVyaW5nIEhvc3BpdGFsaXphdGlvbiBGb3IgUGF0aWVudHMgV2l0aCBEb2N1bWVudGVkIEF0cmlhbCBGaWJyaWxsYXRpb24gT3IgRmx1dHRlciI6DQogICJEZW5vbWluYXRvciIgRW5jb3VudGVyDQogICAgd2l0aCBUSkMuIkludGVydmVudGlvbiBDb21mb3J0IE1lYXN1cmVzIiBDb21mb3J0TWVhc3VyZQ0KICAgICAgc3VjaCB0aGF0IENvYWxlc2NlKHN0YXJ0IG9mIENvbWZvcnRNZWFzdXJlLnBlcmZvcm1lZC50b0ludGVydmFsKCksIENvbWZvcnRNZWFzdXJlLmF1dGhvcmVkT24pIGR1cmluZyBFbmNvdW50ZXIuaG9zcGl0YWxpemF0aW9uV2l0aE9ic2VydmF0aW9uICggKQ0KDQpkZWZpbmUgIk51bWVyYXRvciI6DQogICJEZW5vbWluYXRvciIgRW5jb3VudGVyDQogICAgd2l0aCBbIk1lZGljYXRpb25SZXF1ZXN0IjogbWVkaWNhdGlvbiBpbiAiQW50aWNvYWd1bGFudCBUaGVyYXB5Il0gRGlzY2hhcmdlQW50aWNvYWd1bGFudA0KICAgICAgc3VjaCB0aGF0IERpc2NoYXJnZUFudGljb2FndWxhbnQuc3RhdHVzIGluIHsgJ2FjdGl2ZScsICdjb21wbGV0ZWQnIH0NCiAgICAgICAgYW5kIERpc2NoYXJnZUFudGljb2FndWxhbnQuaW50ZW50IGluIHsgJ29yZGVyJywgJ29yaWdpbmFsLW9yZGVyJywgJ3JlZmxleC1vcmRlcicsICdmaWxsZXItb3JkZXInLCAnaW5zdGFuY2Utb3JkZXInIH0NCiAgICAgICAgYW5kICggRGlzY2hhcmdlQW50aWNvYWd1bGFudC5pc0NvbW11bml0eSAoICkNCiAgICAgICAgICAgIG9yIERpc2NoYXJnZUFudGljb2FndWxhbnQuaXNEaXNjaGFyZ2UgKCApDQogICAgICAgICkNCiAgICAgICAgYW5kIERpc2NoYXJnZUFudGljb2FndWxhbnQuYXV0aG9yZWRPbiBkdXJpbmcgRW5jb3VudGVyLnBlcmlvZA0KICAgICAgICBhbmQgbm90IGV4aXN0cyAoIFsiVGFza1JlamVjdGVkIl0gVGFza1JlamVjdA0KICAgICAgICAgICAgd2hlcmUgVGFza1JlamVjdC5mb2N1cy5yZWZlcmVuY2VzICggRGlzY2hhcmdlQW50aWNvYWd1bGFudCApDQogICAgICAgICAgICAgIGFuZCBUYXNrUmVqZWN0LmNvZGUgfiAiZnVsZmlsbCINCiAgICAgICAgKQ0KDQpkZWZpbmUgIkRlbm9taW5hdG9yIEV4Y2VwdGlvbnMiOg0KICAiRGVub21pbmF0b3IiIEVuY291bnRlcg0KICAgIHdpdGggIkRvY3VtZW50ZWQgUmVhc29uIEZvciBOb3QgR2l2aW5nIEFudGljb2FndWxhbnQgQXQgRGlzY2hhcmdlIiBOb0Rpc2NoYXJnZUFudGljb2FndWxhbnQNCiAgICAgIHN1Y2ggdGhhdCBOb0Rpc2NoYXJnZUFudGljb2FndWxhbnQuYXV0aG9yZWRPbiBkdXJpbmcgRW5jb3VudGVyLnBlcmlvZA0KDQpkZWZpbmUgIkRvY3VtZW50ZWQgUmVhc29uIEZvciBOb3QgR2l2aW5nIEFudGljb2FndWxhbnQgQXQgRGlzY2hhcmdlIjoNCiAgKCBbIk1lZGljYXRpb25Ob3RSZXF1ZXN0ZWQiOiBtZWRpY2F0aW9uIGluICJBbnRpY29hZ3VsYW50IFRoZXJhcHkiXSBOb0FudGljb2FndWxhbnQNCiAgICAgIHdoZXJlICggTm9BbnRpY29hZ3VsYW50LnJlYXNvbkNvZGUgaW4gIk1lZGljYWwgUmVhc29uIEZvciBOb3QgUHJvdmlkaW5nIFRyZWF0bWVudCINCiAgICAgICAgICBvciBOb0FudGljb2FndWxhbnQucmVhc29uQ29kZSBpbiAiUGF0aWVudCBSZWZ1c2FsIg0KICAgICAgKQ0KICAgICAgICBhbmQgKCBOb0FudGljb2FndWxhbnQuaXNDb21tdW5pdHkgKCApDQogICAgICAgICAgICBvciBOb0FudGljb2FndWxhbnQuaXNEaXNjaGFyZ2UgKCApDQogICAgICAgICkNCiAgICAgICAgYW5kIE5vQW50aWNvYWd1bGFudC5zdGF0dXMgaW4geyAnYWN0aXZlJywgJ2NvbXBsZXRlZCcgfQ0KICAgICAgICBhbmQgTm9BbnRpY29hZ3VsYW50LmludGVudCBpbiB7ICdvcmRlcicsICdvcmlnaW5hbC1vcmRlcicsICdyZWZsZXgtb3JkZXInLCAnZmlsbGVyLW9yZGVyJywgJ2luc3RhbmNlLW9yZGVyJyB9DQogICkNCiAgICB1bmlvbiAoIFsiTWVkaWNhdGlvblJlcXVlc3QiOiAiQW50aWNvYWd1bGFudCBUaGVyYXB5Il0gTWVkUmVxQW50aUNvYWd1bGFudA0KICAgICAgICB3aXRoIFsiVGFza1JlamVjdGVkIl0gVGFza1JlamVjdA0KICAgICAgICAgIHN1Y2ggdGhhdCBUYXNrUmVqZWN0LmZvY3VzLnJlZmVyZW5jZXMgKCBNZWRSZXFBbnRpQ29hZ3VsYW50ICkNCiAgICAgICAgICAgIGFuZCAoIFRhc2tSZWplY3Quc3RhdHVzUmVhc29uIGluICJNZWRpY2FsIFJlYXNvbiBGb3IgTm90IFByb3ZpZGluZyBUcmVhdG1lbnQiDQogICAgICAgICAgICAgICAgb3IgVGFza1JlamVjdC5zdGF0dXNSZWFzb24gaW4gIlBhdGllbnQgUmVmdXNhbCINCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGFuZCBNZWRSZXFBbnRpQ29hZ3VsYW50LnN0YXR1cyBpbiB7ICdhY3RpdmUnLCAnY29tcGxldGVkJyB9DQogICAgICAgICAgICBhbmQgVGFza1JlamVjdC5jb2RlIH4gImZ1bGZpbGwiDQogICAgKQ0KDQpkZWZpbmUgIlNERSBFdGhuaWNpdHkiOg0KICBTREUuIlNERSBFdGhuaWNpdHkiDQoNCmRlZmluZSAiU0RFIFBheWVyIjoNCiAgU0RFLiJTREUgUGF5ZXIiDQoNCmRlZmluZSAiU0RFIFJhY2UiOg0KICBTREUuIlNERSBSYWNlIg0KDQpkZWZpbmUgIlNERSBTZXgiOg0KICBTREUuIlNERSBTZXgi"
  } ]
}